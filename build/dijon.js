var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
System.register("dijon/interfaces", [], function(exports_1, context_1) {
    "use strict";
    var __moduleName = context_1 && context_1.id;
    return {
        setters:[],
        execute: function() {
        }
    }
});
System.register("dijon/mvc", ["dijon/application"], function(exports_2, context_2) {
    "use strict";
    var __moduleName = context_2 && context_2.id;
    var application_1;
    var Model, CopyModel, Mediator, Notification;
    return {
        setters:[
            function (application_1_1) {
                application_1 = application_1_1;
            }],
        execute: function() {
            Model = (function () {
                function Model(dataKey, modelName) {
                    if (dataKey === void 0) { dataKey = null; }
                    if (modelName === void 0) { modelName = null; }
                    this.modelName = modelName;
                    this.app = application_1.Application.getInstance();
                    this.game = this.app.game;
                    if (dataKey) {
                        this.setData(dataKey);
                    }
                    this.app.registerModel(this);
                }
                Model.prototype.onRegister = function () {
                };
                Model.prototype.onRemoved = function () {
                };
                Model.prototype.getKeyExists = function (key) {
                    return this.game.cache.getJSON(key) !== null;
                };
                Model.prototype.setData = function (dataKey) {
                    if (!this.getKeyExists(dataKey)) {
                        console.log('Model:: cannot set data from key ' + dataKey + '. Is it in the Phaser cache?');
                        return false;
                    }
                    this._data = this.game.cache.getJSON(dataKey);
                    return this._data;
                };
                Model.prototype.getData = function () {
                    return this._data;
                };
                Model.prototype.destroy = function () {
                    this.app.removeModel(this);
                };
                Object.defineProperty(Model.prototype, "name", {
                    get: function () {
                        return this.modelName || Model.MODEL_NAME;
                    },
                    enumerable: true,
                    configurable: true
                });
                Model.MODEL_NAME = 'Model';
                return Model;
            }());
            exports_2("Model", Model);
            CopyModel = (function (_super) {
                __extends(CopyModel, _super);
                function CopyModel(dataKey) {
                    if (dataKey === void 0) { dataKey = null; }
                    _super.call(this, dataKey);
                    this._languages = {};
                    this._languages['en'] = this._data;
                }
                CopyModel.prototype.getCopy = function (groupId, itemId) {
                    return this.getCopyGroup(groupId)[itemId];
                };
                CopyModel.prototype.getCopyGroup = function (groupId) {
                    return this._data[groupId];
                };
                CopyModel.prototype.addLanguage = function (languageId, dataKey) {
                    if (!this.getKeyExists(dataKey)) {
                        throw new Error('cannot add an alternate language from key ' + dataKey + '. Is it in the Phaser cache?');
                    }
                    this._languages[languageId] = this.game.cache.getJSON(dataKey);
                };
                CopyModel.prototype.changeLanguage = function (languageId) {
                    if (typeof this._languages[languageId] === 'undefined')
                        throw new Error('there is no language ' + languageId);
                    this._data = this._languages[languageId];
                };
                Object.defineProperty(CopyModel.prototype, "name", {
                    get: function () {
                        return CopyModel.MODEL_NAME;
                    },
                    enumerable: true,
                    configurable: true
                });
                CopyModel.MODEL_NAME = 'copyModel';
                return CopyModel;
            }(Model));
            exports_2("CopyModel", CopyModel);
            Mediator = (function () {
                function Mediator(_viewComponent, autoReg, mediatorName) {
                    if (_viewComponent === void 0) { _viewComponent = null; }
                    if (autoReg === void 0) { autoReg = true; }
                    if (mediatorName === void 0) { mediatorName = null; }
                    this._viewComponent = _viewComponent;
                    this.mediatorName = null;
                    this.app = application_1.Application.getInstance();
                    this.game = this.app.game;
                    this.mediatorName = mediatorName;
                    if (autoReg) {
                        this.register();
                    }
                }
                Mediator.prototype.register = function () {
                    this.app.registerMediator(this);
                };
                Mediator.prototype.remove = function () {
                    this.app.removeMediator(this);
                };
                Mediator.prototype.onRegister = function () {
                };
                Mediator.prototype.onRemoved = function () {
                };
                Mediator.prototype.destroy = function () {
                    this.remove();
                };
                Mediator.prototype.listNotificationInterests = function () {
                    return [];
                };
                Mediator.prototype.handleNotification = function (notification) {
                };
                Mediator.prototype.sendNotification = function (notificationName, notificationBody) {
                    this.app.sendNotification(notificationName, notificationBody);
                };
                Object.defineProperty(Mediator.prototype, "viewComponent", {
                    get: function () {
                        return this._viewComponent;
                    },
                    set: function (viewComponent) {
                        this._viewComponent = viewComponent;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Mediator.prototype, "name", {
                    get: function () {
                        return this.mediatorName || Mediator.MEDIATOR_NAME;
                    },
                    enumerable: true,
                    configurable: true
                });
                Mediator.MEDIATOR_NAME = 'Mediator';
                return Mediator;
            }());
            exports_2("Mediator", Mediator);
            Notification = (function () {
                function Notification(_name, _body) {
                    if (_body === void 0) { _body = null; }
                    this._name = _name;
                    this._body = _body;
                }
                Notification.prototype.getName = function () {
                    return this._name;
                };
                Notification.prototype.setBody = function (body) {
                    this._body = body;
                };
                Notification.prototype.getBody = function () {
                    return this._body;
                };
                Notification.prototype.destroy = function () {
                    this._body = null;
                    this._name = null;
                };
                return Notification;
            }());
            exports_2("Notification", Notification);
        }
    }
});
System.register("dijon/spine/spine", [], function(exports_3, context_3) {
    "use strict";
    var __moduleName = context_3 && context_3.id;
    var Color, Curve, Angle, Vector, Position, Rotation, Scale, Space, Bone, Ikc, Slot, Attachment, RegionAttachment, BoundingBoxAttachment, MeshAttachment, SkinnedMeshAttachment, SkinSlot, Skin, Event, Keyframe, BoneKeyframe, TranslateKeyframe, RotateKeyframe, ScaleKeyframe, AnimBone, SlotKeyframe, ColorKeyframe, AttachmentKeyframe, AnimSlot, EventKeyframe, SlotOffset, OrderKeyframe, IkcKeyframe, AnimIkc, FfdKeyframe, FfdAttachment, FfdSlot, AnimFfd, Animation, Skeleton, Data, Pose;
    function loadBool(json, key, def) {
        var value = json[key];
        switch (typeof (value)) {
            case "string": return (value === "true") ? true : false;
            case "boolean": return value;
            default: return def || false;
        }
    }
    exports_3("loadBool", loadBool);
    function saveBool(json, key, value, def) {
        if ((typeof (def) !== "boolean") || (value !== def)) {
            json[key] = value;
        }
    }
    exports_3("saveBool", saveBool);
    function loadFloat(json, key, def) {
        var value = json[key];
        switch (typeof (value)) {
            case "string": return parseFloat(value);
            case "number": return value;
            default: return def || 0;
        }
    }
    exports_3("loadFloat", loadFloat);
    function saveFloat(json, key, value, def) {
        if ((typeof (def) !== "number") || (value !== def)) {
            json[key] = value;
        }
    }
    exports_3("saveFloat", saveFloat);
    function loadInt(json, key, def) {
        var value = json[key];
        switch (typeof (value)) {
            case "string": return parseInt(value, 10);
            case "number": return 0 | value;
            default: return def || 0;
        }
    }
    exports_3("loadInt", loadInt);
    function saveInt(json, key, value, def) {
        if ((typeof (def) !== "number") || (value !== def)) {
            json[key] = value;
        }
    }
    exports_3("saveInt", saveInt);
    function loadString(json, key, def) {
        var value = json[key];
        switch (typeof (value)) {
            case "string": return value;
            default: return def || "";
        }
    }
    exports_3("loadString", loadString);
    function saveString(json, key, value, def) {
        if ((typeof (def) !== "string") || (value !== def)) {
            json[key] = value;
        }
    }
    exports_3("saveString", saveString);
    function BezierCurve(x1, y1, x2, y2, epsilon) {
        if (epsilon === void 0) { epsilon = 1e-6; }
        function curveX(t) {
            var t2 = t * t;
            var t3 = t2 * t;
            var v = 1 - t;
            var v2 = v * v;
            return 3 * x1 * v2 * t + 3 * x2 * v * t2 + t3;
        }
        ;
        function curveY(t) {
            var t2 = t * t;
            var t3 = t2 * t;
            var v = 1 - t;
            var v2 = v * v;
            return 3 * y1 * v2 * t + 3 * y2 * v * t2 + t3;
        }
        ;
        function derivativeCurveX(t) {
            var t2 = t * t;
            var t3 = t2 * t;
            return 3 * x1 * t - 3 * (2 * x1 - x2) * t2 + (3 * x1 - 3 * x2 + 1) * t3;
        }
        ;
        return function (percent) {
            var x = percent;
            var t0, t1, t2, x2, d2, i;
            for (t2 = x, i = 0; i < 8; ++i) {
                x2 = curveX(t2) - x;
                if (Math.abs(x2) < epsilon)
                    return curveY(t2);
                d2 = derivativeCurveX(t2);
                if (Math.abs(d2) < epsilon)
                    break;
                t2 = t2 - (x2 / d2);
            }
            t0 = 0, t1 = 1, t2 = x;
            if (t2 < t0)
                return curveY(t0);
            if (t2 > t1)
                return curveY(t1);
            while (t0 < t1) {
                x2 = curveX(t2);
                if (Math.abs(x2 - x) < epsilon)
                    return curveY(t2);
                if (x > x2)
                    t0 = t2;
                else
                    t1 = t2;
                t2 = (t1 - t0) * 0.5 + t0;
            }
            return curveY(t2);
        };
    }
    function StepBezierCurve(cx1, cy1, cx2, cy2) {
        var bezierSegments = 10;
        var subdiv_step = 1 / bezierSegments;
        var subdiv_step2 = subdiv_step * subdiv_step;
        var subdiv_step3 = subdiv_step2 * subdiv_step;
        var pre1 = 3 * subdiv_step;
        var pre2 = 3 * subdiv_step2;
        var pre4 = 6 * subdiv_step2;
        var pre5 = 6 * subdiv_step3;
        var tmp1x = -cx1 * 2 + cx2;
        var tmp1y = -cy1 * 2 + cy2;
        var tmp2x = (cx1 - cx2) * 3 + 1;
        var tmp2y = (cy1 - cy2) * 3 + 1;
        var curves_0 = (cx1 * pre1 + tmp1x * pre2 + tmp2x * subdiv_step3);
        var curves_1 = (cy1 * pre1 + tmp1y * pre2 + tmp2y * subdiv_step3);
        var curves_2 = (tmp1x * pre4 + tmp2x * pre5);
        var curves_3 = (tmp1y * pre4 + tmp2y * pre5);
        var curves_4 = (tmp2x * pre5);
        var curves_5 = (tmp2y * pre5);
        return function (percent) {
            var dfx = curves_0;
            var dfy = curves_1;
            var ddfx = curves_2;
            var ddfy = curves_3;
            var dddfx = curves_4;
            var dddfy = curves_5;
            var x = dfx, y = dfy;
            var i = bezierSegments - 2;
            while (true) {
                if (x >= percent) {
                    var lastX = x - dfx;
                    var lastY = y - dfy;
                    return lastY + (y - lastY) * (percent - lastX) / (x - lastX);
                }
                if (i === 0)
                    break;
                i--;
                dfx += ddfx;
                dfy += ddfy;
                ddfx += dddfx;
                ddfy += dddfy;
                x += dfx;
                y += dfy;
            }
            return y + (1 - y) * (percent - x) / (1 - x);
        };
    }
    exports_3("StepBezierCurve", StepBezierCurve);
    function wrap(num, min, max) {
        if (min < max) {
            if (num < min) {
                return max - ((min - num) % (max - min));
            }
            else {
                return min + ((num - min) % (max - min));
            }
        }
        else if (min === max) {
            return min;
        }
        else {
            return num;
        }
    }
    exports_3("wrap", wrap);
    function tween(a, b, t) {
        return a + ((b - a) * t);
    }
    exports_3("tween", tween);
    function wrapAngleRadians(angle) {
        if (angle <= 0) {
            return ((angle - Math.PI) % (2 * Math.PI)) + Math.PI;
        }
        else {
            return ((angle + Math.PI) % (2 * Math.PI)) - Math.PI;
        }
    }
    exports_3("wrapAngleRadians", wrapAngleRadians);
    function tweenAngle(a, b, t) {
        return wrapAngleRadians(a + (wrapAngleRadians(b - a) * t));
    }
    exports_3("tweenAngle", tweenAngle);
    return {
        setters:[],
        execute: function() {
            Color = (function () {
                function Color() {
                    this.r = 1.0;
                    this.g = 1.0;
                    this.b = 1.0;
                    this.a = 1.0;
                }
                Color.prototype.copy = function (other) {
                    this.r = other.r;
                    this.g = other.g;
                    this.b = other.b;
                    this.a = other.a;
                    return this;
                };
                Color.prototype.load = function (json) {
                    var color = this;
                    var rgba = 0xffffffff;
                    switch (typeof (json)) {
                        case "string":
                            rgba = parseInt(json, 16);
                            break;
                        case "number":
                            rgba = 0 | json;
                            break;
                        default:
                            rgba = 0xffffffff;
                            break;
                    }
                    color.r = ((rgba >> 24) & 0xff) / 255;
                    color.g = ((rgba >> 16) & 0xff) / 255;
                    color.b = ((rgba >> 8) & 0xff) / 255;
                    color.a = (rgba & 0xff) / 255;
                    return color;
                };
                Color.prototype.toString = function () {
                    var color = this;
                    return "rgba(" + (color.r * 255).toFixed(0) + "," + (color.g * 255).toFixed(0) + "," + (color.b * 255).toFixed(0) + "," + color.a + ")";
                };
                return Color;
            }());
            exports_3("Color", Color);
            Curve = (function () {
                function Curve() {
                    this.evaluate = function (t) { return t; };
                }
                Curve.prototype.load = function (json) {
                    this.evaluate = function (t) { return t; };
                    if ((typeof (json) === "string") && (json === "stepped")) {
                        this.evaluate = function (t) { return 0; };
                    }
                    else if ((typeof (json) === "object") && (typeof (json.length) === "number") && (json.length === 4)) {
                        var x1 = loadFloat(json, 0, 0);
                        var y1 = loadFloat(json, 1, 0);
                        var x2 = loadFloat(json, 2, 1);
                        var y2 = loadFloat(json, 3, 1);
                        this.evaluate = StepBezierCurve(x1, y1, x2, y2);
                    }
                    return this;
                };
                return Curve;
            }());
            exports_3("Curve", Curve);
            Angle = (function () {
                function Angle(rad) {
                    this.rad = 0.0;
                    this.rad = rad || 0.0;
                }
                Object.defineProperty(Angle.prototype, "deg", {
                    get: function () { return this.rad * 180.0 / Math.PI; },
                    set: function (value) { this.rad = value * Math.PI / 180.0; },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Angle.prototype, "cos", {
                    get: function () { return Math.cos(this.rad); },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Angle.prototype, "sin", {
                    get: function () { return Math.sin(this.rad); },
                    enumerable: true,
                    configurable: true
                });
                Angle.prototype.selfIdentity = function () { this.rad = 0.0; return this; };
                Angle.prototype.copy = function (other) { this.rad = other.rad; return this; };
                return Angle;
            }());
            exports_3("Angle", Angle);
            Vector = (function () {
                function Vector(x, y) {
                    if (x === void 0) { x = 0.0; }
                    if (y === void 0) { y = 0.0; }
                    this.x = 0.0;
                    this.y = 0.0;
                    this.x = x;
                    this.y = y;
                }
                Vector.prototype.copy = function (other) {
                    this.x = other.x;
                    this.y = other.y;
                    return this;
                };
                Vector.equal = function (a, b, epsilon) {
                    if (epsilon === void 0) { epsilon = 1e-6; }
                    if (Math.abs(a.x - b.x) > epsilon) {
                        return false;
                    }
                    if (Math.abs(a.y - b.y) > epsilon) {
                        return false;
                    }
                    return true;
                };
                Vector.add = function (a, b, out) {
                    if (out === void 0) { out = new Vector(); }
                    out.x = a.x + b.x;
                    out.y = a.y + b.y;
                    return out;
                };
                Vector.prototype.add = function (other, out) {
                    if (out === void 0) { out = new Vector(); }
                    return Vector.add(this, other, out);
                };
                Vector.prototype.selfAdd = function (other) {
                    this.x += other.x;
                    this.y += other.y;
                    return this;
                };
                Vector.tween = function (a, b, pct, out) {
                    if (out === void 0) { out = new Vector(); }
                    out.x = tween(a.x, b.x, pct);
                    out.y = tween(a.y, b.y, pct);
                    return out;
                };
                Vector.prototype.tween = function (other, pct, out) {
                    if (out === void 0) { out = new Vector(); }
                    return Vector.tween(this, other, pct, out);
                };
                Vector.prototype.selfTween = function (other, pct) {
                    return Vector.tween(this, other, pct, this);
                };
                return Vector;
            }());
            exports_3("Vector", Vector);
            Position = (function (_super) {
                __extends(Position, _super);
                function Position() {
                    _super.call(this, 0.0, 0.0);
                }
                return Position;
            }(Vector));
            exports_3("Position", Position);
            Rotation = (function (_super) {
                __extends(Rotation, _super);
                function Rotation() {
                    _super.call(this, 0.0);
                }
                return Rotation;
            }(Angle));
            exports_3("Rotation", Rotation);
            Scale = (function (_super) {
                __extends(Scale, _super);
                function Scale() {
                    _super.call(this, 1.0, 1.0);
                }
                Scale.prototype.selfIdentity = function () {
                    this.x = 1.0;
                    this.y = 1.0;
                    return this;
                };
                return Scale;
            }(Vector));
            exports_3("Scale", Scale);
            Space = (function () {
                function Space() {
                    this.position = new Position();
                    this.rotation = new Rotation();
                    this.scale = new Scale();
                }
                Space.prototype.copy = function (other) {
                    this.position.copy(other.position);
                    this.rotation.copy(other.rotation);
                    this.scale.copy(other.scale);
                    return this;
                };
                Space.prototype.load = function (json) {
                    this.position.x = loadFloat(json, "x", 0);
                    this.position.y = loadFloat(json, "y", 0);
                    this.rotation.deg = loadFloat(json, "rotation", 0);
                    this.scale.x = loadFloat(json, "scaleX", 1);
                    this.scale.y = loadFloat(json, "scaleY", 1);
                    return this;
                };
                Space.equal = function (a, b, epsilon) {
                    if (epsilon === void 0) { epsilon = 1e-6; }
                    if (Math.abs(a.position.x - b.position.x) > epsilon) {
                        return false;
                    }
                    if (Math.abs(a.position.y - b.position.y) > epsilon) {
                        return false;
                    }
                    if (Math.abs(a.rotation.rad - b.rotation.rad) > epsilon) {
                        return false;
                    }
                    if (Math.abs(a.scale.x - b.scale.x) > epsilon) {
                        return false;
                    }
                    if (Math.abs(a.scale.y - b.scale.y) > epsilon) {
                        return false;
                    }
                    return true;
                };
                Space.identity = function (out) {
                    if (out === void 0) { out = new Space(); }
                    out.position.x = 0;
                    out.position.y = 0;
                    out.rotation.rad = 0;
                    out.scale.x = 1;
                    out.scale.y = 1;
                    return out;
                };
                Space.translate = function (space, x, y) {
                    x *= space.scale.x;
                    y *= space.scale.y;
                    var rad = space.rotation.rad;
                    var c = Math.cos(rad);
                    var s = Math.sin(rad);
                    var tx = c * x - s * y;
                    var ty = s * x + c * y;
                    space.position.x += tx;
                    space.position.y += ty;
                    return space;
                };
                Space.rotate = function (space, rad) {
                    space.rotation.rad += rad;
                    space.rotation.rad = wrapAngleRadians(space.rotation.rad);
                    return space;
                };
                Space.scale = function (space, x, y) {
                    space.scale.x *= x;
                    space.scale.y *= y;
                    return space;
                };
                Space.invert = function (space, out) {
                    if (out === void 0) { out = new Space(); }
                    var inv_scale_x = 1 / space.scale.x;
                    var inv_scale_y = 1 / space.scale.y;
                    var inv_rotation = -space.rotation.rad;
                    var inv_x = -space.position.x;
                    var inv_y = -space.position.y;
                    out.scale.x = inv_scale_x;
                    out.scale.y = inv_scale_y;
                    out.rotation.rad = inv_rotation;
                    var x = inv_x;
                    var y = inv_y;
                    var rad = inv_rotation;
                    var c = Math.cos(rad);
                    var s = Math.sin(rad);
                    var tx = c * x - s * y;
                    var ty = s * x + c * y;
                    out.position.x = tx * inv_scale_x;
                    out.position.y = ty * inv_scale_y;
                    return out;
                };
                Space.combine = function (a, b, out) {
                    if (out === void 0) { out = new Space(); }
                    var x = b.position.x * a.scale.x;
                    var y = b.position.y * a.scale.y;
                    var rad = a.rotation.rad;
                    var c = Math.cos(rad);
                    var s = Math.sin(rad);
                    var tx = c * x - s * y;
                    var ty = s * x + c * y;
                    out.position.x = tx + a.position.x;
                    out.position.y = ty + a.position.y;
                    out.rotation.rad = wrapAngleRadians(b.rotation.rad + a.rotation.rad);
                    out.scale.x = b.scale.x * a.scale.x;
                    out.scale.y = b.scale.y * a.scale.y;
                    return out;
                };
                Space.extract = function (ab, a, out) {
                    if (out === void 0) { out = new Space(); }
                    out.scale.x = ab.scale.x / a.scale.x;
                    out.scale.y = ab.scale.y / a.scale.y;
                    out.rotation.rad = wrapAngleRadians(ab.rotation.rad - a.rotation.rad);
                    var x = ab.position.x - a.position.x;
                    var y = ab.position.y - a.position.y;
                    var rad = -a.rotation.rad;
                    var c = Math.cos(rad);
                    var s = Math.sin(rad);
                    var tx = c * x - s * y;
                    var ty = s * x + c * y;
                    out.position.x = tx / a.scale.x;
                    out.position.y = ty / a.scale.y;
                    return out;
                };
                Space.transform = function (space, v, out) {
                    if (out === void 0) { out = new Vector(); }
                    var x = v.x * space.scale.x;
                    var y = v.y * space.scale.y;
                    var rad = space.rotation.rad;
                    var c = Math.cos(rad);
                    var s = Math.sin(rad);
                    var tx = c * x - s * y;
                    var ty = s * x + c * y;
                    out.x = tx + space.position.x;
                    out.y = ty + space.position.y;
                    return out;
                };
                Space.untransform = function (space, v, out) {
                    if (out === void 0) { out = new Vector(); }
                    var x = v.x - space.position.x;
                    var y = v.y - space.position.y;
                    var rad = -space.rotation.rad;
                    var c = Math.cos(rad);
                    var s = Math.sin(rad);
                    var tx = c * x - s * y;
                    var ty = s * x + c * y;
                    out.x = tx / space.scale.x;
                    out.y = ty / space.scale.y;
                    return out;
                };
                Space.tween = function (a, b, t, out) {
                    if (out === void 0) { out = new Space(); }
                    out.position.x = tween(a.position.x, b.position.x, t);
                    out.position.y = tween(a.position.y, b.position.y, t);
                    out.rotation.rad = tweenAngle(a.rotation.rad, b.rotation.rad, t);
                    out.scale.x = tween(a.scale.x, b.scale.x, t);
                    out.scale.y = tween(a.scale.y, b.scale.y, t);
                    return out;
                };
                return Space;
            }());
            exports_3("Space", Space);
            Bone = (function () {
                function Bone() {
                    this.parent_key = "";
                    this.length = 0;
                    this.local_space = new Space();
                    this.world_space = new Space();
                    this.inherit_rotation = true;
                    this.inherit_scale = true;
                }
                Bone.prototype.copy = function (other) {
                    this.parent_key = other.parent_key;
                    this.length = other.length;
                    this.local_space.copy(other.local_space);
                    this.world_space.copy(other.world_space);
                    this.inherit_rotation = other.inherit_rotation;
                    this.inherit_scale = other.inherit_scale;
                    return this;
                };
                Bone.prototype.load = function (json) {
                    this.parent_key = loadString(json, "parent", "");
                    this.length = loadFloat(json, "length", 0);
                    this.local_space.load(json);
                    this.world_space.copy(this.local_space);
                    this.inherit_rotation = loadBool(json, "inheritRotation", true);
                    this.inherit_scale = loadBool(json, "inheritScale", true);
                    return this;
                };
                Bone.flatten = function (bone, bones) {
                    var parent_bone = bones[bone.parent_key];
                    if (parent_bone) {
                        Bone.flatten(parent_bone, bones);
                        var a = parent_bone.world_space;
                        var b = bone.local_space;
                        var out = bone.world_space;
                        var x = b.position.x * a.scale.x;
                        var y = b.position.y * a.scale.y;
                        var rad = a.rotation.rad;
                        var c = Math.cos(rad);
                        var s = Math.sin(rad);
                        var tx = c * x - s * y;
                        var ty = s * x + c * y;
                        out.position.x = tx + a.position.x;
                        out.position.y = ty + a.position.y;
                        if (bone.inherit_rotation) {
                            out.rotation.rad = wrapAngleRadians(b.rotation.rad + a.rotation.rad);
                        }
                        else {
                            out.rotation.rad = b.rotation.rad;
                        }
                        if (bone.inherit_scale) {
                            out.scale.x = b.scale.x * a.scale.x;
                            out.scale.y = b.scale.y * a.scale.y;
                        }
                        else {
                            out.scale.x = b.scale.x;
                            out.scale.y = b.scale.y;
                        }
                    }
                    else {
                        bone.world_space.copy(bone.local_space);
                    }
                    return bone;
                };
                return Bone;
            }());
            exports_3("Bone", Bone);
            Ikc = (function () {
                function Ikc() {
                    this.name = "";
                    this.bone_keys = [];
                    this.target_key = "";
                    this.mix = 1;
                    this.bend_positive = true;
                }
                Ikc.prototype.load = function (json) {
                    this.name = loadString(json, "name", "");
                    this.bone_keys = json["bones"] || [];
                    this.target_key = loadString(json, "target", "");
                    this.mix = loadFloat(json, "mix", 1);
                    this.bend_positive = loadBool(json, "bendPositive", true);
                    return this;
                };
                return Ikc;
            }());
            exports_3("Ikc", Ikc);
            Slot = (function () {
                function Slot() {
                    this.bone_key = "";
                    this.color = new Color();
                    this.attachment_key = "";
                    this.blend = "normal";
                }
                Slot.prototype.copy = function (other) {
                    this.bone_key = other.bone_key;
                    this.color.copy(other.color);
                    this.attachment_key = other.attachment_key;
                    this.blend = other.blend;
                    return this;
                };
                Slot.prototype.load = function (json) {
                    this.bone_key = loadString(json, "bone", "");
                    this.color.load(json.color);
                    this.attachment_key = loadString(json, "attachment", "");
                    this.blend = loadString(json, "blend", "normal");
                    return this;
                };
                return Slot;
            }());
            exports_3("Slot", Slot);
            Attachment = (function () {
                function Attachment(type) {
                    this.type = "region";
                    this.name = "";
                    this.path = "";
                    this.type = type;
                }
                Attachment.prototype.load = function (json) {
                    var type = loadString(json, "type", "region");
                    if (type !== this.type) {
                        throw new Error();
                    }
                    this.name = loadString(json, "name", "");
                    this.path = loadString(json, "path", "");
                    return this;
                };
                return Attachment;
            }());
            exports_3("Attachment", Attachment);
            RegionAttachment = (function (_super) {
                __extends(RegionAttachment, _super);
                function RegionAttachment() {
                    _super.call(this, "region");
                    this.local_space = new Space();
                    this.width = 0;
                    this.height = 0;
                }
                RegionAttachment.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.local_space.load(json);
                    this.width = loadFloat(json, "width", 0);
                    this.height = loadFloat(json, "height", 0);
                    return this;
                };
                return RegionAttachment;
            }(Attachment));
            exports_3("RegionAttachment", RegionAttachment);
            BoundingBoxAttachment = (function (_super) {
                __extends(BoundingBoxAttachment, _super);
                function BoundingBoxAttachment() {
                    _super.call(this, "boundingbox");
                    this.vertices = [];
                }
                BoundingBoxAttachment.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.vertices = json.vertices || [];
                    return this;
                };
                return BoundingBoxAttachment;
            }(Attachment));
            exports_3("BoundingBoxAttachment", BoundingBoxAttachment);
            MeshAttachment = (function (_super) {
                __extends(MeshAttachment, _super);
                function MeshAttachment() {
                    _super.call(this, "mesh");
                    this.color = new Color();
                    this.triangles = [];
                    this.edges = [];
                    this.vertices = [];
                    this.uvs = [];
                    this.hull = 0;
                }
                MeshAttachment.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.color.load(json.color);
                    this.triangles = json.triangles || [];
                    this.edges = json.edges || [];
                    this.vertices = json.vertices || [];
                    this.uvs = json.uvs || [];
                    this.hull = loadInt(json, "hull", 0);
                    return this;
                };
                return MeshAttachment;
            }(Attachment));
            exports_3("MeshAttachment", MeshAttachment);
            SkinnedMeshAttachment = (function (_super) {
                __extends(SkinnedMeshAttachment, _super);
                function SkinnedMeshAttachment() {
                    _super.call(this, "skinnedmesh");
                    this.color = new Color();
                    this.triangles = [];
                    this.edges = [];
                    this.vertices = [];
                    this.uvs = [];
                    this.hull = 0;
                }
                SkinnedMeshAttachment.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.color.load(json.color);
                    this.triangles = json.triangles || [];
                    this.edges = json.edges || [];
                    this.vertices = json.vertices || [];
                    this.uvs = json.uvs || [];
                    this.hull = loadInt(json, "hull", 0);
                    return this;
                };
                return SkinnedMeshAttachment;
            }(Attachment));
            exports_3("SkinnedMeshAttachment", SkinnedMeshAttachment);
            SkinSlot = (function () {
                function SkinSlot() {
                    this.attachments = {};
                    this.attachment_keys = [];
                }
                SkinSlot.prototype.load = function (json) {
                    var _this = this;
                    this.attachment_keys = Object.keys(json);
                    this.attachment_keys.forEach(function (attachment_key) {
                        var json_attachment = json[attachment_key];
                        switch (json_attachment.type) {
                            case "region":
                            default:
                                _this.attachments[attachment_key] = new RegionAttachment().load(json_attachment);
                                break;
                            case "boundingbox":
                                _this.attachments[attachment_key] = new BoundingBoxAttachment().load(json_attachment);
                                break;
                            case "mesh":
                                _this.attachments[attachment_key] = new MeshAttachment().load(json_attachment);
                                break;
                            case "skinnedmesh":
                                _this.attachments[attachment_key] = new SkinnedMeshAttachment().load(json_attachment);
                                break;
                        }
                    });
                    return this;
                };
                return SkinSlot;
            }());
            exports_3("SkinSlot", SkinSlot);
            Skin = (function () {
                function Skin() {
                    this.name = "";
                    this.slots = {};
                    this.slot_keys = [];
                }
                Skin.prototype.load = function (json) {
                    var _this = this;
                    this.name = loadString(json, "name", "");
                    this.slot_keys = Object.keys(json);
                    this.slot_keys.forEach(function (slot_key) {
                        _this.slots[slot_key] = new SkinSlot().load(json[slot_key]);
                    });
                    return this;
                };
                Skin.prototype.iterateAttachments = function (callback) {
                    var _this = this;
                    this.slot_keys.forEach(function (slot_key) {
                        var skin_slot = _this.slots[slot_key];
                        skin_slot.attachment_keys.forEach(function (attachment_key) {
                            var attachment = skin_slot.attachments[attachment_key];
                            callback(slot_key, skin_slot, attachment.path || attachment.name || attachment_key, attachment);
                        });
                    });
                };
                return Skin;
            }());
            exports_3("Skin", Skin);
            Event = (function () {
                function Event() {
                    this.name = "";
                    this.int_value = 0;
                    this.float_value = 0;
                    this.string_value = "";
                }
                Event.prototype.copy = function (other) {
                    this.name = other.name;
                    this.int_value = other.int_value;
                    this.float_value = other.float_value;
                    this.string_value = other.string_value;
                    return this;
                };
                Event.prototype.load = function (json) {
                    this.name = loadString(json, "name", "");
                    if (typeof (json["int"]) === "number") {
                        this.int_value = loadInt(json, "int", 0);
                    }
                    if (typeof (json["float"]) === "number") {
                        this.float_value = loadFloat(json, "float", 0);
                    }
                    if (typeof (json["string"]) === "string") {
                        this.string_value = loadString(json, "string", "");
                    }
                    return this;
                };
                return Event;
            }());
            exports_3("Event", Event);
            Keyframe = (function () {
                function Keyframe() {
                    this.time = 0;
                }
                Keyframe.prototype.drop = function () {
                    this.time = 0;
                    return this;
                };
                Keyframe.prototype.load = function (json) {
                    this.time = 1000 * loadFloat(json, "time", 0);
                    return this;
                };
                Keyframe.prototype.save = function (json) {
                    saveFloat(json, "time", this.time / 1000, 0);
                    return this;
                };
                Keyframe.find = function (array, time) {
                    if (!array) {
                        return -1;
                    }
                    if (array.length <= 0) {
                        return -1;
                    }
                    if (time < array[0].time) {
                        return -1;
                    }
                    var last = array.length - 1;
                    if (time >= array[last].time) {
                        return last;
                    }
                    var lo = 0;
                    var hi = last;
                    if (hi === 0) {
                        return 0;
                    }
                    var current = hi >> 1;
                    while (true) {
                        if (array[current + 1].time <= time) {
                            lo = current + 1;
                        }
                        else {
                            hi = current;
                        }
                        if (lo === hi) {
                            return lo;
                        }
                        current = (lo + hi) >> 1;
                    }
                };
                Keyframe.compare = function (a, b) {
                    return a.time - b.time;
                };
                return Keyframe;
            }());
            exports_3("Keyframe", Keyframe);
            BoneKeyframe = (function (_super) {
                __extends(BoneKeyframe, _super);
                function BoneKeyframe() {
                    _super.apply(this, arguments);
                    this.curve = new Curve();
                }
                BoneKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.curve.load(json.curve);
                    return this;
                };
                return BoneKeyframe;
            }(Keyframe));
            exports_3("BoneKeyframe", BoneKeyframe);
            TranslateKeyframe = (function (_super) {
                __extends(TranslateKeyframe, _super);
                function TranslateKeyframe() {
                    _super.apply(this, arguments);
                    this.position = new Position();
                }
                TranslateKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.position.x = loadFloat(json, "x", 0);
                    this.position.y = loadFloat(json, "y", 0);
                    return this;
                };
                return TranslateKeyframe;
            }(BoneKeyframe));
            exports_3("TranslateKeyframe", TranslateKeyframe);
            RotateKeyframe = (function (_super) {
                __extends(RotateKeyframe, _super);
                function RotateKeyframe() {
                    _super.apply(this, arguments);
                    this.rotation = new Rotation();
                }
                RotateKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.rotation.deg = loadFloat(json, "angle", 0);
                    return this;
                };
                return RotateKeyframe;
            }(BoneKeyframe));
            exports_3("RotateKeyframe", RotateKeyframe);
            ScaleKeyframe = (function (_super) {
                __extends(ScaleKeyframe, _super);
                function ScaleKeyframe() {
                    _super.apply(this, arguments);
                    this.scale = new Scale();
                }
                ScaleKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.scale.x = loadFloat(json, "x", 1);
                    this.scale.y = loadFloat(json, "y", 1);
                    return this;
                };
                return ScaleKeyframe;
            }(BoneKeyframe));
            exports_3("ScaleKeyframe", ScaleKeyframe);
            AnimBone = (function () {
                function AnimBone() {
                    this.min_time = 0;
                    this.max_time = 0;
                }
                AnimBone.prototype.load = function (json) {
                    var _this = this;
                    this.min_time = 0;
                    this.max_time = 0;
                    this.translate_keyframes = null;
                    this.rotate_keyframes = null;
                    this.scale_keyframes = null;
                    Object.keys(json).forEach(function (key) {
                        switch (key) {
                            case "translate":
                                _this.translate_keyframes = [];
                                json.translate.forEach(function (translate_json) {
                                    var translate_keyframe = new TranslateKeyframe().load(translate_json);
                                    _this.translate_keyframes.push(translate_keyframe);
                                    _this.min_time = Math.min(_this.min_time, translate_keyframe.time);
                                    _this.max_time = Math.max(_this.max_time, translate_keyframe.time);
                                });
                                _this.translate_keyframes.sort(Keyframe.compare);
                                break;
                            case "rotate":
                                _this.rotate_keyframes = [];
                                json.rotate.forEach(function (rotate_json) {
                                    var rotate_keyframe = new RotateKeyframe().load(rotate_json);
                                    _this.rotate_keyframes.push(rotate_keyframe);
                                    _this.min_time = Math.min(_this.min_time, rotate_keyframe.time);
                                    _this.max_time = Math.max(_this.max_time, rotate_keyframe.time);
                                });
                                _this.rotate_keyframes.sort(Keyframe.compare);
                                break;
                            case "scale":
                                _this.scale_keyframes = [];
                                json.scale.forEach(function (scale_json) {
                                    var scale_keyframe = new ScaleKeyframe().load(scale_json);
                                    _this.scale_keyframes.push(scale_keyframe);
                                    _this.min_time = Math.min(_this.min_time, scale_keyframe.time);
                                    _this.max_time = Math.max(_this.max_time, scale_keyframe.time);
                                });
                                _this.scale_keyframes.sort(Keyframe.compare);
                                break;
                            default:
                                console.log("TODO: AnimBone::load", key);
                                break;
                        }
                    });
                    return this;
                };
                return AnimBone;
            }());
            exports_3("AnimBone", AnimBone);
            SlotKeyframe = (function (_super) {
                __extends(SlotKeyframe, _super);
                function SlotKeyframe() {
                    _super.apply(this, arguments);
                }
                return SlotKeyframe;
            }(Keyframe));
            exports_3("SlotKeyframe", SlotKeyframe);
            ColorKeyframe = (function (_super) {
                __extends(ColorKeyframe, _super);
                function ColorKeyframe() {
                    _super.apply(this, arguments);
                    this.color = new Color();
                    this.curve = new Curve();
                }
                ColorKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.color.load(json.color);
                    this.curve.load(json.curve);
                    return this;
                };
                return ColorKeyframe;
            }(SlotKeyframe));
            exports_3("ColorKeyframe", ColorKeyframe);
            AttachmentKeyframe = (function (_super) {
                __extends(AttachmentKeyframe, _super);
                function AttachmentKeyframe() {
                    _super.apply(this, arguments);
                    this.name = "";
                }
                AttachmentKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.name = loadString(json, "name", "");
                    return this;
                };
                return AttachmentKeyframe;
            }(SlotKeyframe));
            exports_3("AttachmentKeyframe", AttachmentKeyframe);
            AnimSlot = (function () {
                function AnimSlot() {
                    this.min_time = 0;
                    this.max_time = 0;
                }
                AnimSlot.prototype.load = function (json) {
                    var _this = this;
                    this.min_time = 0;
                    this.max_time = 0;
                    this.color_keyframes = null;
                    this.attachment_keyframes = null;
                    Object.keys(json).forEach(function (key) {
                        switch (key) {
                            case "color":
                                _this.color_keyframes = [];
                                json[key].forEach(function (color) {
                                    var color_keyframe = new ColorKeyframe().load(color);
                                    _this.min_time = Math.min(_this.min_time, color_keyframe.time);
                                    _this.max_time = Math.max(_this.max_time, color_keyframe.time);
                                    _this.color_keyframes.push(color_keyframe);
                                });
                                _this.color_keyframes.sort(Keyframe.compare);
                                break;
                            case "attachment":
                                _this.attachment_keyframes = [];
                                json[key].forEach(function (attachment) {
                                    var attachment_keyframe = new AttachmentKeyframe().load(attachment);
                                    _this.min_time = Math.min(_this.min_time, attachment_keyframe.time);
                                    _this.max_time = Math.max(_this.max_time, attachment_keyframe.time);
                                    _this.attachment_keyframes.push(attachment_keyframe);
                                });
                                _this.attachment_keyframes.sort(Keyframe.compare);
                                break;
                            default:
                                console.log("TODO: AnimSlot::load", key);
                                break;
                        }
                    });
                    return this;
                };
                return AnimSlot;
            }());
            exports_3("AnimSlot", AnimSlot);
            EventKeyframe = (function (_super) {
                __extends(EventKeyframe, _super);
                function EventKeyframe() {
                    _super.apply(this, arguments);
                    this.name = "";
                    this.int_value = 0;
                    this.float_value = 0;
                    this.string_value = "";
                }
                EventKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.name = loadString(json, "name", "");
                    if (typeof (json["int"]) === "number") {
                        this.int_value = loadInt(json, "int", 0);
                    }
                    if (typeof (json["float"]) === "number") {
                        this.float_value = loadFloat(json, "float", 0);
                    }
                    if (typeof (json["string"]) === "string") {
                        this.string_value = loadString(json, "string", "");
                    }
                    return this;
                };
                return EventKeyframe;
            }(Keyframe));
            exports_3("EventKeyframe", EventKeyframe);
            SlotOffset = (function () {
                function SlotOffset() {
                    this.slot_key = "";
                    this.offset = 0;
                }
                SlotOffset.prototype.load = function (json) {
                    this.slot_key = loadString(json, "slot", "");
                    this.offset = loadInt(json, "offset", 0);
                    return this;
                };
                return SlotOffset;
            }());
            exports_3("SlotOffset", SlotOffset);
            OrderKeyframe = (function (_super) {
                __extends(OrderKeyframe, _super);
                function OrderKeyframe() {
                    _super.apply(this, arguments);
                    this.slot_offsets = [];
                }
                OrderKeyframe.prototype.load = function (json) {
                    var _this = this;
                    _super.prototype.load.call(this, json);
                    this.slot_offsets = [];
                    Object.keys(json).forEach(function (key) {
                        switch (key) {
                            case "offsets":
                                json[key].forEach(function (offset) {
                                    _this.slot_offsets.push(new SlotOffset().load(offset));
                                });
                                break;
                        }
                    });
                    return this;
                };
                return OrderKeyframe;
            }(Keyframe));
            exports_3("OrderKeyframe", OrderKeyframe);
            IkcKeyframe = (function (_super) {
                __extends(IkcKeyframe, _super);
                function IkcKeyframe() {
                    _super.apply(this, arguments);
                    this.curve = new Curve();
                    this.mix = 1;
                    this.bend_positive = true;
                }
                IkcKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.curve.load(json);
                    this.mix = loadFloat(json, "mix", 1);
                    this.bend_positive = loadBool(json, "bendPositive", true);
                    return this;
                };
                return IkcKeyframe;
            }(Keyframe));
            exports_3("IkcKeyframe", IkcKeyframe);
            AnimIkc = (function () {
                function AnimIkc() {
                    this.min_time = 0;
                    this.max_time = 0;
                }
                AnimIkc.prototype.load = function (json) {
                    var _this = this;
                    this.min_time = 0;
                    this.max_time = 0;
                    this.ikc_keyframes = [];
                    json.forEach(function (ikc) {
                        var ikc_keyframe = new IkcKeyframe().load(ikc);
                        _this.min_time = Math.min(_this.min_time, ikc_keyframe.time);
                        _this.max_time = Math.max(_this.max_time, ikc_keyframe.time);
                        _this.ikc_keyframes.push(ikc_keyframe);
                    });
                    this.ikc_keyframes.sort(Keyframe.compare);
                    return this;
                };
                return AnimIkc;
            }());
            exports_3("AnimIkc", AnimIkc);
            FfdKeyframe = (function (_super) {
                __extends(FfdKeyframe, _super);
                function FfdKeyframe() {
                    _super.apply(this, arguments);
                    this.curve = new Curve();
                    this.offset = 0;
                }
                FfdKeyframe.prototype.load = function (json) {
                    _super.prototype.load.call(this, json);
                    this.curve.load(json);
                    this.offset = loadInt(json, "offset", 0);
                    this.vertices = json.vertices || [];
                    return this;
                };
                return FfdKeyframe;
            }(Keyframe));
            exports_3("FfdKeyframe", FfdKeyframe);
            FfdAttachment = (function () {
                function FfdAttachment() {
                    this.min_time = 0;
                    this.max_time = 0;
                }
                FfdAttachment.prototype.load = function (json) {
                    var _this = this;
                    this.min_time = 0;
                    this.max_time = 0;
                    this.ffd_keyframes = [];
                    json.forEach(function (ffd_keyframe_json) {
                        var ffd_keyframe = new FfdKeyframe().load(ffd_keyframe_json);
                        _this.min_time = Math.min(_this.min_time, ffd_keyframe.time);
                        _this.max_time = Math.max(_this.max_time, ffd_keyframe.time);
                        _this.ffd_keyframes.push(ffd_keyframe);
                    });
                    this.ffd_keyframes.sort(Keyframe.compare);
                    return this;
                };
                return FfdAttachment;
            }());
            exports_3("FfdAttachment", FfdAttachment);
            FfdSlot = (function () {
                function FfdSlot() {
                }
                FfdSlot.prototype.load = function (json) {
                    var _this = this;
                    this.ffd_attachments = {};
                    this.ffd_attachment_keys = Object.keys(json);
                    this.ffd_attachment_keys.forEach(function (key) {
                        _this.ffd_attachments[key] = new FfdAttachment().load(json[key]);
                    });
                    return this;
                };
                FfdSlot.prototype.iterateAttachments = function (callback) {
                    var _this = this;
                    this.ffd_attachment_keys.forEach(function (ffd_attachment_key) {
                        var ffd_attachment = _this.ffd_attachments[ffd_attachment_key];
                        callback(ffd_attachment_key, ffd_attachment);
                    });
                };
                return FfdSlot;
            }());
            exports_3("FfdSlot", FfdSlot);
            AnimFfd = (function () {
                function AnimFfd() {
                    this.min_time = 0;
                    this.max_time = 0;
                }
                AnimFfd.prototype.load = function (json) {
                    var _this = this;
                    this.min_time = 0;
                    this.max_time = 0;
                    this.ffd_slots = {};
                    this.ffd_slot_keys = Object.keys(json);
                    this.ffd_slot_keys.forEach(function (key) {
                        _this.ffd_slots[key] = new FfdSlot().load(json[key]);
                    });
                    this.iterateAttachments(function (ffd_slot_key, ffd_slot, ffd_attachment_key, ffd_attachment) {
                        _this.min_time = Math.min(_this.min_time, ffd_attachment.min_time);
                        _this.max_time = Math.max(_this.max_time, ffd_attachment.max_time);
                    });
                    return this;
                };
                AnimFfd.prototype.iterateAttachments = function (callback) {
                    var _this = this;
                    var ffd_slot_key;
                    var ffd_slot;
                    this.ffd_slot_keys.forEach(function (ffd_slot_key) {
                        ffd_slot = _this.ffd_slots[ffd_slot_key];
                        ffd_slot.iterateAttachments(function (ffd_attachment_key, ffd_attachment) {
                            callback(ffd_slot_key, ffd_slot, ffd_attachment_key, ffd_attachment);
                        });
                    });
                };
                return AnimFfd;
            }());
            exports_3("AnimFfd", AnimFfd);
            Animation = (function () {
                function Animation() {
                    this.name = "";
                    this.min_time = 0;
                    this.max_time = 0;
                    this.length = 0;
                }
                Animation.prototype.load = function (json) {
                    var _this = this;
                    this.bones = {};
                    this.slots = {};
                    this.event_keyframes = null;
                    this.order_keyframes = null;
                    this.ikcs = {};
                    this.ffds = {};
                    this.min_time = 0;
                    this.max_time = 0;
                    Object.keys(json).forEach(function (key) {
                        switch (key) {
                            case "bones":
                                Object.keys(json[key]).forEach(function (bone_key) {
                                    var anim_bone = new AnimBone().load(json[key][bone_key]);
                                    _this.min_time = Math.min(_this.min_time, anim_bone.min_time);
                                    _this.max_time = Math.max(_this.max_time, anim_bone.max_time);
                                    _this.bones[bone_key] = anim_bone;
                                });
                                break;
                            case "slots":
                                Object.keys(json[key]).forEach(function (slot_key) {
                                    var anim_slot = new AnimSlot().load(json[key][slot_key]);
                                    _this.min_time = Math.min(_this.min_time, anim_slot.min_time);
                                    _this.max_time = Math.max(_this.max_time, anim_slot.max_time);
                                    _this.slots[slot_key] = anim_slot;
                                });
                                break;
                            case "events":
                                _this.event_keyframes = [];
                                json[key].forEach(function (event) {
                                    var event_keyframe = new EventKeyframe().load(event);
                                    _this.min_time = Math.min(_this.min_time, event_keyframe.time);
                                    _this.max_time = Math.max(_this.max_time, event_keyframe.time);
                                    _this.event_keyframes.push(event_keyframe);
                                });
                                _this.event_keyframes.sort(Keyframe.compare);
                                break;
                            case "drawOrder":
                            case "draworder":
                                _this.order_keyframes = [];
                                json[key].forEach(function (order) {
                                    var order_keyframe = new OrderKeyframe().load(order);
                                    _this.min_time = Math.min(_this.min_time, order_keyframe.time);
                                    _this.max_time = Math.max(_this.max_time, order_keyframe.time);
                                    _this.order_keyframes.push(order_keyframe);
                                });
                                _this.order_keyframes.sort(Keyframe.compare);
                                break;
                            case "ik":
                                Object.keys(json[key]).forEach(function (ikc_key) {
                                    var anim_ikc = new AnimIkc().load(json[key][ikc_key]);
                                    _this.min_time = Math.min(_this.min_time, anim_ikc.min_time);
                                    _this.max_time = Math.max(_this.max_time, anim_ikc.max_time);
                                    _this.ikcs[ikc_key] = anim_ikc;
                                });
                                break;
                            case "ffd":
                                Object.keys(json[key]).forEach(function (ffd_key) {
                                    var anim_ffd = new AnimFfd().load(json[key][ffd_key]);
                                    _this.min_time = Math.min(_this.min_time, anim_ffd.min_time);
                                    _this.max_time = Math.max(_this.max_time, anim_ffd.max_time);
                                    _this.ffds[ffd_key] = anim_ffd;
                                });
                                break;
                            default:
                                console.log("TODO: Animation::load", key);
                                break;
                        }
                    });
                    this.length = this.max_time - this.min_time;
                    return this;
                };
                return Animation;
            }());
            exports_3("Animation", Animation);
            Skeleton = (function () {
                function Skeleton() {
                    this.hash = "";
                    this.spine = "";
                    this.width = 0;
                    this.height = 0;
                    this.images = "";
                }
                Skeleton.prototype.load = function (json) {
                    this.hash = loadString(json, "hash", "");
                    this.spine = loadString(json, "spine", "");
                    this.width = loadInt(json, "width", 0);
                    this.height = loadInt(json, "height", 0);
                    this.images = loadString(json, "images", "");
                    return this;
                };
                return Skeleton;
            }());
            exports_3("Skeleton", Skeleton);
            Data = (function () {
                function Data() {
                    this.name = "";
                    this.skeleton = new Skeleton();
                    this.bones = {};
                    this.bone_keys = [];
                    this.ikcs = {};
                    this.ikc_keys = [];
                    this.slots = {};
                    this.slot_keys = [];
                    this.skins = {};
                    this.skin_keys = [];
                    this.events = {};
                    this.event_keys = [];
                    this.anims = {};
                    this.anim_keys = [];
                }
                Data.prototype.load = function (json) {
                    var _this = this;
                    this.bones = {};
                    this.bone_keys = [];
                    this.ikcs = {};
                    this.ikc_keys = [];
                    this.slots = {};
                    this.slot_keys = [];
                    this.skins = {};
                    this.skin_keys = [];
                    this.events = {};
                    this.event_keys = [];
                    this.anims = {};
                    this.anim_keys = [];
                    Object.keys(json).forEach(function (key) {
                        switch (key) {
                            case "skeleton":
                                _this.skeleton.load(json[key]);
                                break;
                            case "bones":
                                var json_bones = json[key];
                                json_bones.forEach(function (bone, bone_index) {
                                    _this.bones[bone.name] = new Bone().load(bone);
                                    _this.bone_keys[bone_index] = bone.name;
                                });
                                break;
                            case "ik":
                                var json_ik = json[key];
                                json_ik.forEach(function (ikc, ikc_index) {
                                    _this.ikcs[ikc.name] = new Ikc().load(ikc);
                                    _this.ikc_keys[ikc_index] = ikc.name;
                                });
                                break;
                            case "slots":
                                var json_slots = json[key];
                                json_slots.forEach(function (slot, slot_index) {
                                    _this.slots[slot.name] = new Slot().load(slot);
                                    _this.slot_keys[slot_index] = slot.name;
                                });
                                break;
                            case "skins":
                                var json_skins_1 = json[key];
                                _this.skin_keys = Object.keys(json_skins_1);
                                _this.skin_keys.forEach(function (skin_key) {
                                    var skin = _this.skins[skin_key] = new Skin().load(json_skins_1[skin_key]);
                                    skin.name = skin.name || skin_key;
                                });
                                break;
                            case "events":
                                var json_events_1 = json[key];
                                _this.event_keys = Object.keys(json_events_1);
                                _this.event_keys.forEach(function (event_key) {
                                    var event = _this.events[event_key] = new Event().load(json_events_1[event_key]);
                                    event.name = event.name || event_key;
                                });
                                break;
                            case "animations":
                                var json_animations_1 = json[key];
                                _this.anim_keys = Object.keys(json_animations_1);
                                _this.anim_keys.forEach(function (anim_key) {
                                    var anim = _this.anims[anim_key] = new Animation().load(json_animations_1[anim_key]);
                                    anim.name = anim.name || anim_key;
                                });
                                break;
                            default:
                                console.log("TODO: Skeleton::load", key);
                                break;
                        }
                    });
                    this.iterateBones(function (bone_key, bone) {
                        Bone.flatten(bone, _this.bones);
                    });
                    return this;
                };
                Data.prototype.loadSkeleton = function (json) {
                    this.skeleton.load(json);
                    return this;
                };
                Data.prototype.loadEvent = function (name, json) {
                    var event = this.events[name] = new Event().load(json);
                    event.name = event.name || name;
                    return this;
                };
                Data.prototype.loadAnimation = function (name, json) {
                    var anim = this.anims[name] = new Animation().load(json);
                    anim.name = anim.name || name;
                    return this;
                };
                Data.prototype.getSkins = function () { return this.skins; };
                Data.prototype.getEvents = function () { return this.events; };
                Data.prototype.getAnims = function () { return this.anims; };
                Data.prototype.iterateBones = function (callback) {
                    var _this = this;
                    this.bone_keys.forEach(function (bone_key) {
                        var data_bone = _this.bones[bone_key];
                        callback(bone_key, data_bone);
                    });
                };
                Data.prototype.iterateAttachments = function (skin_key, callback) {
                    var _this = this;
                    var skin = this.skins[skin_key];
                    var default_skin = this.skins["default"];
                    this.slot_keys.forEach(function (slot_key) {
                        var data_slot = _this.slots[slot_key];
                        var skin_slot = skin && (skin.slots[slot_key] || default_skin.slots[slot_key]);
                        var attachment = skin_slot && skin_slot.attachments[data_slot.attachment_key];
                        var attachment_key = (attachment && (attachment.path || attachment.name)) || data_slot.attachment_key;
                        callback(slot_key, data_slot, skin_slot, attachment_key, attachment);
                    });
                };
                Data.prototype.iterateSkins = function (callback) {
                    var _this = this;
                    this.skin_keys.forEach(function (skin_key) {
                        var skin = _this.skins[skin_key];
                        callback(skin_key, skin);
                    });
                };
                Data.prototype.iterateEvents = function (callback) {
                    var _this = this;
                    this.event_keys.forEach(function (event_key) {
                        var event = _this.events[event_key];
                        callback(event_key, event);
                    });
                };
                Data.prototype.iterateAnims = function (callback) {
                    var _this = this;
                    this.anim_keys.forEach(function (anim_key) {
                        var anim = _this.anims[anim_key];
                        callback(anim_key, anim);
                    });
                };
                return Data;
            }());
            exports_3("Data", Data);
            Pose = (function () {
                function Pose(data) {
                    this.skin_key = "";
                    this.anim_key = "";
                    this.time = 0;
                    this.elapsed_time = 0;
                    this.dirty = true;
                    this.bones = {};
                    this.bone_keys = [];
                    this.slots = {};
                    this.slot_keys = [];
                    this.events = [];
                    this.onComplete = new Phaser.Signal();
                    this.data = data;
                }
                Pose.prototype.curSkel = function () {
                    var pose = this;
                    var data = pose.data;
                    return data && data.skeleton;
                };
                Pose.prototype.getSkins = function () {
                    var pose = this;
                    var data = pose.data;
                    return data && data.skins;
                };
                Pose.prototype.curSkin = function () {
                    var pose = this;
                    var data = pose.data;
                    return data && data.skins[pose.skin_key];
                };
                Pose.prototype.getSkin = function () {
                    var pose = this;
                    return pose.skin_key;
                };
                Pose.prototype.setSkin = function (skin_key) {
                    var pose = this;
                    if (pose.skin_key !== skin_key) {
                        pose.skin_key = skin_key;
                    }
                };
                Pose.prototype.getEvents = function () {
                    var pose = this;
                    var data = pose.data;
                    return data && data.events;
                };
                Pose.prototype.getAnims = function () {
                    var pose = this;
                    var data = pose.data;
                    return data && data.anims;
                };
                Pose.prototype.curAnim = function () {
                    var pose = this;
                    var data = pose.data;
                    return data && data.anims[pose.anim_key];
                };
                Pose.prototype.curAnimLength = function () {
                    var pose = this;
                    var data = pose.data;
                    var anim = data && data.anims[pose.anim_key];
                    return (anim && anim.length) || 0;
                };
                Pose.prototype.getAnim = function () {
                    var pose = this;
                    return pose.anim_key;
                };
                Pose.prototype.setAnim = function (anim_key) {
                    var pose = this;
                    if (pose.anim_key !== anim_key) {
                        pose.anim_key = anim_key;
                        var data = pose.data;
                        var anim = data && data.anims[pose.anim_key];
                        if (anim) {
                            pose.time = wrap(pose.time, anim.min_time, anim.max_time);
                        }
                        pose.elapsed_time = 0;
                        pose.dirty = true;
                    }
                };
                Pose.prototype.getTime = function () {
                    var pose = this;
                    return pose.time;
                };
                Pose.prototype.setTime = function (time) {
                    var pose = this;
                    var data = pose.data;
                    var anim = data && data.anims[pose.anim_key];
                    if (anim) {
                        time = wrap(time, anim.min_time, anim.max_time);
                    }
                    if (pose.time !== time) {
                        pose.time = time;
                        pose.elapsed_time = 0;
                        pose.dirty = true;
                    }
                };
                Pose.prototype.update = function (elapsed_time) {
                    var pose = this;
                    pose.elapsed_time += elapsed_time;
                    pose.dirty = true;
                };
                Pose.prototype.strike = function () {
                    var pose = this;
                    if (!pose.dirty) {
                        return;
                    }
                    pose.dirty = false;
                    var data = pose.data;
                    var anim = data && data.anims[pose.anim_key];
                    var prev_time = pose.time;
                    var elapsed_time = pose.elapsed_time;
                    pose.time = pose.time + pose.elapsed_time;
                    pose.elapsed_time = 0;
                    var wrapped_min = false;
                    var wrapped_max = false;
                    if (anim) {
                        wrapped_min = (elapsed_time < 0) && (pose.time <= anim.min_time);
                        wrapped_max = (elapsed_time > 0) && (pose.time >= anim.max_time);
                        if (wrapped_max) {
                            this.onComplete.dispatch();
                        }
                        pose.time = wrap(pose.time, anim.min_time, anim.max_time);
                    }
                    var time = pose.time;
                    var keyframe_index;
                    data.bone_keys.forEach(function (bone_key) {
                        var data_bone = data.bones[bone_key];
                        var pose_bone = pose.bones[bone_key] || (pose.bones[bone_key] = new Bone());
                        pose_bone.copy(data_bone);
                        var anim_bone = anim && anim.bones[bone_key];
                        if (anim_bone) {
                            keyframe_index = Keyframe.find(anim_bone.translate_keyframes, time);
                            if (keyframe_index !== -1) {
                                var translate_keyframe0 = anim_bone.translate_keyframes[keyframe_index];
                                var translate_keyframe1 = anim_bone.translate_keyframes[keyframe_index + 1];
                                if (translate_keyframe1) {
                                    var pct = translate_keyframe0.curve.evaluate((time - translate_keyframe0.time) / (translate_keyframe1.time - translate_keyframe0.time));
                                    pose_bone.local_space.position.x += tween(translate_keyframe0.position.x, translate_keyframe1.position.x, pct);
                                    pose_bone.local_space.position.y += tween(translate_keyframe0.position.y, translate_keyframe1.position.y, pct);
                                }
                                else {
                                    pose_bone.local_space.position.x += translate_keyframe0.position.x;
                                    pose_bone.local_space.position.y += translate_keyframe0.position.y;
                                }
                            }
                            keyframe_index = Keyframe.find(anim_bone.rotate_keyframes, time);
                            if (keyframe_index !== -1) {
                                var rotate_keyframe0 = anim_bone.rotate_keyframes[keyframe_index];
                                var rotate_keyframe1 = anim_bone.rotate_keyframes[keyframe_index + 1];
                                if (rotate_keyframe1) {
                                    var pct = rotate_keyframe0.curve.evaluate((time - rotate_keyframe0.time) / (rotate_keyframe1.time - rotate_keyframe0.time));
                                    pose_bone.local_space.rotation.rad += tweenAngle(rotate_keyframe0.rotation.rad, rotate_keyframe1.rotation.rad, pct);
                                }
                                else {
                                    pose_bone.local_space.rotation.rad += rotate_keyframe0.rotation.rad;
                                }
                            }
                            keyframe_index = Keyframe.find(anim_bone.scale_keyframes, time);
                            if (keyframe_index !== -1) {
                                var scale_keyframe0 = anim_bone.scale_keyframes[keyframe_index];
                                var scale_keyframe1 = anim_bone.scale_keyframes[keyframe_index + 1];
                                if (scale_keyframe1) {
                                    var pct = scale_keyframe0.curve.evaluate((time - scale_keyframe0.time) / (scale_keyframe1.time - scale_keyframe0.time));
                                    pose_bone.local_space.scale.x += tween(scale_keyframe0.scale.x, scale_keyframe1.scale.x, pct) - 1;
                                    pose_bone.local_space.scale.y += tween(scale_keyframe0.scale.y, scale_keyframe1.scale.y, pct) - 1;
                                }
                                else {
                                    pose_bone.local_space.scale.x += scale_keyframe0.scale.x - 1;
                                    pose_bone.local_space.scale.y += scale_keyframe0.scale.y - 1;
                                }
                            }
                        }
                    });
                    pose.bone_keys = data.bone_keys;
                    data.ikc_keys.forEach(function (ikc_key) {
                        function clamp(n, lo, hi) { return (n < lo) ? lo : ((n > hi) ? hi : n); }
                        var ikc = data.ikcs[ikc_key];
                        var ikc_mix = ikc.mix;
                        var ikc_bend_positive = ikc.bend_positive;
                        var anim_ikc = anim && anim.ikcs[ikc_key];
                        if (anim_ikc) {
                            keyframe_index = Keyframe.find(anim_ikc.ikc_keyframes, time);
                            if (keyframe_index !== -1) {
                                var ikc_keyframe0 = anim_ikc.ikc_keyframes[keyframe_index];
                                var ikc_keyframe1 = anim_ikc.ikc_keyframes[keyframe_index + 1];
                                if (ikc_keyframe1) {
                                    var pct = ikc_keyframe0.curve.evaluate((time - ikc_keyframe0.time) / (ikc_keyframe1.time - ikc_keyframe0.time));
                                    ikc_mix = tween(ikc_keyframe0.mix, ikc_keyframe1.mix, pct);
                                }
                                else {
                                    ikc_mix = ikc_keyframe0.mix;
                                }
                                ikc_bend_positive = ikc_keyframe0.bend_positive;
                            }
                        }
                        var target = pose.bones[ikc.target_key];
                        Bone.flatten(target, pose.bones);
                        var target_x = target.world_space.position.x;
                        var target_y = target.world_space.position.y;
                        var alpha = ikc_mix;
                        var bend_direction = ikc_bend_positive ? 1 : -1;
                        if (alpha === 0) {
                            return;
                        }
                        switch (ikc.bone_keys.length) {
                            case 1:
                                var bone = pose.bones[ikc.bone_keys[0]];
                                Bone.flatten(bone, pose.bones);
                                var parent_rotation = 0;
                                var bone_parent = pose.bones[bone.parent_key];
                                if (bone_parent && bone.inherit_rotation) {
                                    Bone.flatten(bone_parent, pose.bones);
                                    parent_rotation = bone_parent.world_space.rotation.rad;
                                }
                                target_x -= bone.world_space.position.x;
                                target_y -= bone.world_space.position.y;
                                bone.local_space.rotation.rad = tweenAngle(bone.local_space.rotation.rad, Math.atan2(target_y, target_x) - parent_rotation, alpha);
                                break;
                            case 2:
                                var parent_1 = pose.bones[ikc.bone_keys[0]];
                                Bone.flatten(parent_1, pose.bones);
                                var child = pose.bones[ikc.bone_keys[1]];
                                Bone.flatten(child, pose.bones);
                                var position = new Vector();
                                var parent_parent = pose.bones[parent_1.parent_key];
                                if (parent_parent) {
                                    position.x = target_x;
                                    position.y = target_y;
                                    Bone.flatten(parent_parent, pose.bones);
                                    Space.untransform(parent_parent.world_space, position, position);
                                    target_x = (position.x - parent_1.local_space.position.x) * parent_parent.world_space.scale.x;
                                    target_y = (position.y - parent_1.local_space.position.y) * parent_parent.world_space.scale.y;
                                }
                                else {
                                    target_x -= parent_1.local_space.position.x;
                                    target_y -= parent_1.local_space.position.y;
                                }
                                position.copy(child.local_space.position);
                                var child_parent = pose.bones[child.parent_key];
                                if (child_parent !== parent_1) {
                                    Bone.flatten(child_parent, pose.bones);
                                    Space.transform(child_parent.world_space, position, position);
                                    Space.untransform(parent_1.world_space, position, position);
                                }
                                var child_x = position.x * parent_1.world_space.scale.x;
                                var child_y = position.y * parent_1.world_space.scale.y;
                                var offset = Math.atan2(child_y, child_x);
                                var len1 = Math.sqrt(child_x * child_x + child_y * child_y);
                                var len2 = child.length * child.world_space.scale.x;
                                var cos_denom = 2 * len1 * len2;
                                if (cos_denom < 0.0001) {
                                    child.local_space.rotation.rad = tweenAngle(child.local_space.rotation.rad, Math.atan2(target_y, target_x) - parent_1.local_space.rotation.rad, alpha);
                                    return;
                                }
                                var cos = clamp((target_x * target_x + target_y * target_y - len1 * len1 - len2 * len2) / cos_denom, -1, 1);
                                var rad = Math.acos(cos) * bend_direction;
                                var sin = Math.sin(rad);
                                var adjacent = len2 * cos + len1;
                                var opposite = len2 * sin;
                                var parent_angle = Math.atan2(target_y * adjacent - target_x * opposite, target_x * adjacent + target_y * opposite);
                                parent_1.local_space.rotation.rad = tweenAngle(parent_1.local_space.rotation.rad, (parent_angle - offset), alpha);
                                var child_angle = rad;
                                if (child_parent !== parent_1) {
                                    child_angle += parent_1.world_space.rotation.rad - child_parent.world_space.rotation.rad;
                                }
                                child.local_space.rotation.rad = tweenAngle(child.local_space.rotation.rad, (child_angle + offset), alpha);
                                break;
                        }
                    });
                    pose.iterateBones(function (bone_key, bone) {
                        Bone.flatten(bone, pose.bones);
                    });
                    data.slot_keys.forEach(function (slot_key) {
                        var data_slot = data.slots[slot_key];
                        var pose_slot = pose.slots[slot_key] || (pose.slots[slot_key] = new Slot());
                        pose_slot.copy(data_slot);
                        var anim_slot = anim && anim.slots[slot_key];
                        if (anim_slot) {
                            keyframe_index = Keyframe.find(anim_slot.color_keyframes, time);
                            if (keyframe_index !== -1) {
                                var color_keyframe0 = anim_slot.color_keyframes[keyframe_index];
                                var color_keyframe1 = anim_slot.color_keyframes[keyframe_index + 1];
                                if (color_keyframe1) {
                                    var pct = color_keyframe0.curve.evaluate((time - color_keyframe0.time) / (color_keyframe1.time - color_keyframe0.time));
                                    pose_slot.color.r = tween(color_keyframe0.color.r, color_keyframe1.color.r, pct);
                                    pose_slot.color.g = tween(color_keyframe0.color.g, color_keyframe1.color.g, pct);
                                    pose_slot.color.b = tween(color_keyframe0.color.b, color_keyframe1.color.b, pct);
                                    pose_slot.color.a = tween(color_keyframe0.color.a, color_keyframe1.color.a, pct);
                                }
                                else {
                                    pose_slot.color.r = color_keyframe0.color.r;
                                    pose_slot.color.g = color_keyframe0.color.g;
                                    pose_slot.color.b = color_keyframe0.color.b;
                                    pose_slot.color.a = color_keyframe0.color.a;
                                }
                            }
                            keyframe_index = Keyframe.find(anim_slot.attachment_keyframes, time);
                            if (keyframe_index !== -1) {
                                var attachment_keyframe0 = anim_slot.attachment_keyframes[keyframe_index];
                                pose_slot.attachment_key = attachment_keyframe0.name;
                            }
                        }
                    });
                    pose.slot_keys = data.slot_keys;
                    if (anim) {
                        keyframe_index = Keyframe.find(anim.order_keyframes, time);
                        if (keyframe_index !== -1) {
                            var order_keyframe = anim.order_keyframes[keyframe_index];
                            pose.slot_keys = data.slot_keys.slice(0);
                            order_keyframe.slot_offsets.forEach(function (slot_offset) {
                                var slot_index = pose.slot_keys.indexOf(slot_offset.slot_key);
                                if (slot_index !== -1) {
                                    pose.slot_keys.splice(slot_index, 1);
                                    pose.slot_keys.splice(slot_index + slot_offset.offset, 0, slot_offset.slot_key);
                                }
                            });
                        }
                    }
                    pose.events.length = 0;
                    if (anim && anim.event_keyframes) {
                        var add_event_1 = function (event_keyframe) {
                            var pose_event = new Event();
                            var data_event = data.events[event_keyframe.name];
                            if (data_event) {
                                pose_event.copy(data_event);
                            }
                            pose_event.int_value = event_keyframe.int_value || pose_event.int_value;
                            pose_event.float_value = event_keyframe.float_value || pose_event.float_value;
                            pose_event.string_value = event_keyframe.string_value || pose_event.string_value;
                            pose.events.push(pose_event);
                        };
                        if (elapsed_time < 0) {
                            if (wrapped_min) {
                                anim.event_keyframes.forEach(function (event_keyframe) {
                                    if (((anim.min_time <= event_keyframe.time) && (event_keyframe.time < prev_time)) ||
                                        ((time <= event_keyframe.time) && (event_keyframe.time <= anim.max_time))) {
                                        add_event_1(event_keyframe);
                                    }
                                });
                            }
                            else {
                                anim.event_keyframes.forEach(function (event_keyframe) {
                                    if ((time <= event_keyframe.time) && (event_keyframe.time < prev_time)) {
                                        add_event_1(event_keyframe);
                                    }
                                });
                            }
                        }
                        else {
                            if (wrapped_max) {
                                anim.event_keyframes.forEach(function (event_keyframe) {
                                    if (((anim.min_time <= event_keyframe.time) && (event_keyframe.time <= time)) ||
                                        ((prev_time < event_keyframe.time) && (event_keyframe.time <= anim.max_time))) {
                                        add_event_1(event_keyframe);
                                    }
                                });
                            }
                            else {
                                anim.event_keyframes.forEach(function (event_keyframe) {
                                    if ((prev_time < event_keyframe.time) && (event_keyframe.time <= time)) {
                                        add_event_1(event_keyframe);
                                    }
                                });
                            }
                        }
                    }
                };
                Pose.prototype.iterateBones = function (callback) {
                    var pose = this;
                    pose.bone_keys.forEach(function (bone_key) {
                        var bone = pose.bones[bone_key];
                        callback(bone_key, bone);
                    });
                };
                Pose.prototype.iterateAttachments = function (callback) {
                    var pose = this;
                    var data = pose.data;
                    var skin = data && data.skins[pose.skin_key];
                    var default_skin = data && data.skins["default"];
                    pose.slot_keys.forEach(function (slot_key) {
                        var pose_slot = pose.slots[slot_key];
                        var skin_slot = skin && (skin.slots[slot_key] || default_skin.slots[slot_key]);
                        var attachment = skin_slot && skin_slot.attachments[pose_slot.attachment_key];
                        var attachment_key = (attachment && (attachment.path || attachment.name)) || pose_slot.attachment_key;
                        callback(slot_key, pose_slot, skin_slot, attachment_key, attachment);
                    });
                };
                return Pose;
            }());
            exports_3("Pose", Pose);
        }
    }
});
System.register("dijon/spine/atlas", [], function(exports_4, context_4) {
    "use strict";
    var __moduleName = context_4 && context_4.id;
    var Page, Site, Data;
    function trim(s) {
        return s.replace(/^\s+|\s+$/g, '');
    }
    return {
        setters:[],
        execute: function() {
            Page = (function () {
                function Page() {
                    this.name = "";
                    this.w = 0;
                    this.h = 0;
                    this.format = 'RGBA8888';
                    this.min_filter = 'linear';
                    this.mag_filter = 'linear';
                    this.wrap_s = 'clamp-to-edge';
                    this.wrap_t = 'clamp-to-edge';
                }
                return Page;
            }());
            exports_4("Page", Page);
            Site = (function () {
                function Site() {
                    this.page = null;
                    this.x = 0;
                    this.y = 0;
                    this.w = 0;
                    this.h = 0;
                    this.rotate = 0;
                    this.offset_x = 0;
                    this.offset_y = 0;
                    this.original_w = 0;
                    this.original_h = 0;
                    this.index = -1;
                }
                return Site;
            }());
            exports_4("Site", Site);
            Data = (function () {
                function Data() {
                    this.pages = [];
                    this.sites = {};
                }
                Data.prototype.drop = function () {
                    var data = this;
                    data.pages = [];
                    data.sites = {};
                    return this;
                };
                Data.prototype.import = function (text) {
                    return this.importAtlasText(text);
                };
                Data.prototype.export = function (text) {
                    if (text === void 0) { text = ""; }
                    return this.exportAtlasText(text);
                };
                Data.prototype.importAtlasText = function (text) {
                    var lines = text.split(/\n|\r\n/);
                    return this.importAtlasTextLines(lines);
                };
                Data.prototype.exportAtlasText = function (text) {
                    if (text === void 0) { text = ""; }
                    var lines = this.exportAtlasTextLines([]);
                    return text + lines.join('\n');
                };
                Data.prototype.importAtlasTextLines = function (lines) {
                    var data = this;
                    data.pages = [];
                    data.sites = {};
                    var page = null;
                    var site = null;
                    var match = null;
                    lines.forEach(function (line) {
                        if (trim(line).length === 0) {
                            page = null;
                            site = null;
                        }
                        else if ((match = line.match(/^size: (.*),(.*)$/))) {
                            page.w = parseInt(match[1], 10);
                            page.h = parseInt(match[2], 10);
                        }
                        else if ((match = line.match(/^format: (.*)$/))) {
                            page.format = match[1];
                        }
                        else if ((match = line.match(/^filter: (.*),(.*)$/))) {
                            page.min_filter = match[1];
                            page.mag_filter = match[2];
                        }
                        else if ((match = line.match(/^repeat: (.*)$/))) {
                            var repeat = match[1];
                            page.wrap_s = ((repeat === 'x') || (repeat === 'xy')) ? ('Repeat') : ('ClampToEdge');
                            page.wrap_t = ((repeat === 'y') || (repeat === 'xy')) ? ('Repeat') : ('ClampToEdge');
                        }
                        else if ((match = line.match(/^orig: (.*)[,| x] (.*)$/))) {
                            var original_w = parseInt(match[1], 10);
                            var original_h = parseInt(match[2], 10);
                            console.log('page:orig', original_w, original_h);
                        }
                        else if (page === null) {
                            page = new Page();
                            page.name = line;
                            data.pages.push(page);
                        }
                        else {
                            if ((match = line.match(/^ {2}rotate: (.*)$/))) {
                                site.rotate = (match[1] === 'true') ? -1 : 0;
                            }
                            else if ((match = line.match(/^ {2}xy: (.*), (.*)$/))) {
                                site.x = parseInt(match[1], 10);
                                site.y = parseInt(match[2], 10);
                            }
                            else if ((match = line.match(/^ {2}size: (.*), (.*)$/))) {
                                site.w = parseInt(match[1], 10);
                                site.h = parseInt(match[2], 10);
                            }
                            else if ((match = line.match(/^ {2}orig: (.*), (.*)$/))) {
                                site.original_w = parseInt(match[1], 10);
                                site.original_h = parseInt(match[2], 10);
                            }
                            else if ((match = line.match(/^ {2}offset: (.*), (.*)$/))) {
                                site.offset_x = parseInt(match[1], 10);
                                site.offset_y = parseInt(match[2], 10);
                            }
                            else if ((match = line.match(/^ {2}index: (.*)$/))) {
                                site.index = parseInt(match[1], 10);
                            }
                            else {
                                if (site) {
                                    site.original_w = site.original_w || site.w;
                                    site.original_h = site.original_h || site.h;
                                }
                                site = new Site();
                                site.page = page;
                                data.sites[line] = site;
                            }
                        }
                    });
                    return data;
                };
                Data.prototype.exportAtlasTextLines = function (lines) {
                    if (lines === void 0) { lines = []; }
                    var data = this;
                    data.pages.forEach(function (page) {
                        lines.push("");
                        lines.push(page.name);
                        lines.push("size: " + page.w + "," + page.h);
                        lines.push("format: " + page.format);
                        lines.push("filter: " + page.min_filter + "," + page.mag_filter);
                        var repeat = 'none';
                        if ((page.wrap_s === 'Repeat') && (page.wrap_t === 'Repeat')) {
                            repeat = "xy";
                        }
                        else if (page.wrap_s === 'Repeat') {
                            repeat = 'x';
                        }
                        else if (page.wrap_t === 'Repeat') {
                            repeat = 'y';
                        }
                        lines.push("repeat: " + repeat);
                        Object.keys(data.sites).forEach(function (site_key) {
                            var site = data.sites[site_key];
                            if (site.page !== page) {
                                return;
                            }
                            lines.push(site_key);
                            lines.push("  rotate: " + (site.rotate === 0 ? "false" : "true"));
                            lines.push("  xy: " + site.x + ", " + site.y);
                            lines.push("  size: " + site.w + ", " + site.h);
                            lines.push("  orig: " + site.original_w + ", " + site.original_h);
                            lines.push("  offset: " + site.offset_x + ", " + site.offset_y);
                            lines.push("  index: " + site.index);
                        });
                    });
                    return lines;
                };
                Data.prototype.importTpsText = function (tps_text) {
                    var data = this;
                    data.pages = [];
                    data.sites = {};
                    return data.importTpsTextPage(tps_text, 0);
                };
                Data.prototype.importTpsTextPage = function (tps_text, page_index) {
                    if (page_index === void 0) { page_index = 0; }
                    var data = this;
                    var tps_json = JSON.parse(tps_text);
                    var page = data.pages[page_index] = new Page();
                    if (tps_json.meta) {
                        page.w = tps_json.meta.size.w;
                        page.h = tps_json.meta.size.h;
                        page.name = tps_json.meta.image;
                    }
                    Object.keys(tps_json.frames || {}).forEach(function (key) {
                        var frame = tps_json.frames[key];
                        var site = data.sites[key] = new Site();
                        site.page = page;
                        site.x = frame.frame.x;
                        site.y = frame.frame.y;
                        site.w = frame.frame.w;
                        site.h = frame.frame.h;
                        site.rotate = frame.rotated ? 1 : 0;
                        site.offset_x = (frame.spriteSourceSize && frame.spriteSourceSize.x) || 0;
                        site.offset_y = (frame.spriteSourceSize && frame.spriteSourceSize.y) || 0;
                        site.original_w = (frame.sourceSize && frame.sourceSize.w) || site.w;
                        site.original_h = (frame.sourceSize && frame.sourceSize.h) || site.h;
                    });
                    return data;
                };
                return Data;
            }());
            exports_4("Data", Data);
        }
    }
});
System.register("dijon/spine/render-webgl", ["dijon/spine/spine"], function(exports_5, context_5) {
    "use strict";
    var __moduleName = context_5 && context_5.id;
    var spine;
    var glShader, glVertex, BoneInfo, SkinInfo, SlotInfo, AttachmentInfo, RegionAttachmentInfo, BoundingBoxAttachmentInfo, MeshAttachmentInfo, SkinnedMeshAttachmentInfo, RenderWebGL;
    function repeat(format, count) {
        var array = [];
        for (var index = 0; index < count; ++index) {
            array.push(format.replace(/{index}/g, index.toString()));
        }
        return array;
    }
    exports_5("repeat", repeat);
    function flatten(array, out) {
        if (out === void 0) { out = []; }
        array.forEach(function (value) {
            if (Array.isArray(value)) {
                flatten(value, out);
            }
            else {
                out.push(value);
            }
        });
        return out;
    }
    exports_5("flatten", flatten);
    function vec4Identity(v) {
        v[0] = v[1] = v[2] = v[3] = 1.0;
        return v;
    }
    exports_5("vec4Identity", vec4Identity);
    function vec4CopyColor(v, color) {
        v[0] = color.r;
        v[1] = color.g;
        v[2] = color.b;
        v[3] = color.a;
        return v;
    }
    exports_5("vec4CopyColor", vec4CopyColor);
    function vec4ApplyColor(v, color) {
        v[0] *= color.r;
        v[1] *= color.g;
        v[2] *= color.b;
        v[3] *= color.a;
        return v;
    }
    exports_5("vec4ApplyColor", vec4ApplyColor);
    function mat3x3Identity(m) {
        m[1] = m[2] = m[3] =
            m[5] = m[6] = m[7] = 0.0;
        m[0] = m[4] = m[8] = 1.0;
        return m;
    }
    exports_5("mat3x3Identity", mat3x3Identity);
    function mat3x3Copy(m, other) {
        m.set(other);
        return m;
    }
    exports_5("mat3x3Copy", mat3x3Copy);
    function mat3x3Ortho(m, l, r, b, t) {
        var lr = 1 / (l - r);
        var bt = 1 / (b - t);
        m[0] *= -2 * lr;
        m[4] *= -2 * bt;
        m[6] += (l + r) * lr;
        m[7] += (t + b) * bt;
        return m;
    }
    exports_5("mat3x3Ortho", mat3x3Ortho);
    function mat3x3Translate(m, x, y) {
        m[6] += m[0] * x + m[3] * y;
        m[7] += m[1] * x + m[4] * y;
        return m;
    }
    exports_5("mat3x3Translate", mat3x3Translate);
    function mat3x3RotateCosSin(m, c, s) {
        var m0 = m[0];
        var m1 = m[1];
        var m3 = m[3];
        var m4 = m[4];
        m[0] = m0 * c + m3 * s;
        m[1] = m1 * c + m4 * s;
        m[3] = m3 * c - m0 * s;
        m[4] = m4 * c - m1 * s;
        return m;
    }
    exports_5("mat3x3RotateCosSin", mat3x3RotateCosSin);
    function mat3x3Rotate(m, angle) {
        return mat3x3RotateCosSin(m, Math.cos(angle), Math.sin(angle));
    }
    exports_5("mat3x3Rotate", mat3x3Rotate);
    function mat3x3Scale(m, x, y) {
        m[0] *= x;
        m[1] *= x;
        m[2] *= x;
        m[3] *= y;
        m[4] *= y;
        m[5] *= y;
        return m;
    }
    exports_5("mat3x3Scale", mat3x3Scale);
    function mat3x3Transform(m, v, out) {
        var x = m[0] * v[0] + m[3] * v[1] + m[6];
        var y = m[1] * v[0] + m[4] * v[1] + m[7];
        var w = m[2] * v[0] + m[5] * v[1] + m[8];
        var iw = (w) ? (1 / w) : (1);
        out[0] = x * iw;
        out[1] = y * iw;
        return out;
    }
    exports_5("mat3x3Transform", mat3x3Transform);
    function mat3x3ApplySpace(m, space) {
        if (space) {
            mat3x3Translate(m, space.position.x, space.position.y);
            mat3x3Rotate(m, space.rotation.rad);
            mat3x3Scale(m, space.scale.x, space.scale.y);
        }
        return m;
    }
    exports_5("mat3x3ApplySpace", mat3x3ApplySpace);
    function mat3x3ApplyAtlasPageTexcoord(m, page) {
        if (page) {
            mat3x3Scale(m, 1 / page.w, 1 / page.h);
        }
        return m;
    }
    exports_5("mat3x3ApplyAtlasPageTexcoord", mat3x3ApplyAtlasPageTexcoord);
    function mat3x3ApplyAtlasSiteTexcoord(m, site) {
        if (site) {
            mat3x3Translate(m, site.x, site.y);
            if (site.rotate === -1) {
                mat3x3Translate(m, 0, site.w);
                mat3x3RotateCosSin(m, 0, -1);
            }
            else if (site.rotate === 1) {
                mat3x3Translate(m, site.h, 0);
                mat3x3RotateCosSin(m, 0, 1);
            }
            mat3x3Scale(m, site.w, site.h);
        }
        return m;
    }
    exports_5("mat3x3ApplyAtlasSiteTexcoord", mat3x3ApplyAtlasSiteTexcoord);
    function mat3x3ApplyAtlasSitePosition(m, site) {
        if (site) {
            mat3x3Scale(m, 1 / site.original_w, 1 / site.original_h);
            mat3x3Translate(m, 2 * site.offset_x - (site.original_w - site.w), (site.original_h - site.h) - 2 * site.offset_y);
            mat3x3Scale(m, site.w, site.h);
        }
        return m;
    }
    exports_5("mat3x3ApplyAtlasSitePosition", mat3x3ApplyAtlasSitePosition);
    function mat4x4Identity(m) {
        m[1] = m[2] = m[3] = m[4] =
            m[6] = m[7] = m[8] = m[9] =
                m[11] = m[12] = m[13] = m[14] = 0.0;
        m[0] = m[5] = m[10] = m[15] = 1.0;
        return m;
    }
    exports_5("mat4x4Identity", mat4x4Identity);
    function mat4x4Copy(m, other) {
        m.set(other);
        return m;
    }
    exports_5("mat4x4Copy", mat4x4Copy);
    function mat4x4Ortho(m, l, r, b, t, n, f) {
        var lr = 1 / (l - r);
        var bt = 1 / (b - t);
        var nf = 1 / (n - f);
        m[0] = -2 * lr;
        m[5] = -2 * bt;
        m[10] = 2 * nf;
        m[12] = (l + r) * lr;
        m[13] = (t + b) * bt;
        m[14] = (f + n) * nf;
        return m;
    }
    exports_5("mat4x4Ortho", mat4x4Ortho);
    function mat4x4Translate(m, x, y, z) {
        if (z === void 0) { z = 0; }
        m[12] += m[0] * x + m[4] * y + m[8] * z;
        m[13] += m[1] * x + m[5] * y + m[9] * z;
        m[14] += m[2] * x + m[6] * y + m[10] * z;
        m[15] += m[3] * x + m[7] * y + m[11] * z;
        return m;
    }
    exports_5("mat4x4Translate", mat4x4Translate);
    function mat4x4RotateCosSinZ(m, c, s) {
        var a_x = m[0];
        var a_y = m[1];
        var a_z = m[2];
        var a_w = m[3];
        var b_x = m[4];
        var b_y = m[5];
        var b_z = m[6];
        var b_w = m[7];
        m[0] = a_x * c + b_x * s;
        m[1] = a_y * c + b_y * s;
        m[2] = a_z * c + b_z * s;
        m[3] = a_w * c + b_w * s;
        m[4] = b_x * c - a_x * s;
        m[5] = b_y * c - a_y * s;
        m[6] = b_z * c - a_z * s;
        m[7] = b_w * c - a_w * s;
        return m;
    }
    exports_5("mat4x4RotateCosSinZ", mat4x4RotateCosSinZ);
    function mat4x4RotateZ(m, angle) {
        return mat4x4RotateCosSinZ(m, Math.cos(angle), Math.sin(angle));
    }
    exports_5("mat4x4RotateZ", mat4x4RotateZ);
    function mat4x4Scale(m, x, y, z) {
        if (z === void 0) { z = 1; }
        m[0] *= x;
        m[1] *= x;
        m[2] *= x;
        m[3] *= x;
        m[4] *= y;
        m[5] *= y;
        m[6] *= y;
        m[7] *= y;
        m[8] *= z;
        m[9] *= z;
        m[10] *= z;
        m[11] *= z;
        return m;
    }
    exports_5("mat4x4Scale", mat4x4Scale);
    function glCompileShader(gl, src, type) {
        src = flatten(src);
        var shader = gl.createShader(type);
        gl.shaderSource(shader, src.join('\n'));
        gl.compileShader(shader);
        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
            src.forEach(function (line, index) { console.log(index + 1, line); });
            console.log(gl.getShaderInfoLog(shader));
            gl.deleteShader(shader);
            shader = null;
        }
        return shader;
    }
    exports_5("glCompileShader", glCompileShader);
    function glLinkProgram(gl, vs, fs) {
        var program = gl.createProgram();
        gl.attachShader(program, vs);
        gl.attachShader(program, fs);
        gl.linkProgram(program);
        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
            console.log("could not link shader program");
            gl.detachShader(program, vs);
            gl.detachShader(program, fs);
            gl.deleteProgram(program);
            program = null;
        }
        return program;
    }
    exports_5("glLinkProgram", glLinkProgram);
    function glGetUniforms(gl, program, uniforms) {
        var count = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);
        for (var index = 0; index < count; ++index) {
            var uniform = gl.getActiveUniform(program, index);
            uniforms[uniform.name] = gl.getUniformLocation(program, uniform.name);
        }
        return uniforms;
    }
    exports_5("glGetUniforms", glGetUniforms);
    function glGetAttribs(gl, program, attribs) {
        var count = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);
        for (var index = 0; index < count; ++index) {
            var attrib = gl.getActiveAttrib(program, index);
            attribs[attrib.name] = gl.getAttribLocation(program, attrib.name);
        }
        return attribs;
    }
    exports_5("glGetAttribs", glGetAttribs);
    function glMakeShader(gl, vs_src, fs_src) {
        var shader = new glShader();
        shader.vs_src = vs_src;
        shader.fs_src = fs_src;
        shader.vs = glCompileShader(gl, shader.vs_src, gl.VERTEX_SHADER);
        shader.fs = glCompileShader(gl, shader.fs_src, gl.FRAGMENT_SHADER);
        shader.program = glLinkProgram(gl, shader.vs, shader.fs);
        shader.uniforms = glGetUniforms(gl, shader.program, {});
        shader.attribs = glGetAttribs(gl, shader.program, {});
        return shader;
    }
    exports_5("glMakeShader", glMakeShader);
    function glMakeVertex(gl, type_array, size, buffer_type, buffer_draw) {
        var vertex = new glVertex();
        if (type_array instanceof Float32Array) {
            vertex.type = gl.FLOAT;
        }
        else if (type_array instanceof Int8Array) {
            vertex.type = gl.BYTE;
        }
        else if (type_array instanceof Uint8Array) {
            vertex.type = gl.UNSIGNED_BYTE;
        }
        else if (type_array instanceof Int16Array) {
            vertex.type = gl.SHORT;
        }
        else if (type_array instanceof Uint16Array) {
            vertex.type = gl.UNSIGNED_SHORT;
        }
        else if (type_array instanceof Int32Array) {
            vertex.type = gl.INT;
        }
        else if (type_array instanceof Uint32Array) {
            vertex.type = gl.UNSIGNED_INT;
        }
        else {
            vertex.type = gl.NONE;
            throw new Error();
        }
        vertex.size = size;
        vertex.count = type_array.length / vertex.size;
        vertex.type_array = type_array;
        vertex.buffer = gl.createBuffer();
        vertex.buffer_type = buffer_type;
        vertex.buffer_draw = buffer_draw;
        gl.bindBuffer(vertex.buffer_type, vertex.buffer);
        gl.bufferData(vertex.buffer_type, vertex.type_array, vertex.buffer_draw);
        return vertex;
    }
    exports_5("glMakeVertex", glMakeVertex);
    function glSetupAttribute(gl, shader, format, vertex, count) {
        if (count === void 0) { count = 0; }
        gl.bindBuffer(vertex.buffer_type, vertex.buffer);
        if (count > 0) {
            var sizeof_vertex = vertex.type_array.BYTES_PER_ELEMENT * vertex.size;
            var stride = sizeof_vertex * count;
            for (var index = 0; index < count; ++index) {
                var offset = sizeof_vertex * index;
                var attrib = shader.attribs[format.replace(/{index}/g, index.toString())];
                gl.vertexAttribPointer(attrib, vertex.size, vertex.type, false, stride, offset);
                gl.enableVertexAttribArray(attrib);
            }
        }
        else {
            var attrib = shader.attribs[format];
            gl.vertexAttribPointer(attrib, vertex.size, vertex.type, false, 0, 0);
            gl.enableVertexAttribArray(attrib);
        }
    }
    exports_5("glSetupAttribute", glSetupAttribute);
    function glResetAttribute(gl, shader, format, vertex, count) {
        if (count === void 0) { count = 0; }
        if (count > 0) {
            for (var index = 0; index < count; ++index) {
                var attrib = shader.attribs[format.replace(/{index}/g, index.toString())];
                gl.disableVertexAttribArray(attrib);
            }
        }
        else {
            var attrib = shader.attribs[format];
            gl.disableVertexAttribArray(attrib);
        }
    }
    exports_5("glResetAttribute", glResetAttribute);
    return {
        setters:[
            function (spine_1) {
                spine = spine_1;
            }],
        execute: function() {
            glShader = (function () {
                function glShader() {
                }
                return glShader;
            }());
            exports_5("glShader", glShader);
            glVertex = (function () {
                function glVertex() {
                }
                return glVertex;
            }());
            exports_5("glVertex", glVertex);
            BoneInfo = (function () {
                function BoneInfo() {
                }
                return BoneInfo;
            }());
            exports_5("BoneInfo", BoneInfo);
            SkinInfo = (function () {
                function SkinInfo() {
                    this.slot_info_map = {};
                }
                return SkinInfo;
            }());
            exports_5("SkinInfo", SkinInfo);
            SlotInfo = (function () {
                function SlotInfo() {
                    this.attachment_info_map = {};
                }
                return SlotInfo;
            }());
            exports_5("SlotInfo", SlotInfo);
            AttachmentInfo = (function () {
                function AttachmentInfo(type) {
                    this.type = type;
                }
                return AttachmentInfo;
            }());
            exports_5("AttachmentInfo", AttachmentInfo);
            RegionAttachmentInfo = (function (_super) {
                __extends(RegionAttachmentInfo, _super);
                function RegionAttachmentInfo() {
                    _super.call(this, 'region');
                }
                return RegionAttachmentInfo;
            }(AttachmentInfo));
            exports_5("RegionAttachmentInfo", RegionAttachmentInfo);
            BoundingBoxAttachmentInfo = (function (_super) {
                __extends(BoundingBoxAttachmentInfo, _super);
                function BoundingBoxAttachmentInfo() {
                    _super.call(this, 'boundingbox');
                }
                return BoundingBoxAttachmentInfo;
            }(AttachmentInfo));
            exports_5("BoundingBoxAttachmentInfo", BoundingBoxAttachmentInfo);
            MeshAttachmentInfo = (function (_super) {
                __extends(MeshAttachmentInfo, _super);
                function MeshAttachmentInfo() {
                    _super.call(this, 'mesh');
                }
                return MeshAttachmentInfo;
            }(AttachmentInfo));
            exports_5("MeshAttachmentInfo", MeshAttachmentInfo);
            SkinnedMeshAttachmentInfo = (function (_super) {
                __extends(SkinnedMeshAttachmentInfo, _super);
                function SkinnedMeshAttachmentInfo() {
                    _super.call(this, 'skinnedmesh');
                }
                return SkinnedMeshAttachmentInfo;
            }(AttachmentInfo));
            exports_5("SkinnedMeshAttachmentInfo", SkinnedMeshAttachmentInfo);
            RenderWebGL = (function () {
                function RenderWebGL(gl) {
                    this.bone_info_map = {};
                    this.skin_info_map = {};
                    this.gl_textures = {};
                    this.gl_projection = mat4x4Identity(new Float32Array(16));
                    this.gl_modelview = mat3x3Identity(new Float32Array(9));
                    this.gl_tex_matrix = mat3x3Identity(new Float32Array(9));
                    this.gl_color = vec4Identity(new Float32Array(4));
                    var render = this;
                    render.gl = gl;
                    if (!gl) {
                        return;
                    }
                    var gl_mesh_shader_vs_src = [
                        "precision mediump int;",
                        "precision mediump float;",
                        "uniform mat4 uProjection;",
                        "uniform mat3 uModelview;",
                        "uniform mat3 uTexMatrix;",
                        "attribute vec2 aVertexPosition;",
                        "attribute vec2 aVertexTexCoord;",
                        "varying vec3 vTexCoord;",
                        "void main(void) {",
                        " vTexCoord = uTexMatrix * vec3(aVertexTexCoord, 1.0);",
                        " gl_Position = uProjection * vec4(uModelview * vec3(aVertexPosition, 1.0), 1.0);",
                        "}"
                    ];
                    var gl_ffd_mesh_shader_vs_src = [
                        "precision mediump int;",
                        "precision mediump float;",
                        "uniform mat4 uProjection;",
                        "uniform mat3 uModelview;",
                        "uniform mat3 uTexMatrix;",
                        "uniform float uMorphWeight;",
                        "attribute vec2 aVertexPosition;",
                        "attribute vec2 aVertexTexCoord;",
                        "attribute vec2 aVertexMorph0Position;",
                        "attribute vec2 aVertexMorph1Position;",
                        "varying vec3 vTexCoord;",
                        "void main(void) {",
                        " vTexCoord = uTexMatrix * vec3(aVertexTexCoord, 1.0);",
                        " gl_Position = uProjection * vec4(uModelview * vec3(aVertexPosition + mix(aVertexMorph0Position, aVertexMorph1Position, uMorphWeight), 1.0), 1.0);",
                        "}"
                    ];
                    var gl_mesh_shader_fs_src = [
                        "precision mediump int;",
                        "precision mediump float;",
                        "uniform sampler2D uSampler;",
                        "uniform vec4 uColor;",
                        "varying vec3 vTexCoord;",
                        "void main(void) {",
                        " gl_FragColor = uColor * texture2D(uSampler, vTexCoord.st);",
                        "}"
                    ];
                    render.gl_mesh_shader = glMakeShader(gl, gl_mesh_shader_vs_src, gl_mesh_shader_fs_src);
                    render.gl_ffd_mesh_shader = glMakeShader(gl, gl_ffd_mesh_shader_vs_src, gl_mesh_shader_fs_src);
                    render.gl_region_vertex_position = glMakeVertex(gl, new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]), 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                    render.gl_region_vertex_texcoord = glMakeVertex(gl, new Float32Array([0, 1, 1, 1, 1, 0, 0, 0]), 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                    render.gl_skin_shader_modelview_count = 16;
                    render.gl_skin_shader_modelview_array = new Float32Array(9 * render.gl_skin_shader_modelview_count);
                    render.gl_skin_shader_blenders_count = 8;
                    var gl_skin_shader_vs_src = [
                        "precision mediump int;",
                        "precision mediump float;",
                        "uniform mat4 uProjection;",
                        "uniform mat3 uModelviewArray[" + render.gl_skin_shader_modelview_count + "];",
                        "uniform mat3 uTexMatrix;",
                        "attribute vec2 aVertexPosition;",
                        repeat("attribute vec2 aVertexBlenders{index};", render.gl_skin_shader_blenders_count),
                        "attribute vec2 aVertexTexCoord;",
                        "varying vec3 vTexCoord;",
                        "void main(void) {",
                        " vTexCoord = uTexMatrix * vec3(aVertexTexCoord, 1.0);",
                        " vec3 position = vec3(aVertexPosition, 1.0);",
                        " vec3 blendPosition = vec3(0.0);",
                        repeat(" blendPosition += (uModelviewArray[int(aVertexBlenders{index}.x)] * position) * aVertexBlenders{index}.y;", render.gl_skin_shader_blenders_count),
                        " gl_Position = uProjection * vec4(blendPosition, 1.0);",
                        "}"
                    ];
                    var gl_ffd_skin_shader_vs_src = [
                        "precision mediump int;",
                        "precision mediump float;",
                        "uniform mat4 uProjection;",
                        "uniform mat3 uModelviewArray[" + render.gl_skin_shader_modelview_count + "];",
                        "uniform mat3 uTexMatrix;",
                        "uniform float uMorphWeight;",
                        "attribute vec2 aVertexPosition;",
                        repeat("attribute vec2 aVertexBlenders{index};", render.gl_skin_shader_blenders_count),
                        "attribute vec2 aVertexTexCoord;",
                        "attribute vec2 aVertexMorph0Position;",
                        "attribute vec2 aVertexMorph1Position;",
                        "varying vec3 vTexCoord;",
                        "void main(void) {",
                        " vTexCoord = uTexMatrix * vec3(aVertexTexCoord, 1.0);",
                        " vec3 position = vec3(aVertexPosition + mix(aVertexMorph0Position, aVertexMorph1Position, uMorphWeight), 1.0);",
                        " vec3 blendPosition = vec3(0.0);",
                        repeat(" blendPosition += (uModelviewArray[int(aVertexBlenders{index}.x)] * position) * aVertexBlenders{index}.y;", render.gl_skin_shader_blenders_count),
                        " gl_Position = uProjection * vec4(blendPosition, 1.0);",
                        "}"
                    ];
                    var gl_skin_shader_fs_src = [
                        "precision mediump int;",
                        "precision mediump float;",
                        "uniform sampler2D uSampler;",
                        "uniform vec4 uColor;",
                        "varying vec3 vTexCoord;",
                        "void main(void) {",
                        " gl_FragColor = uColor * texture2D(uSampler, vTexCoord.st);",
                        "}"
                    ];
                    render.gl_skin_shader = glMakeShader(gl, gl_skin_shader_vs_src, gl_skin_shader_fs_src);
                    render.gl_ffd_skin_shader = glMakeShader(gl, gl_ffd_skin_shader_vs_src, gl_skin_shader_fs_src);
                }
                RenderWebGL.prototype.dropData = function (spine_data, atlas_data) {
                    var render = this;
                    var gl = render.gl;
                    if (!gl) {
                        return;
                    }
                    Object.keys(render.gl_textures).forEach(function (image_key) {
                        var gl_texture = render.gl_textures[image_key];
                        gl.deleteTexture(gl_texture);
                        delete render.gl_textures[image_key];
                    });
                    render.gl_textures = {};
                    Object.keys(render.bone_info_map).forEach(function (bone_key) {
                        var bone_info = render.bone_info_map[bone_key];
                    });
                    render.bone_info_map = {};
                    Object.keys(render.skin_info_map).forEach(function (skin_key) {
                        var skin_info = render.skin_info_map[skin_key];
                        Object.keys(skin_info.slot_info_map).forEach(function (slot_key) {
                            var slot_info = skin_info.slot_info_map[slot_key];
                            Object.keys(slot_info.attachment_info_map).forEach(function (attachment_key) {
                                var attachment_info = slot_info.attachment_info_map[attachment_key];
                                switch (attachment_info.type) {
                                    case 'mesh': {
                                        var mesh_attachment_info_1 = attachment_info;
                                        gl.deleteBuffer(mesh_attachment_info_1.gl_vertex_position.buffer);
                                        gl.deleteBuffer(mesh_attachment_info_1.gl_vertex_texcoord.buffer);
                                        gl.deleteBuffer(mesh_attachment_info_1.gl_vertex_triangle.buffer);
                                        Object.keys(mesh_attachment_info_1.anim_ffd_attachments).forEach(function (anim_key) {
                                            var anim_ffd_attachment = mesh_attachment_info_1.anim_ffd_attachments[anim_key];
                                            anim_ffd_attachment.ffd_keyframes.forEach(function (ffd_keyframe) {
                                                gl.deleteBuffer(ffd_keyframe.gl_vertex.buffer);
                                            });
                                        });
                                        break;
                                    }
                                    case 'skinnedmesh': {
                                        var skinned_mesh_attachment_info_1 = attachment_info;
                                        gl.deleteBuffer(skinned_mesh_attachment_info_1.gl_vertex_position.buffer);
                                        gl.deleteBuffer(skinned_mesh_attachment_info_1.gl_vertex_blenders.buffer);
                                        gl.deleteBuffer(skinned_mesh_attachment_info_1.gl_vertex_texcoord.buffer);
                                        gl.deleteBuffer(skinned_mesh_attachment_info_1.gl_vertex_triangle.buffer);
                                        Object.keys(skinned_mesh_attachment_info_1.anim_ffd_attachments).forEach(function (anim_key) {
                                            var anim_ffd_attachment = skinned_mesh_attachment_info_1.anim_ffd_attachments[anim_key];
                                            anim_ffd_attachment.ffd_keyframes.forEach(function (ffd_keyframe) {
                                                gl.deleteBuffer(ffd_keyframe.gl_vertex.buffer);
                                            });
                                        });
                                        break;
                                    }
                                    default:
                                        console.log("TODO", skin_key, slot_key, attachment_key, attachment_info.type);
                                        break;
                                }
                            });
                        });
                    });
                    render.skin_info_map = {};
                };
                ;
                RenderWebGL.prototype.loadData = function (spine_data, atlas_data, images) {
                    var render = this;
                    var gl = render.gl;
                    if (!gl) {
                        return;
                    }
                    spine_data.iterateBones(function (bone_key, bone) {
                        var bone_info = render.bone_info_map[bone_key] = new BoneInfo();
                        bone_info.setup_space = spine.Space.invert(bone.world_space, new spine.Space());
                    });
                    spine_data.iterateSkins(function (skin_key, skin) {
                        var skin_info = render.skin_info_map[skin_key] = new SkinInfo();
                        skin.iterateAttachments(function (slot_key, skin_slot, attachment_key, attachment) {
                            if (!attachment) {
                                return;
                            }
                            var slot_info = skin_info.slot_info_map[slot_key] = skin_info.slot_info_map[slot_key] || new SlotInfo();
                            switch (attachment.type) {
                                case 'mesh': {
                                    var mesh_attachment = attachment;
                                    var mesh_attachment_info = slot_info.attachment_info_map[attachment_key] = new MeshAttachmentInfo();
                                    var vertex_count_1 = mesh_attachment.vertices.length / 2;
                                    var vertex_position = new Float32Array(mesh_attachment.vertices);
                                    var vertex_texcoord = new Float32Array(mesh_attachment.uvs);
                                    var vertex_triangle = new Uint16Array(mesh_attachment.triangles);
                                    mesh_attachment_info.gl_vertex_position = glMakeVertex(gl, vertex_position, 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                                    mesh_attachment_info.gl_vertex_texcoord = glMakeVertex(gl, vertex_texcoord, 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                                    mesh_attachment_info.gl_vertex_triangle = glMakeVertex(gl, vertex_triangle, 1, gl.ELEMENT_ARRAY_BUFFER, gl.STATIC_DRAW);
                                    var anim_ffd_attachments_1 = mesh_attachment_info.anim_ffd_attachments = {};
                                    spine_data.iterateAnims(function (anim_key, anim) {
                                        var anim_ffd = anim.ffds && anim.ffds[skin_key];
                                        var ffd_slot = anim_ffd && anim_ffd.ffd_slots[slot_key];
                                        var ffd_attachment = ffd_slot && ffd_slot.ffd_attachments[attachment_key];
                                        if (ffd_attachment) {
                                            var anim_ffd_attachment = anim_ffd_attachments_1[anim_key] = {};
                                            var anim_ffd_keyframes_1 = anim_ffd_attachment.ffd_keyframes = [];
                                            ffd_attachment.ffd_keyframes.forEach(function (ffd_keyframe, ffd_keyframe_index) {
                                                var anim_ffd_keyframe = anim_ffd_keyframes_1[ffd_keyframe_index] = {};
                                                var vertex = new Float32Array(2 * vertex_count_1);
                                                vertex.subarray(ffd_keyframe.offset, ffd_keyframe.offset + ffd_keyframe.vertices.length).set(new Float32Array(ffd_keyframe.vertices));
                                                anim_ffd_keyframe.gl_vertex = glMakeVertex(gl, vertex, 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                                            });
                                        }
                                    });
                                    break;
                                }
                                case 'skinnedmesh': {
                                    var skinned_mesh_attachment_1 = attachment;
                                    var skinned_mesh_attachment_info = slot_info.attachment_info_map[attachment_key] = new SkinnedMeshAttachmentInfo();
                                    var vertex_count_2 = skinned_mesh_attachment_1.uvs.length / 2;
                                    var vertex_position = new Float32Array(2 * vertex_count_2);
                                    var vertex_blenders_1 = new Float32Array(2 * render.gl_skin_shader_blenders_count * vertex_count_2);
                                    var vertex_texcoord = new Float32Array(skinned_mesh_attachment_1.uvs);
                                    var vertex_triangle = new Uint16Array(skinned_mesh_attachment_1.triangles);
                                    var blend_bone_index_array_1 = skinned_mesh_attachment_info.blend_bone_index_array = [];
                                    var _loop_1 = function(vertex_index, index) {
                                        var blender_count = skinned_mesh_attachment_1.vertices[index++];
                                        var blender_array = [];
                                        for (var blender_index = 0; blender_index < blender_count; ++blender_index) {
                                            var bone_index = skinned_mesh_attachment_1.vertices[index++];
                                            var x = skinned_mesh_attachment_1.vertices[index++];
                                            var y = skinned_mesh_attachment_1.vertices[index++];
                                            var weight = skinned_mesh_attachment_1.vertices[index++];
                                            blender_array.push({ position: new spine.Vector(x, y), bone_index: bone_index, weight: weight });
                                        }
                                        blender_array = blender_array.sort(function (a, b) { return b.weight - a.weight; });
                                        if (blender_array.length > render.gl_skin_shader_blenders_count) {
                                            console.log("blend array length for", attachment_key, "is", blender_array.length, "so clamp to", render.gl_skin_shader_blenders_count);
                                            blender_array.length = render.gl_skin_shader_blenders_count;
                                            var weight_sum_1 = 0;
                                            blender_array.forEach(function (blend) { weight_sum_1 += blend.weight; });
                                            blender_array.forEach(function (blend) { blend.weight /= weight_sum_1; });
                                        }
                                        var position_x = 0;
                                        var position_y = 0;
                                        var blend_position = new spine.Vector();
                                        var vertex_blenders_offset = vertex_index * 2 * render.gl_skin_shader_blenders_count;
                                        blender_array.forEach(function (blend, index) {
                                            if (blend_bone_index_array_1.indexOf(blend.bone_index) === -1) {
                                                blend_bone_index_array_1.push(blend.bone_index);
                                            }
                                            var bone_key = spine_data.bone_keys[blend.bone_index];
                                            var bone = spine_data.bones[bone_key];
                                            spine.Space.transform(bone.world_space, blend.position, blend_position);
                                            position_x += blend_position.x * blend.weight;
                                            position_y += blend_position.y * blend.weight;
                                            vertex_blenders_1[vertex_blenders_offset++] = blend_bone_index_array_1.indexOf(blend.bone_index);
                                            vertex_blenders_1[vertex_blenders_offset++] = blend.weight;
                                        });
                                        var vertex_position_offset = vertex_index * 2;
                                        vertex_position[vertex_position_offset++] = position_x;
                                        vertex_position[vertex_position_offset++] = position_y;
                                        if (blend_bone_index_array_1.length > render.gl_skin_shader_modelview_count) {
                                            console.log("blend bone index array length for", attachment_key, "is", blend_bone_index_array_1.length, "greater than", render.gl_skin_shader_modelview_count);
                                        }
                                        out_index_1 = index;
                                    };
                                    var out_index_1;
                                    for (var vertex_index = 0, index = 0; vertex_index < vertex_count_2; ++vertex_index) {
                                        _loop_1(vertex_index, index);
                                        index = out_index_1;
                                    }
                                    skinned_mesh_attachment_info.gl_vertex_position = glMakeVertex(gl, vertex_position, 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                                    skinned_mesh_attachment_info.gl_vertex_blenders = glMakeVertex(gl, vertex_blenders_1, 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                                    skinned_mesh_attachment_info.gl_vertex_texcoord = glMakeVertex(gl, vertex_texcoord, 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                                    skinned_mesh_attachment_info.gl_vertex_triangle = glMakeVertex(gl, vertex_triangle, 1, gl.ELEMENT_ARRAY_BUFFER, gl.STATIC_DRAW);
                                    var anim_ffd_attachments_2 = skinned_mesh_attachment_info.anim_ffd_attachments = {};
                                    spine_data.iterateAnims(function (anim_key, anim) {
                                        var anim_ffd = anim.ffds && anim.ffds[skin_key];
                                        var ffd_slot = anim_ffd && anim_ffd.ffd_slots[slot_key];
                                        var ffd_attachment = ffd_slot && ffd_slot.ffd_attachments[attachment_key];
                                        if (ffd_attachment) {
                                            var anim_ffd_attachment = anim_ffd_attachments_2[anim_key] = {};
                                            var anim_ffd_keyframes_2 = anim_ffd_attachment.ffd_keyframes = [];
                                            ffd_attachment.ffd_keyframes.forEach(function (ffd_keyframe, ffd_keyframe_index) {
                                                var anim_ffd_keyframe = anim_ffd_keyframes_2[ffd_keyframe_index] = {};
                                                var vertex = new Float32Array(2 * vertex_count_2);
                                                for (var vertex_index = 0, index = 0, ffd_index = 0; vertex_index < vertex_count_2; ++vertex_index) {
                                                    var blender_count = skinned_mesh_attachment_1.vertices[index++];
                                                    var vertex_x = 0;
                                                    var vertex_y = 0;
                                                    for (var blender_index = 0; blender_index < blender_count; ++blender_index) {
                                                        var bone_index = skinned_mesh_attachment_1.vertices[index++];
                                                        var x = skinned_mesh_attachment_1.vertices[index++];
                                                        var y = skinned_mesh_attachment_1.vertices[index++];
                                                        var weight = skinned_mesh_attachment_1.vertices[index++];
                                                        var morph_position_x = ffd_keyframe.vertices[ffd_index - ffd_keyframe.offset] || 0;
                                                        ++ffd_index;
                                                        var morph_position_y = ffd_keyframe.vertices[ffd_index - ffd_keyframe.offset] || 0;
                                                        ++ffd_index;
                                                        vertex_x += morph_position_x * weight;
                                                        vertex_y += morph_position_y * weight;
                                                    }
                                                    var vertex_offset = vertex_index * 2;
                                                    vertex[vertex_offset++] = vertex_x;
                                                    vertex[vertex_offset++] = vertex_y;
                                                }
                                                anim_ffd_keyframe.gl_vertex = glMakeVertex(gl, vertex, 2, gl.ARRAY_BUFFER, gl.STATIC_DRAW);
                                            });
                                        }
                                    });
                                    break;
                                }
                                default:
                                    break;
                            }
                        });
                    });
                    if (atlas_data) {
                        atlas_data.pages.forEach(function (page) {
                            if (page.format !== 'RGBA8888') {
                                throw new Error(page.format);
                            }
                            var gl_min_filter = gl.NONE;
                            switch (page.min_filter) {
                                case 'Nearest':
                                    gl_min_filter = gl.NEAREST;
                                    break;
                                default:
                                case 'Linear':
                                    gl_min_filter = gl.LINEAR;
                                    break;
                                case 'MipMapNearestNearest':
                                    gl_min_filter = gl.NEAREST_MIPMAP_NEAREST;
                                    break;
                                case 'MipMapLinearNearest':
                                    gl_min_filter = gl.LINEAR_MIPMAP_NEAREST;
                                    break;
                                case 'MipMapNearestLinear':
                                    gl_min_filter = gl.NEAREST_MIPMAP_LINEAR;
                                    break;
                                case 'MipMapLinearLinear':
                                    gl_min_filter = gl.LINEAR_MIPMAP_LINEAR;
                                    break;
                            }
                            var gl_mag_filter = gl.NONE;
                            switch (page.mag_filter) {
                                case 'Nearest':
                                    gl_mag_filter = gl.NEAREST;
                                    break;
                                default:
                                case 'Linear':
                                    gl_mag_filter = gl.LINEAR;
                                    break;
                            }
                            var gl_wrap_s = gl.NONE;
                            switch (page.wrap_s) {
                                case 'Repeat':
                                    gl_wrap_s = gl.REPEAT;
                                    break;
                                default:
                                case 'ClampToEdge':
                                    gl_wrap_s = gl.CLAMP_TO_EDGE;
                                    break;
                                case 'MirroredRepeat':
                                    gl_wrap_s = gl.MIRRORED_REPEAT;
                                    break;
                            }
                            var gl_wrap_t = gl.NONE;
                            switch (page.wrap_t) {
                                case 'Repeat':
                                    gl_wrap_t = gl.REPEAT;
                                    break;
                                default:
                                case 'ClampToEdge':
                                    gl_wrap_t = gl.CLAMP_TO_EDGE;
                                    break;
                                case 'MirroredRepeat':
                                    gl_wrap_t = gl.MIRRORED_REPEAT;
                                    break;
                            }
                            var image_key = page.name;
                            var image = images[image_key];
                            var gl_texture = render.gl_textures[image_key] = gl.createTexture();
                            gl.bindTexture(gl.TEXTURE_2D, gl_texture);
                            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);
                            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl_min_filter);
                            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl_mag_filter);
                            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl_wrap_s);
                            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl_wrap_t);
                        });
                    }
                    else {
                        spine_data.iterateSkins(function (skin_key, skin) {
                            skin.iterateAttachments(function (slot_key, skin_slot, attachment_key, attachment) {
                                if (!attachment) {
                                    return;
                                }
                                switch (attachment.type) {
                                    case 'region':
                                    case 'mesh':
                                    case 'skinnedmesh':
                                        var image_key = attachment_key;
                                        var image = images[image_key];
                                        var gl_texture = render.gl_textures[image_key] = gl.createTexture();
                                        gl.bindTexture(gl.TEXTURE_2D, gl_texture);
                                        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);
                                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
                                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
                                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
                                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
                                        break;
                                    default:
                                        break;
                                }
                            });
                        });
                    }
                };
                ;
                RenderWebGL.prototype.drawPose = function (spine_pose, atlas_data) {
                    var render = this;
                    var gl = render.gl;
                    if (!gl) {
                        return;
                    }
                    var gl_projection = render.gl_projection;
                    var gl_modelview = render.gl_modelview;
                    var gl_tex_matrix = render.gl_tex_matrix;
                    var gl_color = render.gl_color;
                    var alpha = gl_color[3];
                    spine_pose.iterateAttachments(function (slot_key, slot, skin_slot, attachment_key, attachment) {
                        if (!attachment) {
                            return;
                        }
                        if (attachment.type === 'boundingbox') {
                            return;
                        }
                        var site = atlas_data && atlas_data.sites[attachment_key];
                        var page = site && site.page;
                        var image_key = (page && page.name) || attachment_key;
                        var gl_texture = render.gl_textures[image_key];
                        if (!gl_texture) {
                            return;
                        }
                        mat3x3Identity(gl_modelview);
                        mat3x3Identity(gl_tex_matrix);
                        mat3x3ApplyAtlasPageTexcoord(gl_tex_matrix, page);
                        mat3x3ApplyAtlasSiteTexcoord(gl_tex_matrix, site);
                        vec4CopyColor(gl_color, slot.color);
                        gl_color[3] *= alpha;
                        gl.enable(gl.BLEND);
                        switch (slot.blend) {
                            default:
                            case 'normal':
                                gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);
                                break;
                            case 'additive':
                                gl.blendFunc(gl.SRC_ALPHA, gl.ONE);
                                break;
                            case 'multiply':
                                gl.blendFunc(gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA);
                                break;
                            case 'screen':
                                gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_COLOR);
                                break;
                        }
                        var skin_info = render.skin_info_map[spine_pose.skin_key];
                        var default_skin_info = render.skin_info_map['default'];
                        var slot_info = skin_info.slot_info_map[slot_key] || default_skin_info.slot_info_map[slot_key];
                        switch (attachment.type) {
                            case 'region': {
                                var bone = spine_pose.bones[slot.bone_key];
                                var region_attachment = attachment;
                                var region_attachment_info = slot_info.attachment_info_map[attachment_key];
                                mat3x3ApplySpace(gl_modelview, bone.world_space);
                                mat3x3ApplySpace(gl_modelview, region_attachment.local_space);
                                mat3x3Scale(gl_modelview, region_attachment.width / 2, region_attachment.height / 2);
                                mat3x3ApplyAtlasSitePosition(gl_modelview, site);
                                var gl_shader = render.gl_mesh_shader;
                                var gl_vertex_position = render.gl_region_vertex_position;
                                var gl_vertex_texcoord = render.gl_region_vertex_texcoord;
                                gl.useProgram(gl_shader.program);
                                gl.uniformMatrix4fv(gl_shader.uniforms['uProjection'], false, gl_projection);
                                gl.uniformMatrix3fv(gl_shader.uniforms['uModelview'], false, gl_modelview);
                                gl.uniformMatrix3fv(gl_shader.uniforms['uTexMatrix'], false, gl_tex_matrix);
                                gl.uniform4fv(gl_shader.uniforms['uColor'], gl_color);
                                gl.activeTexture(gl.TEXTURE0);
                                gl.bindTexture(gl.TEXTURE_2D, gl_texture);
                                gl.uniform1i(gl_shader.uniforms['uSampler'], 0);
                                glSetupAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                glSetupAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                gl.drawArrays(gl.TRIANGLE_FAN, 0, gl_vertex_position.count);
                                glResetAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                glResetAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                gl.bindTexture(gl.TEXTURE_2D, null);
                                gl.useProgram(null);
                                break;
                            }
                            case 'mesh': {
                                var bone = spine_pose.bones[slot.bone_key];
                                var mesh_attachment = attachment;
                                var mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                mat3x3ApplySpace(gl_modelview, bone.world_space);
                                mat3x3ApplyAtlasSitePosition(gl_modelview, site);
                                var anim = spine_pose.data.anims[spine_pose.anim_key];
                                var anim_ffd = anim && anim.ffds && anim.ffds[spine_pose.skin_key];
                                var ffd_slot = anim_ffd && anim_ffd.ffd_slots[slot_key];
                                var ffd_attachment = ffd_slot && ffd_slot.ffd_attachments[attachment_key];
                                var ffd_keyframes = ffd_attachment && ffd_attachment.ffd_keyframes;
                                var ffd_keyframe0_index = spine.Keyframe.find(ffd_keyframes, spine_pose.time);
                                if (ffd_keyframe0_index !== -1) {
                                    var pct = 0;
                                    var ffd_keyframe0 = ffd_keyframes[ffd_keyframe0_index];
                                    var ffd_keyframe1_index = ffd_keyframe0_index + 1;
                                    var ffd_keyframe1 = ffd_keyframes[ffd_keyframe1_index];
                                    if (ffd_keyframe1) {
                                        pct = ffd_keyframe0.curve.evaluate((spine_pose.time - ffd_keyframe0.time) / (ffd_keyframe1.time - ffd_keyframe0.time));
                                    }
                                    else {
                                        ffd_keyframe1_index = ffd_keyframe0_index;
                                        ffd_keyframe1 = ffd_keyframes[ffd_keyframe1_index];
                                    }
                                    var anim_ffd_attachment = mesh_attachment_info.anim_ffd_attachments[spine_pose.anim_key];
                                    var anim_ffd_keyframe0 = anim_ffd_attachment.ffd_keyframes[ffd_keyframe0_index];
                                    var anim_ffd_keyframe1 = anim_ffd_attachment.ffd_keyframes[ffd_keyframe1_index];
                                    var gl_shader = render.gl_ffd_mesh_shader;
                                    var gl_vertex_position = mesh_attachment_info.gl_vertex_position;
                                    var gl_vertex_texcoord = mesh_attachment_info.gl_vertex_texcoord;
                                    var gl_vertex_triangle = mesh_attachment_info.gl_vertex_triangle;
                                    gl.useProgram(gl_shader.program);
                                    gl.uniformMatrix4fv(gl_shader.uniforms['uProjection'], false, gl_projection);
                                    gl.uniformMatrix3fv(gl_shader.uniforms['uModelview'], false, gl_modelview);
                                    gl.uniformMatrix3fv(gl_shader.uniforms['uTexMatrix'], false, gl_tex_matrix);
                                    gl.uniform4fv(gl_shader.uniforms['uColor'], gl_color);
                                    gl.uniform1f(gl_shader.uniforms['uMorphWeight'], pct);
                                    gl.activeTexture(gl.TEXTURE0);
                                    gl.bindTexture(gl.TEXTURE_2D, gl_texture);
                                    gl.uniform1i(gl_shader.uniforms['uSampler'], 0);
                                    glSetupAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                    glSetupAttribute(gl, gl_shader, 'aVertexMorph0Position', anim_ffd_keyframe0.gl_vertex);
                                    glSetupAttribute(gl, gl_shader, 'aVertexMorph1Position', anim_ffd_keyframe1.gl_vertex);
                                    glSetupAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl_vertex_triangle.buffer);
                                    gl.drawElements(gl.TRIANGLES, gl_vertex_triangle.count, gl_vertex_triangle.type, 0);
                                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
                                    glResetAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                    glResetAttribute(gl, gl_shader, 'aVertexMorph0Position', anim_ffd_keyframe0.gl_vertex);
                                    glResetAttribute(gl, gl_shader, 'aVertexMorph1Position', anim_ffd_keyframe1.gl_vertex);
                                    glResetAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                    gl.bindTexture(gl.TEXTURE_2D, null);
                                    gl.useProgram(null);
                                }
                                else {
                                    var gl_shader = render.gl_mesh_shader;
                                    var gl_vertex_position = mesh_attachment_info.gl_vertex_position;
                                    var gl_vertex_texcoord = mesh_attachment_info.gl_vertex_texcoord;
                                    var gl_vertex_triangle = mesh_attachment_info.gl_vertex_triangle;
                                    gl.useProgram(gl_shader.program);
                                    gl.uniformMatrix4fv(gl_shader.uniforms['uProjection'], false, gl_projection);
                                    gl.uniformMatrix3fv(gl_shader.uniforms['uModelview'], false, gl_modelview);
                                    gl.uniformMatrix3fv(gl_shader.uniforms['uTexMatrix'], false, gl_tex_matrix);
                                    gl.uniform4fv(gl_shader.uniforms['uColor'], gl_color);
                                    gl.activeTexture(gl.TEXTURE0);
                                    gl.bindTexture(gl.TEXTURE_2D, gl_texture);
                                    gl.uniform1i(gl_shader.uniforms['uSampler'], 0);
                                    glSetupAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                    glSetupAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl_vertex_triangle.buffer);
                                    gl.drawElements(gl.TRIANGLES, gl_vertex_triangle.count, gl_vertex_triangle.type, 0);
                                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
                                    glResetAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                    glResetAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                    gl.bindTexture(gl.TEXTURE_2D, null);
                                    gl.useProgram(null);
                                }
                                break;
                            }
                            case 'skinnedmesh': {
                                var skinned_mesh_attachment = attachment;
                                var skinned_mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                var blend_bone_index_array = skinned_mesh_attachment_info.blend_bone_index_array;
                                for (var index = 0; index < blend_bone_index_array.length; ++index) {
                                    var bone_index = blend_bone_index_array[index];
                                    var bone_key = spine_pose.bone_keys[bone_index];
                                    var bone = spine_pose.bones[bone_key];
                                    var bone_info = render.bone_info_map[bone_key];
                                    if (index < render.gl_skin_shader_modelview_count) {
                                        var modelview = render.gl_skin_shader_modelview_array.subarray(index * 9, (index + 1) * 9);
                                        mat3x3Copy(modelview, gl_modelview);
                                        mat3x3ApplySpace(modelview, bone.world_space);
                                        mat3x3ApplySpace(modelview, bone_info.setup_space);
                                        mat3x3ApplyAtlasSitePosition(modelview, site);
                                    }
                                }
                                var anim = spine_pose.data.anims[spine_pose.anim_key];
                                var anim_ffd = anim && anim.ffds && anim.ffds[spine_pose.skin_key];
                                var ffd_slot = anim_ffd && anim_ffd.ffd_slots[slot_key];
                                var ffd_attachment = ffd_slot && ffd_slot.ffd_attachments[attachment_key];
                                var ffd_keyframes = ffd_attachment && ffd_attachment.ffd_keyframes;
                                var ffd_keyframe0_index = spine.Keyframe.find(ffd_keyframes, spine_pose.time);
                                if (ffd_keyframe0_index !== -1) {
                                    var pct = 0;
                                    var ffd_keyframe0 = ffd_keyframes[ffd_keyframe0_index];
                                    var ffd_keyframe1_index = ffd_keyframe0_index + 1;
                                    var ffd_keyframe1 = ffd_keyframes[ffd_keyframe1_index];
                                    if (ffd_keyframe1) {
                                        pct = ffd_keyframe0.curve.evaluate((spine_pose.time - ffd_keyframe0.time) / (ffd_keyframe1.time - ffd_keyframe0.time));
                                    }
                                    else {
                                        ffd_keyframe1_index = ffd_keyframe0_index;
                                        ffd_keyframe1 = ffd_keyframes[ffd_keyframe1_index];
                                    }
                                    var anim_ffd_attachment = skinned_mesh_attachment_info.anim_ffd_attachments[spine_pose.anim_key];
                                    var anim_ffd_keyframe0 = anim_ffd_attachment.ffd_keyframes[ffd_keyframe0_index];
                                    var anim_ffd_keyframe1 = anim_ffd_attachment.ffd_keyframes[ffd_keyframe1_index];
                                    var gl_shader = render.gl_ffd_skin_shader;
                                    var gl_vertex_position = skinned_mesh_attachment_info.gl_vertex_position;
                                    var gl_vertex_blenders = skinned_mesh_attachment_info.gl_vertex_blenders;
                                    var gl_vertex_texcoord = skinned_mesh_attachment_info.gl_vertex_texcoord;
                                    var gl_vertex_triangle = skinned_mesh_attachment_info.gl_vertex_triangle;
                                    gl.useProgram(gl_shader.program);
                                    gl.uniformMatrix4fv(gl_shader.uniforms['uProjection'], false, gl_projection);
                                    gl.uniformMatrix3fv(gl_shader.uniforms['uModelviewArray[0]'], false, render.gl_skin_shader_modelview_array);
                                    gl.uniformMatrix3fv(gl_shader.uniforms['uTexMatrix'], false, gl_tex_matrix);
                                    gl.uniform4fv(gl_shader.uniforms['uColor'], gl_color);
                                    gl.uniform1f(gl_shader.uniforms['uMorphWeight'], pct);
                                    gl.activeTexture(gl.TEXTURE0);
                                    gl.bindTexture(gl.TEXTURE_2D, gl_texture);
                                    gl.uniform1i(gl_shader.uniforms['uSampler'], 0);
                                    glSetupAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                    glSetupAttribute(gl, gl_shader, 'aVertexBlenders{index}', gl_vertex_blenders, render.gl_skin_shader_blenders_count);
                                    glSetupAttribute(gl, gl_shader, 'aVertexMorph0Position', anim_ffd_keyframe0.gl_vertex);
                                    glSetupAttribute(gl, gl_shader, 'aVertexMorph1Position', anim_ffd_keyframe1.gl_vertex);
                                    glSetupAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl_vertex_triangle.buffer);
                                    gl.drawElements(gl.TRIANGLES, gl_vertex_triangle.count, gl_vertex_triangle.type, 0);
                                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
                                    glResetAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                    glResetAttribute(gl, gl_shader, 'aVertexBlenders{index}', gl_vertex_blenders, render.gl_skin_shader_blenders_count);
                                    glResetAttribute(gl, gl_shader, 'aVertexMorph0Position', anim_ffd_keyframe0.gl_vertex);
                                    glResetAttribute(gl, gl_shader, 'aVertexMorph1Position', anim_ffd_keyframe1.gl_vertex);
                                    glResetAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                    gl.bindTexture(gl.TEXTURE_2D, null);
                                    gl.useProgram(null);
                                }
                                else {
                                    var gl_shader = render.gl_skin_shader;
                                    var gl_vertex_position = skinned_mesh_attachment_info.gl_vertex_position;
                                    var gl_vertex_blenders = skinned_mesh_attachment_info.gl_vertex_blenders;
                                    var gl_vertex_texcoord = skinned_mesh_attachment_info.gl_vertex_texcoord;
                                    var gl_vertex_triangle = skinned_mesh_attachment_info.gl_vertex_triangle;
                                    gl.useProgram(gl_shader.program);
                                    gl.uniformMatrix4fv(gl_shader.uniforms['uProjection'], false, gl_projection);
                                    gl.uniformMatrix3fv(gl_shader.uniforms['uModelviewArray[0]'], false, render.gl_skin_shader_modelview_array);
                                    gl.uniformMatrix3fv(gl_shader.uniforms['uTexMatrix'], false, gl_tex_matrix);
                                    gl.uniform4fv(gl_shader.uniforms['uColor'], gl_color);
                                    gl.activeTexture(gl.TEXTURE0);
                                    gl.bindTexture(gl.TEXTURE_2D, gl_texture);
                                    gl.uniform1i(gl_shader.uniforms['uSampler'], 0);
                                    glSetupAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                    glSetupAttribute(gl, gl_shader, 'aVertexBlenders{index}', gl_vertex_blenders, render.gl_skin_shader_blenders_count);
                                    glSetupAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl_vertex_triangle.buffer);
                                    gl.drawElements(gl.TRIANGLES, gl_vertex_triangle.count, gl_vertex_triangle.type, 0);
                                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
                                    glResetAttribute(gl, gl_shader, 'aVertexPosition', gl_vertex_position);
                                    glResetAttribute(gl, gl_shader, 'aVertexBlenders{index}', gl_vertex_blenders, render.gl_skin_shader_blenders_count);
                                    glResetAttribute(gl, gl_shader, 'aVertexTexCoord', gl_vertex_texcoord);
                                    gl.bindTexture(gl.TEXTURE_2D, null);
                                    gl.useProgram(null);
                                }
                                break;
                            }
                            default:
                                break;
                        }
                    });
                    gl_color[3] = alpha;
                };
                return RenderWebGL;
            }());
            exports_5("RenderWebGL", RenderWebGL);
        }
    }
});
System.register("dijon/spine/render-ctx2d", ["dijon/spine/spine", "dijon/spine/render-webgl"], function(exports_6, context_6) {
    "use strict";
    var __moduleName = context_6 && context_6.id;
    var spine, render_webgl_1;
    var BoneInfo, SkinInfo, SlotInfo, AttachmentInfo, RegionAttachmentInfo, BoundingBoxAttachmentInfo, MeshAttachmentInfo, SkinnedMeshAttachmentInfo, RenderCtx2D;
    function ctxApplySpace(ctx, space) {
        if (space) {
            ctx.translate(space.position.x, space.position.y);
            ctx.rotate(space.rotation.rad);
            ctx.scale(space.scale.x, space.scale.y);
        }
    }
    function ctxApplyAtlasSitePosition(ctx, site) {
        if (site) {
            ctx.scale(1 / site.original_w, 1 / site.original_h);
            ctx.translate(2 * site.offset_x - (site.original_w - site.w), (site.original_h - site.h) - 2 * site.offset_y);
            ctx.scale(site.w, site.h);
        }
    }
    function ctxDrawCircle(ctx, color, scale) {
        if (color === void 0) { color = 'grey'; }
        if (scale === void 0) { scale = 1; }
        ctx.beginPath();
        ctx.arc(0, 0, 12 * scale, 0, 2 * Math.PI, false);
        ctx.strokeStyle = color;
        ctx.stroke();
    }
    function ctxDrawPoint(ctx, color, scale) {
        if (color === void 0) { color = 'blue'; }
        if (scale === void 0) { scale = 1; }
        ctx.beginPath();
        ctx.arc(0, 0, 12 * scale, 0, 2 * Math.PI, false);
        ctx.strokeStyle = color;
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(24 * scale, 0);
        ctx.strokeStyle = 'red';
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(0, 24 * scale);
        ctx.strokeStyle = 'green';
        ctx.stroke();
    }
    function ctxDrawMesh(ctx, triangles, positions, stroke_style, fill_style) {
        if (stroke_style === void 0) { stroke_style = 'grey'; }
        if (fill_style === void 0) { fill_style = ''; }
        ctx.beginPath();
        for (var index = 0; index < triangles.length;) {
            var triangle0 = triangles[index++] * 2;
            var x0 = positions[triangle0];
            var y0 = positions[triangle0 + 1];
            var triangle1 = triangles[index++] * 2;
            var x1 = positions[triangle1];
            var y1 = positions[triangle1 + 1];
            var triangle2 = triangles[index++] * 2;
            var x2 = positions[triangle2];
            var y2 = positions[triangle2 + 1];
            ctx.moveTo(x0, y0);
            ctx.lineTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.lineTo(x0, y0);
        }
        if (fill_style) {
            ctx.fillStyle = fill_style;
            ctx.fill();
        }
        ctx.strokeStyle = stroke_style;
        ctx.stroke();
    }
    function ctxDrawImageMesh(ctx, triangles, positions, texcoords, image, site, page) {
        var site_texmatrix = new Float32Array(9);
        var site_texcoord = new Float32Array(2);
        render_webgl_1.mat3x3Identity(site_texmatrix);
        render_webgl_1.mat3x3Scale(site_texmatrix, image.width, image.height);
        render_webgl_1.mat3x3ApplyAtlasPageTexcoord(site_texmatrix, page);
        render_webgl_1.mat3x3ApplyAtlasSiteTexcoord(site_texmatrix, site);
        for (var index = 0; index < triangles.length;) {
            var triangle0 = triangles[index++] * 2;
            var position0 = positions.subarray(triangle0, triangle0 + 2);
            var x0 = position0[0];
            var y0 = position0[1];
            var texcoord0 = render_webgl_1.mat3x3Transform(site_texmatrix, texcoords.subarray(triangle0, triangle0 + 2), site_texcoord);
            var u0 = texcoord0[0];
            var v0 = texcoord0[1];
            var triangle1 = triangles[index++] * 2;
            var position1 = positions.subarray(triangle1, triangle1 + 2);
            var x1 = position1[0];
            var y1 = position1[1];
            var texcoord1 = render_webgl_1.mat3x3Transform(site_texmatrix, texcoords.subarray(triangle1, triangle1 + 2), site_texcoord);
            var u1 = texcoord1[0];
            var v1 = texcoord1[1];
            var triangle2 = triangles[index++] * 2;
            var position2 = positions.subarray(triangle2, triangle2 + 2);
            var x2 = position2[0];
            var y2 = position2[1];
            var texcoord2 = render_webgl_1.mat3x3Transform(site_texmatrix, texcoords.subarray(triangle2, triangle2 + 2), site_texcoord);
            var u2 = texcoord2[0];
            var v2 = texcoord2[1];
            ctx.save();
            ctx.beginPath();
            ctx.moveTo(x0, y0);
            ctx.lineTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.closePath();
            ctx.clip();
            x1 -= x0;
            y1 -= y0;
            x2 -= x0;
            y2 -= y0;
            u1 -= u0;
            v1 -= v0;
            u2 -= u0;
            v2 -= v0;
            var id = 1 / (u1 * v2 - u2 * v1);
            var a = id * (v2 * x1 - v1 * x2);
            var b = id * (v2 * y1 - v1 * y2);
            var c = id * (u1 * x2 - u2 * x1);
            var d = id * (u1 * y2 - u2 * y1);
            var e = x0 - (a * u0 + c * v0);
            var f = y0 - (b * u0 + d * v0);
            ctx.transform(a, b, c, d, e, f);
            ctx.drawImage(image, 0, 0);
            ctx.restore();
        }
    }
    function ctxDrawIkConstraints(ctx, data, bones) {
        data.ikc_keys.forEach(function (ikc_key) {
            var ikc = data.ikcs[ikc_key];
            var target = bones[ikc.target_key];
            switch (ikc.bone_keys.length) {
                case 1:
                    var bone = bones[ikc.bone_keys[0]];
                    ctx.beginPath();
                    ctx.moveTo(target.world_space.position.x, target.world_space.position.y);
                    ctx.lineTo(bone.world_space.position.x, bone.world_space.position.y);
                    ctx.strokeStyle = 'yellow';
                    ctx.stroke();
                    ctx.save();
                    ctxApplySpace(ctx, target.world_space);
                    ctxDrawCircle(ctx, 'yellow', 1.5);
                    ctx.restore();
                    ctx.save();
                    ctxApplySpace(ctx, bone.world_space);
                    ctxDrawCircle(ctx, 'yellow', 0.5);
                    ctx.restore();
                    break;
                case 2:
                    var parent_2 = bones[ikc.bone_keys[0]];
                    var child = bones[ikc.bone_keys[1]];
                    ctx.beginPath();
                    ctx.moveTo(target.world_space.position.x, target.world_space.position.y);
                    ctx.lineTo(child.world_space.position.x, child.world_space.position.y);
                    ctx.lineTo(parent_2.world_space.position.x, parent_2.world_space.position.y);
                    ctx.strokeStyle = 'yellow';
                    ctx.stroke();
                    ctx.save();
                    ctxApplySpace(ctx, target.world_space);
                    ctxDrawCircle(ctx, 'yellow', 1.5);
                    ctx.restore();
                    ctx.save();
                    ctxApplySpace(ctx, child.world_space);
                    ctxDrawCircle(ctx, 'yellow', 0.75);
                    ctx.restore();
                    ctx.save();
                    ctxApplySpace(ctx, parent_2.world_space);
                    ctxDrawCircle(ctx, 'yellow', 0.5);
                    ctx.restore();
                    break;
                default:
                    break;
            }
        });
    }
    return {
        setters:[
            function (spine_2) {
                spine = spine_2;
            },
            function (render_webgl_1_1) {
                render_webgl_1 = render_webgl_1_1;
            }],
        execute: function() {
            BoneInfo = (function () {
                function BoneInfo() {
                }
                return BoneInfo;
            }());
            exports_6("BoneInfo", BoneInfo);
            SkinInfo = (function () {
                function SkinInfo() {
                    this.slot_info_map = {};
                }
                return SkinInfo;
            }());
            exports_6("SkinInfo", SkinInfo);
            SlotInfo = (function () {
                function SlotInfo() {
                    this.attachment_info_map = {};
                }
                return SlotInfo;
            }());
            exports_6("SlotInfo", SlotInfo);
            AttachmentInfo = (function () {
                function AttachmentInfo(type) {
                    this.type = type;
                }
                return AttachmentInfo;
            }());
            exports_6("AttachmentInfo", AttachmentInfo);
            RegionAttachmentInfo = (function (_super) {
                __extends(RegionAttachmentInfo, _super);
                function RegionAttachmentInfo() {
                    _super.call(this, 'region');
                }
                return RegionAttachmentInfo;
            }(AttachmentInfo));
            exports_6("RegionAttachmentInfo", RegionAttachmentInfo);
            BoundingBoxAttachmentInfo = (function (_super) {
                __extends(BoundingBoxAttachmentInfo, _super);
                function BoundingBoxAttachmentInfo() {
                    _super.call(this, 'boundingbox');
                }
                return BoundingBoxAttachmentInfo;
            }(AttachmentInfo));
            exports_6("BoundingBoxAttachmentInfo", BoundingBoxAttachmentInfo);
            MeshAttachmentInfo = (function (_super) {
                __extends(MeshAttachmentInfo, _super);
                function MeshAttachmentInfo() {
                    _super.call(this, 'mesh');
                }
                return MeshAttachmentInfo;
            }(AttachmentInfo));
            exports_6("MeshAttachmentInfo", MeshAttachmentInfo);
            SkinnedMeshAttachmentInfo = (function (_super) {
                __extends(SkinnedMeshAttachmentInfo, _super);
                function SkinnedMeshAttachmentInfo() {
                    _super.call(this, 'skinnedmesh');
                }
                return SkinnedMeshAttachmentInfo;
            }(AttachmentInfo));
            exports_6("SkinnedMeshAttachmentInfo", SkinnedMeshAttachmentInfo);
            RenderCtx2D = (function () {
                function RenderCtx2D(ctx) {
                    this.images = {};
                    this.skin_info_map = {};
                    this.region_vertex_position = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]);
                    this.region_vertex_texcoord = new Float32Array([0, 1, 1, 1, 1, 0, 0, 0]);
                    this.region_vertex_triangle = new Uint16Array([0, 1, 2, 0, 2, 3]);
                    this.ctx = ctx;
                }
                RenderCtx2D.prototype.dropData = function (spine_data, atlas_data) {
                    this.images = {};
                    this.skin_info_map = {};
                };
                RenderCtx2D.prototype.loadData = function (spine_data, atlas_data, images) {
                    var _this = this;
                    this.images = images;
                    spine_data.iterateSkins(function (skin_key, skin) {
                        var skin_info = _this.skin_info_map[skin_key] = new SkinInfo();
                        skin.iterateAttachments(function (slot_key, skin_slot, attachment_key, attachment) {
                            if (!attachment) {
                                return;
                            }
                            var slot_info = skin_info.slot_info_map[slot_key] = skin_info.slot_info_map[slot_key] || new SlotInfo();
                            switch (attachment.type) {
                                case 'mesh': {
                                    var mesh_attachment = attachment;
                                    var mesh_attachment_info = slot_info.attachment_info_map[attachment_key] = new MeshAttachmentInfo();
                                    var vertex_count = mesh_attachment_info.vertex_count = mesh_attachment.vertices.length / 2;
                                    var vertex_position = mesh_attachment_info.vertex_position = new Float32Array(mesh_attachment.vertices);
                                    var vertex_texcoord = mesh_attachment_info.vertex_texcoord = new Float32Array(mesh_attachment.uvs);
                                    var vertex_triangle = mesh_attachment_info.vertex_triangle = new Uint16Array(mesh_attachment.triangles);
                                    break;
                                }
                                case 'skinnedmesh': {
                                    var skinned_mesh_attachment = attachment;
                                    var skinned_mesh_attachment_info = slot_info.attachment_info_map[attachment_key] = new SkinnedMeshAttachmentInfo();
                                    var vertex_count = skinned_mesh_attachment_info.vertex_count = skinned_mesh_attachment.uvs.length / 2;
                                    var vertex_setup_position = skinned_mesh_attachment_info.vertex_setup_position = new Float32Array(2 * vertex_count);
                                    var vertex_blend_position = skinned_mesh_attachment_info.vertex_blend_position = new Float32Array(2 * vertex_count);
                                    var vertex_texcoord = skinned_mesh_attachment_info.vertex_texcoord = new Float32Array(skinned_mesh_attachment.uvs);
                                    var vertex_triangle = skinned_mesh_attachment_info.vertex_triangle = new Uint16Array(skinned_mesh_attachment.triangles);
                                    var position = new spine.Vector();
                                    for (var vertex_index = 0, index = 0; vertex_index < vertex_count; ++vertex_index) {
                                        var blender_count = skinned_mesh_attachment.vertices[index++];
                                        var setup_position_x = 0;
                                        var setup_position_y = 0;
                                        for (var blender_index = 0; blender_index < blender_count; ++blender_index) {
                                            var bone_index = skinned_mesh_attachment.vertices[index++];
                                            var x = position.x = skinned_mesh_attachment.vertices[index++];
                                            var y = position.y = skinned_mesh_attachment.vertices[index++];
                                            var weight = skinned_mesh_attachment.vertices[index++];
                                            var bone_key = spine_data.bone_keys[bone_index];
                                            var bone = spine_data.bones[bone_key];
                                            spine.Space.transform(bone.world_space, position, position);
                                            setup_position_x += position.x * weight;
                                            setup_position_y += position.y * weight;
                                        }
                                        var vertex_setup_position_offset = vertex_index * 2;
                                        vertex_setup_position[vertex_setup_position_offset++] = setup_position_x;
                                        vertex_setup_position[vertex_setup_position_offset++] = setup_position_y;
                                    }
                                    vertex_blend_position.set(vertex_setup_position);
                                    break;
                                }
                                default:
                                    break;
                            }
                        });
                    });
                    this.images = images;
                };
                RenderCtx2D.prototype.updatePose = function (spine_pose, atlas_data) {
                    var _this = this;
                    spine_pose.iterateAttachments(function (slot_key, slot, skin_slot, attachment_key, attachment) {
                        if (!attachment) {
                            return;
                        }
                        var skin_info = _this.skin_info_map[spine_pose.skin_key];
                        var default_skin_info = _this.skin_info_map['default'];
                        var slot_info = skin_info.slot_info_map[slot_key] || default_skin_info.slot_info_map[slot_key];
                        switch (attachment.type) {
                            case 'mesh': {
                                var mesh_attachment = attachment;
                                var mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                var anim = spine_pose.data.anims[spine_pose.anim_key];
                                var anim_ffd = anim && anim.ffds && anim.ffds[spine_pose.skin_key];
                                var ffd_slot = anim_ffd && anim_ffd.ffd_slots[slot_key];
                                var ffd_attachment = ffd_slot && ffd_slot.ffd_attachments[attachment_key];
                                var ffd_keyframes = ffd_attachment && ffd_attachment.ffd_keyframes;
                                var ffd_keyframe_index = spine.Keyframe.find(ffd_keyframes, spine_pose.time);
                                if (ffd_keyframe_index !== -1) {
                                    var pct = 0;
                                    var ffd_keyframe0 = ffd_keyframes[ffd_keyframe_index];
                                    var ffd_keyframe1 = ffd_keyframes[ffd_keyframe_index + 1];
                                    if (ffd_keyframe1) {
                                        pct = ffd_keyframe0.curve.evaluate((spine_pose.time - ffd_keyframe0.time) / (ffd_keyframe1.time - ffd_keyframe0.time));
                                    }
                                    else {
                                        ffd_keyframe1 = ffd_keyframe0;
                                    }
                                    for (var index = 0; index < mesh_attachment_info.vertex_position.length; ++index) {
                                        var v0 = ffd_keyframe0.vertices[index - ffd_keyframe0.offset] || 0;
                                        var v1 = ffd_keyframe1.vertices[index - ffd_keyframe1.offset] || 0;
                                        mesh_attachment_info.vertex_position[index] = mesh_attachment.vertices[index] + spine.tween(v0, v1, pct);
                                    }
                                }
                                break;
                            }
                            case 'skinnedmesh': {
                                var skinned_mesh_attachment = attachment;
                                var skinned_mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                var anim = spine_pose.data.anims[spine_pose.anim_key];
                                var anim_ffd = anim && anim.ffds && anim.ffds[spine_pose.skin_key];
                                var ffd_slot = anim_ffd && anim_ffd.ffd_slots[slot_key];
                                var ffd_attachment = ffd_slot && ffd_slot.ffd_attachments[attachment_key];
                                var ffd_keyframes = ffd_attachment && ffd_attachment.ffd_keyframes;
                                var ffd_keyframe_index = spine.Keyframe.find(ffd_keyframes, spine_pose.time);
                                if (ffd_keyframe_index !== -1) {
                                    var pct = 0;
                                    var ffd_keyframe0 = ffd_keyframes[ffd_keyframe_index];
                                    var ffd_keyframe1 = ffd_keyframes[ffd_keyframe_index + 1];
                                    if (ffd_keyframe1) {
                                        pct = ffd_keyframe0.curve.evaluate((spine_pose.time - ffd_keyframe0.time) / (ffd_keyframe1.time - ffd_keyframe0.time));
                                    }
                                    else {
                                        ffd_keyframe1 = ffd_keyframe0;
                                    }
                                    var vertex_blend_position = skinned_mesh_attachment_info.vertex_blend_position;
                                    var position = new spine.Vector();
                                    for (var vertex_index = 0, index = 0, ffd_index = 0; vertex_index < skinned_mesh_attachment_info.vertex_count; ++vertex_index) {
                                        var blender_count = skinned_mesh_attachment.vertices[index++];
                                        var blend_position_x = 0;
                                        var blend_position_y = 0;
                                        for (var blender_index = 0; blender_index < blender_count; ++blender_index) {
                                            var bone_index = skinned_mesh_attachment.vertices[index++];
                                            position.x = skinned_mesh_attachment.vertices[index++];
                                            position.y = skinned_mesh_attachment.vertices[index++];
                                            var weight = skinned_mesh_attachment.vertices[index++];
                                            var bone_key = spine_pose.bone_keys[bone_index];
                                            var bone = spine_pose.bones[bone_key];
                                            var x0 = ffd_keyframe0.vertices[ffd_index - ffd_keyframe0.offset] || 0;
                                            var x1 = ffd_keyframe1.vertices[ffd_index - ffd_keyframe1.offset] || 0;
                                            position.x += spine.tween(x0, x1, pct);
                                            ++ffd_index;
                                            var y0 = ffd_keyframe0.vertices[ffd_index - ffd_keyframe0.offset] || 0;
                                            var y1 = ffd_keyframe1.vertices[ffd_index - ffd_keyframe1.offset] || 0;
                                            position.y += spine.tween(y0, y1, pct);
                                            ++ffd_index;
                                            spine.Space.transform(bone.world_space, position, position);
                                            blend_position_x += position.x * weight;
                                            blend_position_y += position.y * weight;
                                        }
                                        var vertex_position_offset = vertex_index * 2;
                                        vertex_blend_position[vertex_position_offset++] = blend_position_x;
                                        vertex_blend_position[vertex_position_offset++] = blend_position_y;
                                    }
                                }
                                else {
                                    var vertex_blend_position = skinned_mesh_attachment_info.vertex_blend_position;
                                    var position = new spine.Vector();
                                    for (var vertex_index = 0, index = 0; vertex_index < skinned_mesh_attachment_info.vertex_count; ++vertex_index) {
                                        var blender_count = skinned_mesh_attachment.vertices[index++];
                                        var blend_position_x = 0;
                                        var blend_position_y = 0;
                                        for (var blender_index = 0; blender_index < blender_count; ++blender_index) {
                                            var bone_index = skinned_mesh_attachment.vertices[index++];
                                            position.x = skinned_mesh_attachment.vertices[index++];
                                            position.y = skinned_mesh_attachment.vertices[index++];
                                            var weight = skinned_mesh_attachment.vertices[index++];
                                            var bone_key = spine_pose.bone_keys[bone_index];
                                            var bone = spine_pose.bones[bone_key];
                                            spine.Space.transform(bone.world_space, position, position);
                                            blend_position_x += position.x * weight;
                                            blend_position_y += position.y * weight;
                                        }
                                        var vertex_position_offset = vertex_index * 2;
                                        vertex_blend_position[vertex_position_offset++] = blend_position_x;
                                        vertex_blend_position[vertex_position_offset++] = blend_position_y;
                                    }
                                }
                                break;
                            }
                            default:
                                break;
                        }
                    });
                };
                RenderCtx2D.prototype.drawPose = function (spine_pose, atlas_data) {
                    var _this = this;
                    this.updatePose(spine_pose, atlas_data);
                    spine_pose.iterateAttachments(function (slot_key, slot, skin_slot, attachment_key, attachment) {
                        if (!attachment) {
                            return;
                        }
                        if (attachment.type === 'boundingbox') {
                            return;
                        }
                        var site = atlas_data && atlas_data.sites[attachment_key];
                        var page = site && site.page;
                        var image_key = (page && page.name) || attachment_key;
                        var image = _this.images[image_key];
                        if (!image || !image.complete) {
                            return;
                        }
                        _this.ctx.save();
                        switch (slot.blend) {
                            default:
                            case 'normal':
                                _this.ctx.globalCompositeOperation = 'source-over';
                                break;
                            case 'additive':
                                _this.ctx.globalCompositeOperation = 'lighter';
                                break;
                            case 'multiply':
                                _this.ctx.globalCompositeOperation = 'multiply';
                                break;
                            case 'screen':
                                _this.ctx.globalCompositeOperation = 'screen';
                                break;
                        }
                        var skin_info = _this.skin_info_map[spine_pose.skin_key];
                        var default_skin_info = _this.skin_info_map['default'];
                        var slot_info = skin_info.slot_info_map[slot_key] || default_skin_info.slot_info_map[slot_key];
                        switch (attachment.type) {
                            case 'region': {
                                var bone = spine_pose.bones[slot.bone_key];
                                var region_attachment = attachment;
                                var region_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplySpace(_this.ctx, bone.world_space);
                                ctxApplySpace(_this.ctx, region_attachment.local_space);
                                ctxApplyAtlasSitePosition(_this.ctx, site);
                                _this.ctx.scale(region_attachment.width / 2, region_attachment.height / 2);
                                ctxDrawImageMesh(_this.ctx, _this.region_vertex_triangle, _this.region_vertex_position, _this.region_vertex_texcoord, image, site, page);
                                break;
                            }
                            case 'mesh': {
                                var bone = spine_pose.bones[slot.bone_key];
                                var mesh_attachment = attachment;
                                var mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplySpace(_this.ctx, bone.world_space);
                                ctxApplyAtlasSitePosition(_this.ctx, site);
                                ctxDrawImageMesh(_this.ctx, mesh_attachment_info.vertex_triangle, mesh_attachment_info.vertex_position, mesh_attachment_info.vertex_texcoord, image, site, page);
                                break;
                            }
                            case 'skinnedmesh': {
                                var skinned_mesh_attachment = attachment;
                                var skinned_mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplyAtlasSitePosition(_this.ctx, site);
                                ctxDrawImageMesh(_this.ctx, skinned_mesh_attachment_info.vertex_triangle, skinned_mesh_attachment_info.vertex_blend_position, skinned_mesh_attachment_info.vertex_texcoord, image, site, page);
                                break;
                            }
                            default:
                                break;
                        }
                        _this.ctx.restore();
                    });
                };
                RenderCtx2D.prototype.drawDebugPose = function (spine_pose, atlas_data) {
                    var render = this;
                    var ctx = render.ctx;
                    render.updatePose(spine_pose, atlas_data);
                    spine_pose.iterateAttachments(function (slot_key, slot, skin_slot, attachment_key, attachment) {
                        if (!attachment) {
                            return;
                        }
                        ctx.save();
                        var skin_info = render.skin_info_map[spine_pose.skin_key];
                        var default_skin_info = render.skin_info_map['default'];
                        var slot_info = skin_info.slot_info_map[slot_key] || default_skin_info.slot_info_map[slot_key];
                        switch (attachment.type) {
                            case 'region': {
                                var bone = spine_pose.bones[slot.bone_key];
                                var site = atlas_data && atlas_data.sites[attachment_key];
                                var region_attachment = attachment;
                                var region_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplySpace(ctx, bone.world_space);
                                ctxApplySpace(ctx, region_attachment.local_space);
                                ctxApplyAtlasSitePosition(ctx, site);
                                ctx.beginPath();
                                ctx.rect(-region_attachment.width / 2, -region_attachment.height / 2, region_attachment.width, region_attachment.height);
                                ctx.fillStyle = 'rgba(127,127,127,0.25)';
                                ctx.fill();
                                ctx.strokeStyle = 'rgba(127,127,127,1.0)';
                                ctx.stroke();
                                break;
                            }
                            case 'boundingbox': {
                                var bone = spine_pose.bones[slot.bone_key];
                                var bounding_box_attachment = attachment;
                                var bounding_box_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplySpace(ctx, bone.world_space);
                                ctx.beginPath();
                                var x_1 = 0;
                                bounding_box_attachment.vertices.forEach(function (value, index) {
                                    if (index & 1) {
                                        ctx.lineTo(x_1, value);
                                    }
                                    else {
                                        x_1 = value;
                                    }
                                });
                                ctx.closePath();
                                ctx.strokeStyle = 'yellow';
                                ctx.stroke();
                                break;
                            }
                            case 'mesh': {
                                var bone = spine_pose.bones[slot.bone_key];
                                var site = atlas_data && atlas_data.sites[attachment_key];
                                var mesh_attachment = attachment;
                                var mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplySpace(ctx, bone.world_space);
                                ctxApplyAtlasSitePosition(ctx, site);
                                ctxDrawMesh(ctx, mesh_attachment_info.vertex_triangle, mesh_attachment_info.vertex_position, 'rgba(127,127,127,1.0)', 'rgba(127,127,127,0.25)');
                                break;
                            }
                            case 'skinnedmesh': {
                                var site = atlas_data && atlas_data.sites[attachment_key];
                                var skinned_mesh_attachment = attachment;
                                var skinned_mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplyAtlasSitePosition(ctx, site);
                                ctxDrawMesh(ctx, skinned_mesh_attachment_info.vertex_triangle, skinned_mesh_attachment_info.vertex_blend_position, 'rgba(127,127,127,1.0)', 'rgba(127,127,127,0.25)');
                                break;
                            }
                            default:
                                break;
                        }
                        ctx.restore();
                    });
                    spine_pose.iterateBones(function (bone_key, bone) {
                        ctx.save();
                        ctxApplySpace(ctx, bone.world_space);
                        ctxDrawPoint(ctx);
                        ctx.restore();
                    });
                    ctxDrawIkConstraints(ctx, spine_pose.data, spine_pose.bones);
                };
                RenderCtx2D.prototype.drawDebugData = function (spine_pose, atlas_data) {
                    var render = this;
                    var ctx = render.ctx;
                    spine_pose.data.iterateAttachments(spine_pose.skin_key, function (slot_key, slot, skin_slot, attachment_key, attachment) {
                        if (!attachment) {
                            return;
                        }
                        ctx.save();
                        var skin_info = render.skin_info_map[spine_pose.skin_key];
                        var default_skin_info = render.skin_info_map['default'];
                        var slot_info = skin_info.slot_info_map[slot_key] || default_skin_info.slot_info_map[slot_key];
                        switch (attachment.type) {
                            case 'region': {
                                var bone = spine_pose.data.bones[slot.bone_key];
                                var site = atlas_data && atlas_data.sites[attachment_key];
                                var region_attachment = attachment;
                                var region_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplySpace(ctx, bone.world_space);
                                ctxApplySpace(ctx, region_attachment.local_space);
                                ctxApplyAtlasSitePosition(ctx, site);
                                ctx.beginPath();
                                ctx.rect(-region_attachment.width / 2, -region_attachment.height / 2, region_attachment.width, region_attachment.height);
                                ctx.fillStyle = 'rgba(127,127,127,0.25)';
                                ctx.fill();
                                ctx.strokeStyle = 'rgba(127,127,127,1.0)';
                                ctx.stroke();
                                break;
                            }
                            case 'boundingbox': {
                                var bone = spine_pose.data.bones[slot.bone_key];
                                var bounding_box_attachment = attachment;
                                var bounding_box_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplySpace(ctx, bone.world_space);
                                ctx.beginPath();
                                var x_2 = 0;
                                bounding_box_attachment.vertices.forEach(function (value, index) {
                                    if (index & 1) {
                                        ctx.lineTo(x_2, value);
                                    }
                                    else {
                                        x_2 = value;
                                    }
                                });
                                ctx.closePath();
                                ctx.strokeStyle = 'yellow';
                                ctx.stroke();
                                break;
                            }
                            case 'mesh': {
                                var bone = spine_pose.data.bones[slot.bone_key];
                                var site = atlas_data && atlas_data.sites[attachment_key];
                                var mesh_attachment = attachment;
                                var mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplySpace(ctx, bone.world_space);
                                ctxApplyAtlasSitePosition(ctx, site);
                                ctxDrawMesh(ctx, mesh_attachment_info.vertex_triangle, mesh_attachment_info.vertex_position, 'rgba(127,127,127,1.0)', 'rgba(127,127,127,0.25)');
                                break;
                            }
                            case 'skinnedmesh': {
                                var site = atlas_data && atlas_data.sites[attachment_key];
                                var skinned_mesh_attachment = attachment;
                                var skinned_mesh_attachment_info = slot_info.attachment_info_map[attachment_key];
                                ctxApplyAtlasSitePosition(ctx, site);
                                ctxDrawMesh(ctx, skinned_mesh_attachment_info.vertex_triangle, skinned_mesh_attachment_info.vertex_setup_position, 'rgba(127,127,127,1.0)', 'rgba(127,127,127,0.25)');
                                break;
                            }
                            default:
                                break;
                        }
                        ctx.restore();
                    });
                    spine_pose.data.iterateBones(function (bone_key, bone) {
                        ctx.save();
                        ctxApplySpace(ctx, bone.world_space);
                        ctxDrawPoint(ctx);
                        ctx.restore();
                    });
                    ctxDrawIkConstraints(ctx, spine_pose.data, spine_pose.data.bones);
                };
                return RenderCtx2D;
            }());
            exports_6("RenderCtx2D", RenderCtx2D);
        }
    }
});
System.register("dijon/display", ["dijon/application", "dijon/spine/spine", "dijon/spine/atlas", "dijon/spine/render-ctx2d"], function(exports_7, context_7) {
    "use strict";
    var __moduleName = context_7 && context_7.id;
    var application_2, spine, atlas, render_ctx2d_1;
    var Sprite, InvisibleButton, Group, Text, Component, NineSliceImage, Spine;
    return {
        setters:[
            function (application_2_1) {
                application_2 = application_2_1;
            },
            function (spine_3) {
                spine = spine_3;
            },
            function (atlas_1) {
                atlas = atlas_1;
            },
            function (render_ctx2d_1_1) {
                render_ctx2d_1 = render_ctx2d_1_1;
            }],
        execute: function() {
            Sprite = (function (_super) {
                __extends(Sprite, _super);
                function Sprite(x, y, key, frame, name, components) {
                    if (name === void 0) { name = "dSprite"; }
                    if (components === void 0) { components = null; }
                    _super.call(this, application_2.Application.getInstance().game, x, y, key, frame);
                    this.name = name;
                    this._hasComponents = false;
                    this._componentKeys = [];
                    this._components = {};
                    this.addComponents = function (components) {
                        if (typeof components.length === 'undefined')
                            throw new Error('Dijon.UIGroup components must be an array');
                        while (components.length > 0)
                            this.addComponent(components.shift());
                    };
                    if (components)
                        this.addComponents(components);
                }
                Sprite.prototype.update = function () {
                    if (this._hasComponents)
                        this.updateComponents();
                };
                Sprite.prototype.destroy = function () {
                    this.removeAllComponents();
                    _super.prototype.destroy.call(this);
                };
                Sprite.prototype.init = function () { };
                Sprite.prototype.buildInterface = function () { };
                Sprite.prototype._updateComponentKeys = function () {
                    this._componentKeys = Object.keys(this._components);
                    this._hasComponents = this._componentKeys.length > 0;
                };
                Sprite.prototype.addComponent = function (component) {
                    component.setOwner(this);
                    component.init();
                    component.buildInterface();
                    this._components[component.name] = component;
                    this._updateComponentKeys();
                    return component;
                };
                ;
                Sprite.prototype.updateComponents = function () {
                    var _this = this;
                    this._componentKeys.forEach(function (componentName) {
                        _this.updateComponent(componentName);
                    });
                };
                Sprite.prototype.updateComponent = function (componentName) {
                    this._components[componentName].update();
                };
                Sprite.prototype.removeAllComponents = function () {
                    while (this._componentKeys.length > 0) {
                        this.removeComponent(this._componentKeys.pop());
                    }
                };
                Sprite.prototype.removeComponent = function (componentName) {
                    if (typeof this._components[componentName] === 'undefined')
                        return;
                    this._components[componentName].destroy();
                    this._components[componentName] = null;
                    delete this._components[componentName];
                    this._updateComponentKeys();
                };
                Sprite.prototype.flatten = function (delay) {
                    var _this = this;
                    if (delay === void 0) { delay = 0; }
                    if (delay === 0) {
                        this.cacheAsBitmap = true;
                    }
                    else {
                        this.game.time.events.add(delay, function () { _this.cacheAsBitmap = true; }, this);
                    }
                };
                Sprite.prototype.unFlatten = function () {
                    this.cacheAsBitmap = null;
                };
                Object.defineProperty(Sprite.prototype, "resolution", {
                    get: function () {
                        return this.texture.baseTexture.resolution;
                    },
                    enumerable: true,
                    configurable: true
                });
                return Sprite;
            }(Phaser.Sprite));
            exports_7("Sprite", Sprite);
            InvisibleButton = (function (_super) {
                __extends(InvisibleButton, _super);
                function InvisibleButton(x, y, name, w, h) {
                    _super.call(this, x, y, null, null, name);
                    this.init();
                    this.buildInterface();
                    this.setSize(w, h);
                }
                InvisibleButton.prototype.init = function () {
                    this.inputEnabled = true;
                };
                InvisibleButton.prototype.buildInterface = function () {
                    this._addHitRect();
                };
                InvisibleButton.prototype._addHitRect = function () {
                    if (this._hitWidth > 0 && this._hitHeight > 0) {
                        this.hitArea = new Phaser.Rectangle(0, 0, this._hitWidth, this._hitHeight);
                    }
                };
                InvisibleButton.prototype.setSize = function (w, h) {
                    this._hitWidth = w || 0;
                    this._hitHeight = h || 0;
                    this._addHitRect();
                };
                return InvisibleButton;
            }(Sprite));
            exports_7("InvisibleButton", InvisibleButton);
            Group = (function (_super) {
                __extends(Group, _super);
                function Group(x, y, name, addToStage, components, enableBody, physicsBodyType) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (name === void 0) { name = "dGroup"; }
                    if (addToStage === void 0) { addToStage = false; }
                    if (components === void 0) { components = null; }
                    _super.call(this, application_2.Application.getInstance().game, null, name, addToStage, enableBody, physicsBodyType);
                    this.name = name;
                    this._hasComponents = false;
                    this._componentKeys = [];
                    this._components = {};
                    this._mediator = null;
                    this.addComponents = function (components) {
                        if (typeof components.length === 'undefined')
                            throw new Error('Dijon.UIGroup components must be an array');
                        while (components.length > 0)
                            this.addComponent(components.shift());
                    };
                    this.position.set(x, y);
                    if (!addToStage)
                        this.game.add.existing(this);
                    if (components)
                        this.addComponents(components);
                }
                Group.prototype.update = function () {
                    _super.prototype.update.call(this);
                    if (this._hasComponents)
                        this.updateComponents();
                };
                Group.prototype.destroy = function () {
                    this.removeAllComponents();
                    this.removeMediator();
                    _super.prototype.destroy.call(this);
                };
                Group.prototype.init = function () { };
                Group.prototype.buildInterface = function () { };
                Group.prototype._updateComponentKeys = function () {
                    this._componentKeys = Object.keys(this._components);
                    this._hasComponents = this._componentKeys.length > 0;
                };
                Group.prototype.addComponent = function (component) {
                    component.setOwner(this);
                    component.init();
                    component.buildInterface();
                    this._components[component.name] = component;
                    this._updateComponentKeys();
                    return component;
                };
                Group.prototype.updateComponents = function () {
                    var _this = this;
                    this._componentKeys.forEach(function (componentName) {
                        _this.updateComponent(componentName);
                    });
                };
                Group.prototype.updateComponent = function (componentName) {
                    this._components[componentName].update();
                };
                Group.prototype.removeAllComponents = function () {
                    while (this._componentKeys.length > 0) {
                        this.removeComponent(this._componentKeys.pop());
                    }
                };
                Group.prototype.removeComponent = function (componentName) {
                    if (typeof this._components[componentName] === 'undefined')
                        return;
                    this._components[componentName].destroy();
                    this._components[componentName] = null;
                    delete this._components[componentName];
                    this._updateComponentKeys();
                };
                Group.prototype.flatten = function (delay) {
                    var _this = this;
                    if (delay === void 0) { delay = 0; }
                    if (delay === 0) {
                        this.cacheAsBitmap = true;
                    }
                    else {
                        this.game.time.events.add(delay, function () { _this.cacheAsBitmap = true; }, this);
                    }
                };
                Group.prototype.unFlatten = function () {
                    this.cacheAsBitmap = null;
                };
                Group.prototype.removeMediator = function () {
                    if (!this._mediator) {
                        return;
                    }
                    this._mediator.destroy();
                    this._mediator = null;
                };
                Object.defineProperty(Group.prototype, "addInternal", {
                    get: function () {
                        this.game.add.targetGroup = this;
                        return this.game.add;
                    },
                    enumerable: true,
                    configurable: true
                });
                return Group;
            }(Phaser.Group));
            exports_7("Group", Group);
            Text = (function (_super) {
                __extends(Text, _super);
                function Text(x, y, text, fontName, fontSize, fontColor, fontAlign, wordWrap, width, lineSpacing, settings) {
                    if (text === void 0) { text = ""; }
                    if (fontSize === void 0) { fontSize = Text.DEFAULT_FONT_SIZE; }
                    if (fontColor === void 0) { fontColor = Text.DEFAULT_FONT_COLOR; }
                    if (fontAlign === void 0) { fontAlign = 'left'; }
                    if (wordWrap === void 0) { wordWrap = false; }
                    if (width === void 0) { width = 0; }
                    if (lineSpacing === void 0) { lineSpacing = 0; }
                    if (settings === void 0) { settings = null; }
                    _super.call(this, application_2.Application.getInstance().game, x, y, text, Text._addSettings({
                        font: fontSize + 'px ' + fontName,
                        fill: fontColor,
                        align: fontAlign,
                        wordWrap: wordWrap,
                        wordWrapWidth: width
                    }, settings));
                    this.lineSpacing = lineSpacing;
                    this.onAnimationComplete = new Phaser.Signal();
                    this._canUpdate = false;
                    this._textToAnimate = [];
                    this.stopAnimating = function () {
                        this._canUpdate = false;
                        this._textToAnimate = null;
                        this.game.time.events.remove(this._delayTimer);
                        this.game.time.events.remove(this._repeatTimer);
                    };
                    this.roundPixel = function () {
                        this.position.set(Math.round(this.x), Math.round(this.y));
                    };
                    this.text = text.replace(/'/g, "\'");
                    this._lowercaseText = this.text.toLowerCase();
                    this.setResolution();
                }
                Text.prototype.setText = function (text) {
                    _super.prototype.setText.call(this, text);
                    this._lowercaseText = this.text.toLowerCase();
                    this.setResolution();
                    return this;
                };
                Text.prototype.setResolution = function () {
                    if (!this.game || !this.game.device.cocoonJS) {
                        return;
                    }
                    else if (this.game.device.cocoonJS) {
                        this.resolution = this.game.resolution * this.game.resolution;
                    }
                };
                Text.prototype._startTextAnimation = function () {
                    this._canUpdate = true;
                    this._repeatTimer = this.game.time.events.repeat(this._letterTime * 100, this._textLength, this._updateTextAnimation, this);
                };
                Text.prototype._updateTextAnimation = function () {
                    if (!this._canUpdate || !this._textToAnimate) {
                        return false;
                    }
                    var index = this._textLength - this._textToAnimate.length;
                    this.addColor(this.style.fill, index);
                    this.addColor('rgba(0,0,0,0)', index + 1);
                    this._textToAnimate.shift();
                    if (this._textToAnimate.length === 0) {
                        this.onAnimationComplete.dispatch();
                    }
                };
                Text.prototype.setColor = function (color) {
                    return this.highlightPhrase(this.text, color, false);
                };
                Text.prototype.resetColor = function () {
                    return this.highlightPhrase(this.text, this.style.fill, false);
                };
                Text.prototype.highlightPhrase = function (phrase, color, caseSensitive) {
                    if (caseSensitive === void 0) { caseSensitive = false; }
                    var text = caseSensitive ? this.text : this._lowercaseText;
                    phrase = caseSensitive ? phrase : phrase.toLowerCase();
                    var len = phrase.length;
                    var startIndex = text.indexOf(phrase);
                    var endIndex = startIndex + len;
                    while (startIndex <= endIndex) {
                        this.addColor(color, startIndex);
                        startIndex++;
                    }
                    this.addColor(this.style.fill, endIndex);
                };
                Text.prototype.animate = function (letterTime, delay) {
                    if (letterTime === void 0) { letterTime = 0.1; }
                    if (delay === void 0) { delay = 0; }
                    this.game.time.events.remove(this._delayTimer);
                    this.game.time.events.remove(this._repeatTimer);
                    this._letterTime = letterTime;
                    this._textLength = this.text.length;
                    this._textToAnimate = this.text.split('');
                    var startIndex = 0;
                    var endIndex = this._textLength;
                    while (startIndex <= endIndex) {
                        this.addColor('rgba(0,0,0,0)', startIndex);
                        startIndex++;
                    }
                    this._delayTimer = this.game.time.events.add(delay * Phaser.Timer.SECOND, this._startTextAnimation, this);
                };
                Text._addSettings = function (obj, settings) {
                    if (!settings)
                        return obj;
                    for (var prop in settings) {
                        if (settings.hasOwnProperty(prop)) {
                            obj[prop] = settings[prop];
                        }
                    }
                    return obj;
                };
                Object.defineProperty(Text.prototype, "realHeight", {
                    get: function () {
                        return this.scale.y * this.texture.frame.height / this.game.resolution;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Text.prototype, "realWidth", {
                    get: function () {
                        return this.scale.x * this.texture.frame.width / this.game.resolution;
                    },
                    enumerable: true,
                    configurable: true
                });
                Text.DEFAULT_FONT_SIZE = 12;
                Text.DEFAULT_FONT_COLOR = "#000000";
                Text.DEFAULT_FONT = "Helvetica Neue, Arial";
                Text.GLOBAL_PADDING_X = 0;
                Text.GLOBAL_PADDING_Y = 0;
                return Text;
            }(Phaser.Text));
            exports_7("Text", Text);
            Component = (function () {
                function Component() {
                    this.game = application_2.Application.getInstance().game;
                    this.name = 'Component';
                }
                Component.prototype.setOwner = function (owner) {
                    this.owner = owner;
                };
                Component.prototype.init = function () { };
                Component.prototype.buildInterface = function () { };
                Component.prototype.update = function () { };
                Component.prototype.destroy = function () { };
                return Component;
            }());
            exports_7("Component", Component);
            NineSliceImage = (function (_super) {
                __extends(NineSliceImage, _super);
                function NineSliceImage(x, y, width, height, key, texturePath, fillMiddle, topHeight, rightWidth, bottomHeight, leftWidth) {
                    if (fillMiddle === void 0) { fillMiddle = true; }
                    _super.call(this, x, y);
                    this.key = key;
                    this.texturePath = texturePath;
                    this.fillMiddle = fillMiddle;
                    this.topHeight = topHeight;
                    this.rightWidth = rightWidth;
                    this.bottomHeight = bottomHeight;
                    this.leftWidth = leftWidth;
                    this._interactiveBacking = null;
                    this._inputEnabled = false;
                    this._currentBounds = null;
                    this.__width = Math.round(width);
                    this.__height = Math.round(height);
                    this._build();
                    this.game.time.events.add(10, this._flatten, this);
                }
                NineSliceImage.prototype._build = function () {
                    this._inputLayer = this.add(this.game.add.group());
                    this._displayLayer = this.add(this.game.add.group());
                    this.tl = this._displayLayer.add(this.game.add.image(0, 0, this.key, this.texturePath + '/tl'));
                    this.tr = this._displayLayer.add(this.game.add.image(this.__width, 0, this.key, this.texturePath + '/tr'));
                    this.t = this._displayLayer.add(this.game.add.tileSprite(this.tl.getBounds().width, 0, this.__width - this.tl.getBounds().width - this.tr.getBounds().width, this.topHeight || this.tl.getBounds().height, this.key, this.texturePath + '/t'));
                    this.l = this._displayLayer.add(this.game.add.tileSprite(0, this.tl.getBounds().height, this.leftWidth || this.tl.getBounds().width, 100, this.key, this.texturePath + '/l'));
                    this.bl = this._displayLayer.add(this.game.add.image(0, this.__height, this.key, this.texturePath + '/bl'));
                    this.l.height = this.__height - this.tl.getBounds().height - this.bl.getBounds().height;
                    this.b = this._displayLayer.add(this.game.add.tileSprite(this.bl.getBounds().width, this.__height, 100, this.bottomHeight || this.bl.getBounds().height, this.key, this.texturePath + '/b'));
                    this.br = this._displayLayer.add(this.game.add.image(this.__width, this.__height, this.key, this.texturePath + '/br'));
                    this.b.width = this.__width - this.bl.getBounds().width - this.br.getBounds().width;
                    this.r = this._displayLayer.add(this.game.add.tileSprite(this.__width, this.tr.getBounds().height, this.rightWidth || this.tr.getBounds().width, this.__height - this.tl.getBounds().height - this.br.getBounds().height, this.key, this.texturePath + '/r'));
                    this.tr.setPivot('tr');
                    this.r.setPivot('tr');
                    this.br.setPivot('br');
                    this.b.setPivot('bl');
                    this.bl.setPivot('bl');
                    if (this.fillMiddle) {
                        this.tile = this._displayLayer.add(this.game.add.tileSprite(this.tl.getBounds().width - 1, this.tl.getBounds().height - 1, this.__width - this.tl.getBounds().width - this.tr.getBounds().width + 2, this.__height - this.tl.getBounds().height - this.br.getBounds().height + 4, this.key, this.texturePath + '/tile'));
                        this.sendToBack(this.tile);
                    }
                };
                NineSliceImage.prototype._addInteractiveBacking = function () {
                    var gfx = this.game.add.graphics();
                    gfx.beginFill(0xFF0000, 0);
                    gfx.drawRect(this.x, this.y, this.__width, this.__height);
                    gfx.endFill();
                    this._interactiveBacking = this._inputLayer.add(this.game.add.image(0, 0, gfx.generateTexture()));
                    this._interactiveBacking.inputEnabled = true;
                    this.game.world.remove(gfx);
                };
                NineSliceImage.prototype._setSize = function () {
                    this._unflatten();
                    this.t.width = this.b.width = this.__width - this.tl.getBounds().width - this.tr.getBounds().width;
                    this.r.x = this.tr.x = this.br.x = this.__width;
                    this.l.height = this.r.height = this.__height - this.tr.getBounds().height - this.bl.getBounds().height;
                    this.bl.y = this.b.y = this.br.y = this.__height;
                    if (this.fillMiddle) {
                        this.tile.width = this.__width - this.tr.getBounds().width - this.tl.getBounds().width + 4;
                        this.tile.height = this.__height - this.tl.getBounds().height - this.bl.getBounds().height + 4;
                    }
                    this._interactiveBacking.width = this.__width;
                    this._interactiveBacking.height = this.__height;
                    this.game.time.events.add(10, this._flatten, this);
                };
                NineSliceImage.prototype._addInput = function () {
                    if (!this._interactiveBacking) {
                        this._addInteractiveBacking();
                    }
                };
                NineSliceImage.prototype._removeInput = function () {
                    if (!this._interactiveBacking) {
                        return;
                    }
                    this._interactiveBacking.inputEnabled = false;
                };
                NineSliceImage.prototype._unflatten = function () {
                    this._displayLayer.cacheAsBitmap = null;
                };
                NineSliceImage.prototype._flatten = function () {
                    this._displayLayer.cacheAsBitmap = true;
                };
                Object.defineProperty(NineSliceImage.prototype, "inputEnabled", {
                    set: function (value) {
                        this._inputEnabled = value;
                        if (this._inputEnabled) {
                            this._addInput();
                        }
                        else {
                            this._removeInput();
                        }
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(NineSliceImage.prototype, "events", {
                    get: function () {
                        if (!this._interactiveBacking || !this._interactiveBacking.inputEnabled) {
                            return null;
                        }
                        return this._interactiveBacking.events;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(NineSliceImage.prototype, "input", {
                    get: function () {
                        return this._interactiveBacking.input;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(NineSliceImage.prototype, "hSize", {
                    get: function () {
                        return this.__width;
                    },
                    set: function (value) {
                        this.__width = value;
                        this._setSize();
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(NineSliceImage.prototype, "vSize", {
                    get: function () {
                        return this.__height;
                    },
                    set: function (value) {
                        this.__height = value;
                        this._setSize();
                    },
                    enumerable: true,
                    configurable: true
                });
                NineSliceImage.prototype.setSize = function (width, height) {
                    this.__width = width;
                    this.__height = height;
                    this._setSize();
                };
                return NineSliceImage;
            }(Group));
            exports_7("NineSliceImage", NineSliceImage);
            Spine = (function (_super) {
                __extends(Spine, _super);
                function Spine(assetName, x, y, width, height, skin, anim, hOffset, vOffset) {
                    if (assetName === void 0) { assetName = ''; }
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (width === void 0) { width = 0; }
                    if (height === void 0) { height = 0; }
                    if (skin === void 0) { skin = 'default'; }
                    if (anim === void 0) { anim = ''; }
                    if (hOffset === void 0) { hOffset = 0; }
                    if (vOffset === void 0) { vOffset = 0; }
                    _super.call(this, x, y, null, null, 'spine_' + assetName);
                    this.assetName = assetName;
                    this.skin = skin;
                    this.anim = anim;
                    this.hOffset = hOffset;
                    this.vOffset = vOffset;
                    this.debug = false;
                    this.onAnimationComplete = new Phaser.Signal();
                    this.img = null;
                    this.frameAnimations = {};
                    this.frameAnimationKeys = [];
                    this._bounds = new PIXI.Rectangle();
                    this._canUpdate = false;
                    this._paused = false;
                    this._speed = 1;
                    this._fps = 0;
                    var json_key = assetName + '.json';
                    var atlas_key = assetName + '.atlas';
                    var image_key = assetName + '.png';
                    if (width === 0) {
                        width = this.game.width;
                    }
                    if (height === 0) {
                        height = this.game.height;
                    }
                    this.sWidth = width;
                    this.sHeight = height;
                    this.spine_data = new spine.Data().load(this.game.cache.getJSON(json_key));
                    this.spineAnimations = this.spine_data.anim_keys;
                    this.atlas_data = new atlas.Data().importAtlasText(this.game.cache.getText(atlas_key));
                    this.images = {};
                    this.images[image_key] = this.game.cache.getImage(image_key);
                    this.spine_pose = new spine.Pose(this.spine_data);
                    this.spine_pose.setSkin(skin);
                    this.animation = anim;
                    this.spine_pose.onComplete.add(this._onAnimationComplete, this);
                    this.bmd = this.game.add.bitmapData(width, height);
                    this.render_ctx2d = new render_ctx2d_1.RenderCtx2D(this.bmd.ctx);
                    this.render_ctx2d.loadData(this.spine_data, this.atlas_data, this.images);
                    this.loadTexture(this.bmd);
                    this.speed = 1;
                    this._canUpdate = true;
                }
                Spine.prototype.destroy = function () {
                    if (this.game.renderType === Phaser.WEBGL) {
                        this.render_webgl.dropData(this.spine_data, this.atlas_data);
                        delete this.render_webgl;
                    }
                    else if (this.game.renderType === Phaser.CANVAS) {
                        this.render_ctx2d.dropData(this.spine_data, this.atlas_data);
                        delete this.render_ctx2d;
                    }
                    else {
                        console.log("TODO");
                    }
                    delete this.spine_data;
                    delete this.spine_pose;
                    delete this.images;
                    _super.prototype.destroy.call(this);
                };
                Spine.prototype.update = function () {
                    if (!this._canUpdate) {
                        return;
                    }
                    if (this._paused) {
                        return;
                    }
                    this.render();
                    this.spine_pose.update(this._fps);
                };
                Spine.prototype.render = function () {
                    this.spine_pose.strike();
                    this.frameAnimationKeys.forEach(this._updateFrameAnimationByName, this);
                    this.bmd.ctx.save();
                    this.bmd.ctx.clearRect(0, 0, this.bmd.width, this.bmd.height);
                    this.bmd.ctx.translate(this.hOffset, this.vOffset + this.bmd.height);
                    this.bmd.ctx.scale(1.0, -1.0);
                    this.bmd.ctx.globalAlpha = this.worldAlpha;
                    this.render_ctx2d.drawPose(this.spine_pose, this.atlas_data);
                    this.bmd.ctx.restore();
                    this.bmd.dirty = true;
                };
                Spine.prototype.debugDraw = function () {
                    if (this.debug) {
                        if (this.game.renderType === Phaser.CANVAS) {
                            this.render_ctx2d.drawDebugPose(this.spine_pose, this.atlas_data);
                        }
                    }
                };
                Spine.prototype.nextAnimation = function () {
                    var currentAnimationName = this.animation;
                    var animationIndex = this.spineAnimations.indexOf(currentAnimationName);
                    animationIndex++;
                    if (animationIndex === this.spineAnimations.length) {
                        animationIndex = 0;
                    }
                    this.animation = this.spineAnimations[animationIndex];
                };
                Spine.prototype._onAnimationComplete = function () {
                    this.onAnimationComplete.dispatch(this.spine_pose.curAnim().name);
                };
                Spine.prototype._updateFrameAnimationByName = function (animName) {
                    this._updateFrameAnimation(this.frameAnimations[animName]);
                };
                Spine.prototype._updateFrameAnimation = function (anim) {
                    var sprite = anim.sprite;
                    var bone = this.spine_pose.bones[anim.boneName];
                    var x = bone.local_space.position.x + anim.props.x, y = bone.local_space.position.y + anim.props.y, angle = bone.local_space.rotation.deg + anim.props.angle, scale = bone.local_space.scale;
                    if (bone.parent_key !== undefined) {
                        while (bone && bone !== undefined && bone.parent_key !== undefined) {
                            bone = this.spine_pose.bones[bone.parent_key];
                            if (bone === undefined) {
                                break;
                            }
                            x += bone.local_space.position.x;
                            y += bone.local_space.position.y;
                            angle += bone.local_space.rotation.deg;
                            scale.x *= bone.local_space.scale.x;
                            scale.y *= bone.local_space.scale.y;
                        }
                    }
                    sprite.x = x;
                    sprite.y = y;
                    sprite.angle = angle;
                    sprite.scale.x = scale.x;
                    sprite.scale.y = scale.y;
                };
                Object.defineProperty(Spine.prototype, "skeleton", {
                    get: function () {
                        return this.spine_data.skeleton;
                    },
                    enumerable: true,
                    configurable: true
                });
                Spine.prototype.addFrameAnimation = function (name, sprite, boneName, props) {
                    this.addChild(sprite);
                    if (props === undefined) {
                        props = {};
                    }
                    if (props.x === undefined) {
                        props.x = 0;
                    }
                    if (props.y === undefined) {
                        props.y = 0;
                    }
                    if (props.angle === undefined) {
                        props.angle = 0;
                    }
                    this.frameAnimations[name] = { sprite: sprite, boneName: boneName, props: props };
                    this.frameAnimationKeys = Object.keys(this.frameAnimations);
                };
                Spine.prototype.getFrameAnimation = function (name) {
                    if (this.frameAnimations[name] === undefined) {
                        return null;
                    }
                    return this.frameAnimations[name].sprite;
                };
                Object.defineProperty(Spine.prototype, "animation", {
                    get: function () {
                        if (this.spine_pose.curAnim() === undefined) {
                            return null;
                        }
                        return this.spine_pose.curAnim().name;
                    },
                    set: function (value) {
                        if (this.animation) {
                            this.spine_pose.setTime(0);
                        }
                        if (this.spine_data.anims[value] === undefined) {
                            console.log('there is no animation:', value);
                            return;
                        }
                        this.spine_pose.setAnim(value);
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Spine.prototype, "paused", {
                    set: function (value) {
                        this._paused = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Spine.prototype, "speed", {
                    get: function () {
                        return this._speed;
                    },
                    set: function (value) {
                        this._speed = value;
                        this._fps = 1000 / 60 * this._speed;
                    },
                    enumerable: true,
                    configurable: true
                });
                return Spine;
            }(Sprite));
            exports_7("Spine", Spine);
        }
    }
});
System.register("dijon/utils", ["dijon/application", "dijon/display"], function(exports_8, context_8) {
    "use strict";
    var __moduleName = context_8 && context_8.id;
    var application_3, display_1;
    var Util, Logger, Device, Textures, Placeholders, Notifications;
    return {
        setters:[
            function (application_3_1) {
                application_3 = application_3_1;
            },
            function (display_1_1) {
                display_1 = display_1_1;
            }],
        execute: function() {
            Util = (function () {
                function Util() {
                }
                Util.isNumber = function (value) {
                    return (+value === +value);
                };
                return Util;
            }());
            exports_8("Util", Util);
            Logger = (function () {
                function Logger() {
                }
                Logger.log = function (instance) {
                    var args = [];
                    for (var _i = 1; _i < arguments.length; _i++) {
                        args[_i - 1] = arguments[_i];
                    }
                    if (!Logger.enabled) {
                        return;
                    }
                    if (instance && instance.constructor) {
                        args.unshift(instance.constructor.toString().match(/\w+/g)[1] + ' ::');
                    }
                    return console.log.apply(console, args);
                };
                Logger.enabled = true;
                return Logger;
            }());
            exports_8("Logger", Logger);
            Device = (function () {
                function Device() {
                }
                Object.defineProperty(Device, "mobile", {
                    get: function () {
                        return Device.mobileOS !== Device.UNKNOWN;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Device, "cocoon", {
                    get: function () {
                        return (typeof navigator['isCocoonJS'] !== "undefined");
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Device, "mobileOS", {
                    get: function () {
                        var userAgent = window.navigator.userAgent || window.navigator.vendor || window['opera'];
                        if (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i) || userAgent.match(/iPod/i)) {
                            return Device.IOS;
                        }
                        else if (userAgent.match(/Android/i)) {
                            return Device.ANDROID;
                        }
                        else {
                            return Device.UNKNOWN;
                        }
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Device, "browser", {
                    get: function () {
                        var ua = navigator.userAgent.toLowerCase();
                        return {
                            firefox: ua.indexOf('firefox') > -1,
                            ie: ua.indexOf('ie') > -1,
                            safari: ua.indexOf('safari') > -1,
                            chrome: ua.indexOf('chrome') > -1,
                        };
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Device, "pixelRatio", {
                    get: function () {
                        return typeof window.devicePixelRatio !== undefined ? window.devicePixelRatio : 1;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Device, "customPixelRatio", {
                    get: function () {
                        return Device.pixelRatio >= 1.5 ? 2 : 1;
                    },
                    enumerable: true,
                    configurable: true
                });
                Device.IOS = 'iOS';
                Device.ANDROID = 'android';
                Device.UNKNOWN = 'unknown';
                return Device;
            }());
            exports_8("Device", Device);
            Textures = (function () {
                function Textures() {
                }
                Object.defineProperty(Textures, "game", {
                    get: function () {
                        return application_3.Application.getInstance().game;
                    },
                    enumerable: true,
                    configurable: true
                });
                Textures.rect = function (width, height, color, alpha, fill, lineColor, lineThickness, lineAlpha, outline) {
                    if (width === void 0) { width = 100; }
                    if (height === void 0) { height = 100; }
                    if (color === void 0) { color = 0xffffff; }
                    if (alpha === void 0) { alpha = 1; }
                    if (fill === void 0) { fill = true; }
                    if (lineColor === void 0) { lineColor = 0xffffff; }
                    if (lineThickness === void 0) { lineThickness = 1; }
                    if (lineAlpha === void 0) { lineAlpha = 1; }
                    if (outline === void 0) { outline = false; }
                    var gfx = Textures.game.add.graphics(0, 0);
                    if (fill) {
                        gfx.beginFill(color, alpha);
                    }
                    if (outline) {
                        gfx.lineWidth = lineThickness;
                        gfx.lineStyle(lineThickness, lineColor, lineAlpha);
                    }
                    gfx.drawRect(0, 0, width, height);
                    var texture = gfx.generateTexture();
                    Textures.game.world.remove(gfx);
                    return texture;
                };
                Textures.roundedRect = function (width, height, radius, color, alpha, fill, lineColor, lineThickness, lineAlpha, outline) {
                    if (width === void 0) { width = 100; }
                    if (height === void 0) { height = 100; }
                    if (radius === void 0) { radius = 10; }
                    if (color === void 0) { color = 0xffffff; }
                    if (alpha === void 0) { alpha = 1; }
                    if (fill === void 0) { fill = true; }
                    if (lineColor === void 0) { lineColor = 0xffffff; }
                    if (lineThickness === void 0) { lineThickness = 1; }
                    if (lineAlpha === void 0) { lineAlpha = 1; }
                    if (outline === void 0) { outline = false; }
                    var gfx = Textures.game.add.graphics(0, 0);
                    if (fill) {
                        gfx.beginFill(color, alpha);
                    }
                    if (outline) {
                        gfx.lineWidth = lineThickness;
                        gfx.lineStyle(lineThickness, lineColor, lineAlpha);
                    }
                    gfx.drawRoundedRect(0, 0, width, height, radius);
                    var texture = gfx.generateTexture();
                    Textures.game.world.remove(gfx);
                    return texture;
                };
                Textures.square = function (size, color, alpha, fill, lineColor, lineThickness, lineAlpha, outline) {
                    if (size === void 0) { size = 100; }
                    if (color === void 0) { color = 0xffffff; }
                    if (alpha === void 0) { alpha = 1; }
                    if (fill === void 0) { fill = true; }
                    if (lineColor === void 0) { lineColor = 0xffffff; }
                    if (lineThickness === void 0) { lineThickness = 1; }
                    if (lineAlpha === void 0) { lineAlpha = 1; }
                    if (outline === void 0) { outline = false; }
                    return Textures.rect(size, size, color, alpha, fill, lineColor, lineThickness, lineAlpha, outline);
                };
                Textures.circle = function (diameter, color, alpha, fill, lineColor, lineThickness, lineAlpha, outline) {
                    if (diameter === void 0) { diameter = 100; }
                    if (color === void 0) { color = 0xffffff; }
                    if (alpha === void 0) { alpha = 1; }
                    if (fill === void 0) { fill = true; }
                    if (lineColor === void 0) { lineColor = 0xffffff; }
                    if (lineThickness === void 0) { lineThickness = 1; }
                    if (lineAlpha === void 0) { lineAlpha = 1; }
                    if (outline === void 0) { outline = false; }
                    var gfx = Textures.game.add.graphics(0, 0);
                    if (fill) {
                        gfx.beginFill(color, alpha);
                    }
                    if (outline) {
                        gfx.lineWidth = lineThickness;
                        gfx.lineStyle(lineThickness, lineColor, lineAlpha);
                    }
                    gfx.drawCircle(0, 0, diameter);
                    var texture = gfx.generateTexture();
                    Textures.game.world.remove(gfx);
                    return texture;
                };
                Textures.ellipse = function (width, height, color, alpha, fill, lineColor, lineThickness, lineAlpha, outline) {
                    if (width === void 0) { width = 50; }
                    if (height === void 0) { height = 100; }
                    if (color === void 0) { color = 0xffffff; }
                    if (alpha === void 0) { alpha = 1; }
                    if (fill === void 0) { fill = true; }
                    if (lineColor === void 0) { lineColor = 0xffffff; }
                    if (lineThickness === void 0) { lineThickness = 1; }
                    if (lineAlpha === void 0) { lineAlpha = 1; }
                    if (outline === void 0) { outline = false; }
                    var gfx = Textures.game.add.graphics(0, 0);
                    if (fill) {
                        gfx.beginFill(color, alpha);
                    }
                    if (outline) {
                        gfx.lineWidth = lineThickness;
                        gfx.lineStyle(lineThickness, lineColor, lineAlpha);
                    }
                    gfx.drawEllipse(0, 0, width * 0.5, height * 0.5);
                    var texture = gfx.generateTexture();
                    Textures.game.world.remove(gfx);
                    return texture;
                };
                return Textures;
            }());
            exports_8("Textures", Textures);
            Placeholders = (function () {
                function Placeholders() {
                }
                Object.defineProperty(Placeholders, "game", {
                    get: function () {
                        return application_3.Application.getInstance().game;
                    },
                    enumerable: true,
                    configurable: true
                });
                Placeholders.image = function (x, y, texture, name) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (name === void 0) { name = ""; }
                    var imageInstance = new Phaser.Image(Placeholders.game, x, y, texture);
                    imageInstance.name = name;
                    return imageInstance;
                };
                Placeholders.button = function (x, y, width, height, autoSize, text, callback, callbackContext, defaultColor, overColor, downColor) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (width === void 0) { width = 100; }
                    if (height === void 0) { height = 50; }
                    if (autoSize === void 0) { autoSize = false; }
                    if (text === void 0) { text = 'button'; }
                    if (callback === void 0) { callback = null; }
                    if (callbackContext === void 0) { callbackContext = null; }
                    if (defaultColor === void 0) { defaultColor = 0xffffff; }
                    if (overColor === void 0) { overColor = 0xff0000; }
                    if (downColor === void 0) { downColor = 0x00ff00; }
                    var sprite = new Phaser.Sprite(Placeholders.game, x, y);
                    var textInstance = new display_1.Text(width * 0.5, height * 0.55, " " + text + " ", 'Arial', autoSize ? 25 : height * 0.6, '#000000');
                    textInstance.centerPivot();
                    textInstance.name = "Label";
                    if (autoSize) {
                        width = textInstance.width + 10;
                        height = textInstance.height + 10;
                        textInstance.position.set(width * 0.5, height * 0.55);
                    }
                    var upImage = Placeholders.image(0, 0, Textures.roundedRect(width, height, 10, defaultColor), "Up");
                    var overImage = Placeholders.image(0, 0, Textures.roundedRect(width, height, 10, overColor), "Over");
                    var downImage = Placeholders.image(0, 0, Textures.roundedRect(width, height, 10, downColor), "Down");
                    overImage.visible = false;
                    downImage.visible = false;
                    sprite.addChild(upImage);
                    sprite.addChild(overImage);
                    sprite.addChild(downImage);
                    sprite.addChild(textInstance);
                    sprite.inputEnabled = true;
                    sprite.input.useHandCursor = true;
                    sprite.events.onInputUp.add(function () {
                        downImage.visible = false;
                        overImage.visible = false;
                        upImage.visible = true;
                        if (callback) {
                            callback.call(callbackContext);
                        }
                    });
                    sprite.events.onInputDown.add(function () {
                        downImage.visible = true;
                        overImage.visible = false;
                        upImage.visible = false;
                    });
                    sprite.events.onInputOver.add(function () {
                        downImage.visible = false;
                        overImage.visible = true;
                        upImage.visible = false;
                    });
                    sprite.events.onInputOut.add(function () {
                        downImage.visible = false;
                        overImage.visible = false;
                        upImage.visible = true;
                    });
                    sprite.getBounds = function () {
                        return new PIXI.Rectangle(0, 0, upImage.width, upImage.height);
                    };
                    return sprite;
                };
                return Placeholders;
            }());
            exports_8("Placeholders", Placeholders);
            Notifications = (function () {
                function Notifications() {
                }
                Notifications.ASSET_MANAGER_DATA_SET = 'dijonAssetManagerDataSet';
                Notifications.ASSET_MANAGER_ASSETS_CLEARED = 'dijonAssetManagerAssetsCleared';
                Notifications.MOUSE_LEAVE_GLOBAL = 'mouseOutGlobal';
                Notifications.MOUSE_ENTER_GLOBAL = 'mouseEnterGlobal';
                return Notifications;
            }());
            exports_8("Notifications", Notifications);
        }
    }
});
System.register("dijon/core", ["dijon/application", "dijon/utils", "dijon/display"], function(exports_9, context_9) {
    "use strict";
    var __moduleName = context_9 && context_9.id;
    var application_4, utils_1, display_2;
    var AnalyticsManager, AnalyticsException, AssetManager, AudioManager, Game, GameObjectFactory, SequenceManager, State, StorageManager, TransitionManager;
    return {
        setters:[
            function (application_4_1) {
                application_4 = application_4_1;
            },
            function (utils_1_1) {
                utils_1 = utils_1_1;
            },
            function (display_2_1) {
                display_2 = display_2_1;
            }],
        execute: function() {
            AnalyticsManager = (function () {
                function AnalyticsManager(enabled, category) {
                    if (enabled === void 0) { enabled = true; }
                    if (category === void 0) { category = null; }
                    this.enabled = enabled;
                    this.category = category;
                }
                AnalyticsManager.prototype.trackEvent = function (action, label, value) {
                    if (action === void 0) { action = null; }
                    if (label === void 0) { label = null; }
                    if (value === void 0) { value = null; }
                    if (!this.active || !this.enabled) {
                        return;
                    }
                    if (!action) {
                        throw new AnalyticsException('No action defined');
                    }
                    if (value) {
                        this.ga('send', 'event', this.category, action, label, value);
                    }
                    else if (label) {
                        this.ga('send', 'event', this.category, action, label);
                    }
                    else {
                        this.ga('send', 'event', this.category, action);
                    }
                };
                AnalyticsManager.prototype.trackOmnitureEvent = function (gameName, activity, isGameEvent) {
                    if (!this.enabled) {
                        return;
                    }
                    if (typeof window['trackFlashEvent'] === 'undefined')
                        return false;
                    window['trackFlashEvent'](gameName, activity, isGameEvent);
                };
                Object.defineProperty(AnalyticsManager.prototype, "active", {
                    get: function () {
                        return (window['ga']) ? true : false;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(AnalyticsManager.prototype, "ga", {
                    get: function () {
                        return window['ga'];
                    },
                    enumerable: true,
                    configurable: true
                });
                return AnalyticsManager;
            }());
            exports_9("AnalyticsManager", AnalyticsManager);
            AnalyticsException = (function () {
                function AnalyticsException(message) {
                    this.message = message;
                    this.name = 'AnalyticsException';
                }
                return AnalyticsException;
            }());
            exports_9("AnalyticsException", AnalyticsException);
            AssetManager = (function () {
                function AssetManager() {
                    this._data = {};
                    this._baseURL = '';
                    this._pathObj = {};
                    this._assetPath = null;
                    this._dataPath = null;
                    this._spriteSheetPath = null;
                    this._imgPath = null;
                    this._spinePath = null;
                    this._fontPath = null;
                    this._bitmapFontPath = null;
                    this._physicsPath = null;
                    this._audioSpritePath = null;
                    this._soundPath = null;
                    this._soundDecodingModifier = 2;
                    this._res = 1;
                    this._resolution = null;
                    this._loadData = {};
                    this._autoLoadData = {};
                    this._completedLoads = {};
                    this._requiredData = {};
                    this._currentAssetList = null;
                    this._hasFiles = false;
                    this._soundsToDecode = [];
                    this._isLoadingQueue = false;
                    this._fileCompleteProgress = 0;
                    this._maxPercent = 100;
                    this._numSounds = 0;
                    this._soundsDecoded = 0;
                    this._cacheBustVersion = '';
                    this.onLoadStart = new Phaser.Signal();
                    this.onFileStart = new Phaser.Signal();
                    this.onFileComplete = new Phaser.Signal();
                    this.onLoadComplete = new Phaser.Signal();
                    this.onLoadCompleteAndAudioDecoded = new Phaser.Signal();
                    this.onBackgroundLoadStart = new Phaser.Signal();
                    this.onBackgroundFileStart = new Phaser.Signal();
                    this.onBackgroundFileComplete = new Phaser.Signal();
                    this.onBackgroundLoadComplete = new Phaser.Signal();
                    this.onBackgroundLoadCompleteAndAudioDecoded = new Phaser.Signal();
                    this._init();
                }
                AssetManager.prototype._init = function () {
                    this.app = application_4.Application.getInstance();
                    this.game = this.app.game;
                    this.baseURL = '';
                    this.paths = null;
                    this.resolution = this.game.resolution;
                };
                AssetManager.prototype._parseAssetList = function (key, list) {
                    var _this = this;
                    this._autoLoadData[key] = list.autoload;
                    this._requiredData[key] = list.required;
                    this._loadData[key] = [];
                    list.assets.forEach(function (asset) {
                        _this._loadData[key].push(asset);
                    });
                };
                AssetManager.prototype._loadAssets = function (id) {
                    var assets = this._loadData[id], i;
                    for (i = 0; i < assets.length; i++) {
                        this._loadAsset(assets[i]);
                    }
                };
                AssetManager.prototype._backgroundLoadStart = function () {
                    this.onBackgroundLoadStart.dispatch();
                };
                AssetManager.prototype._backgroundFileComplete = function (progress, id, fileIndex, totalFiles) {
                    if (this.game.cache.checkKey(Phaser.Cache.IMAGE, id)) {
                        this._setBaseTextureResolution(this.game.cache.getPixiBaseTexture(id));
                    }
                    this._fileCompleteProgress = progress;
                    this.onBackgroundFileComplete.dispatch(progress, id, fileIndex, totalFiles);
                };
                AssetManager.prototype._backgroundLoadComplete = function () {
                    this.game.load.onFileComplete.remove(this._backgroundFileComplete, this);
                    this.onBackgroundLoadComplete.dispatch();
                    this._checkSoundDecoding(this.onBackgroundLoadCompleteAndAudioDecoded);
                };
                AssetManager.prototype._gameLoadStart = function () {
                    this.onLoadStart.dispatch();
                };
                AssetManager.prototype._gameFileStart = function () {
                    this.onFileStart.dispatch();
                };
                AssetManager.prototype._gameFileComplete = function (progress, id, fileIndex, totalFiles) {
                    if (this.game.cache.checkKey(Phaser.Cache.IMAGE, id)) {
                        this._setBaseTextureResolution(this.game.cache.getPixiBaseTexture(id));
                    }
                    this._fileCompleteProgress = progress;
                    this.onFileComplete.dispatch(this.getLoadProgress(), id, fileIndex, totalFiles);
                };
                AssetManager.prototype._setBaseTextureResolution = function (texture) {
                    if (texture && texture.source.src.indexOf('@' + this.resolution + 'x') >= 0) {
                        texture.resolution = this.resolution;
                    }
                };
                ;
                AssetManager.prototype._gameLoadComplete = function () {
                    this._completedLoads[this._currentAssetList] = true;
                    this.onLoadComplete.dispatch();
                    this.game.load.onFileStart.remove(this._gameFileStart, this);
                    this.game.load.onFileComplete.remove(this._gameFileComplete, this);
                    this._checkSoundDecoding(this.onLoadCompleteAndAudioDecoded);
                };
                AssetManager.prototype._checkSoundDecoding = function (eventToDispatch) {
                    var sound, i, isAudioSprite;
                    if (this._soundsToDecode && this._soundsToDecode.length > 0) {
                        for (i = 0; i < this._soundsToDecode.length; i++) {
                            isAudioSprite = this._soundsToDecode[i].isAudioSprite;
                            sound = this.game.add.sound(this._soundsToDecode[i].url);
                            sound.__isAudioSprite = isAudioSprite;
                            sound.eventToDispatch = eventToDispatch;
                            sound.onDecoded.addOnce(this._onSoundDecoded, this);
                        }
                    }
                    else {
                        eventToDispatch.dispatch();
                    }
                };
                AssetManager.prototype._onSoundDecoded = function (sound) {
                    var soundIndex = this._soundsToDecode.indexOf(sound.key);
                    this._soundsToDecode.splice(soundIndex, 1);
                    if (typeof this.game.audio !== 'undefined' && typeof this.game.audio.addAudio !== 'undefined') {
                        if (sound.__isAudioSprite)
                            this.game.add.audioSprite(sound.key);
                        this.game.audio.addAudio(sound.key, sound.__isAudioSprite);
                    }
                    this._soundsDecoded++;
                    this._maxPercent = (100 - (this._numSounds * this.soundDecodingModifier) + (this._soundsDecoded * this.soundDecodingModifier));
                    this._gameFileComplete(100);
                    if (this._soundsToDecode.length === 0) {
                        sound.eventToDispatch.dispatch();
                    }
                };
                AssetManager.prototype._getAssetKey = function (fileName) {
                    if (fileName.indexOf('.') < 0)
                        return fileName;
                    var ext = fileName.split('.');
                    ext.pop();
                    return ext.join('');
                };
                AssetManager.prototype._getExtension = function (fileName) {
                    return fileName.split('.').pop();
                };
                AssetManager.prototype._getResolution = function (res) {
                    var result = '';
                    if (typeof res === 'string') {
                        res = parseFloat(res);
                    }
                    if (res === undefined) {
                        res = this.resolution;
                    }
                    if (res > 1.5) {
                        result = AssetManager.RESOLUTION_2X;
                    }
                    return result;
                };
                AssetManager.prototype._loadAsset = function (asset) {
                    var type = asset.type, url = asset.url || asset.key;
                    switch (type) {
                        case AssetManager.ASSET_LIST:
                            this._loadAssets(asset.id);
                            break;
                        case AssetManager.SOUND:
                            this.loadSound(url, asset.extensions);
                            break;
                        case AssetManager.AUDIO_SPRITE:
                            this.loadAudioSprite(url, asset.extensions);
                            break;
                        case AssetManager.IMAGE:
                            this.loadImage(url, this._getResolution(asset.resolution));
                            break;
                        case AssetManager.ATLAS:
                            this.loadAtlas(url, this._getResolution(asset.resolution));
                            break;
                        case AssetManager.TEXT:
                            this.loadText(url);
                            break;
                        case AssetManager.JSON:
                            this.loadJSON(url);
                            break;
                        case AssetManager.TILEMAP:
                            this.loadTilemap(url);
                            break;
                        case AssetManager.TILEDMAP:
                            this.loadTiledmap(url, asset.assets);
                            break;
                        case AssetManager.PHYSICS:
                            this.loadPhysics(url);
                            break;
                        case AssetManager.SPINE:
                            this.loadSpine(url, this._getResolution(asset.resolution));
                            break;
                    }
                };
                AssetManager.prototype._parseData = function () {
                    var key;
                    for (key in this._data) {
                        this._parseAssetList(key, this._data[key]);
                    }
                };
                AssetManager.prototype._getCacheBustedUrl = function (url) {
                    if (this._cacheBustVersion === undefined || this._cacheBustVersion === '') {
                        return url;
                    }
                    return url + '?v=' + this._cacheBustVersion;
                };
                AssetManager.prototype.loadText = function (url) {
                    var key = this._getAssetKey(url);
                    return this.game.load.text(key, this._getCacheBustedUrl(this._dataPath + '/' + url));
                };
                AssetManager.prototype.loadJSON = function (key) {
                    key = this._getAssetKey(key);
                    return this.game.load.json(key, this._getCacheBustedUrl(this._dataPath + '/' + key + '.json'));
                };
                AssetManager.prototype.loadTilemap = function (key) {
                    key = this._getAssetKey(key);
                    return this.game.load.tilemap(key, this._getCacheBustedUrl(this._dataPath + '/tilemap/' + key + '.json'), null, Phaser.Tilemap.TILED_JSON);
                };
                AssetManager.prototype.loadTiledmap = function (key, assets) {
                    var _this = this;
                    if (Phaser.Plugin['Tiled'] === undefined) {
                        console.log('tiledmap requires the phaser-tiled plugin from https://github.com/englercj/phaser-tiled');
                        return null;
                    }
                    var cacheKey = Phaser.Plugin['Tiled'].utils.cacheKey;
                    this.game.load['tiledmap'](cacheKey(key, 'tiledmap'), this._getCacheBustedUrl(this._dataPath + '/tilemap/' + key + '.json'), null, Phaser.Tilemap.TILED_JSON);
                    assets.forEach(function (asset) {
                        switch (asset.type) {
                            case AssetManager.TILEDMAP_TILESET:
                            case AssetManager.TILEDMAP_LAYER:
                                _this.loadTiledmapImage(key, asset.type, asset);
                                break;
                        }
                    });
                };
                AssetManager.prototype.loadTiledmapImage = function (key, tilesetImageType, asset) {
                    var cacheKey = Phaser.Plugin['Tiled'].utils.cacheKey;
                    var resolution = '';
                    var newKey = this._getAssetKey(asset.url);
                    var cKey = cacheKey(key, 'tileset', newKey);
                    if (typeof asset.resolution !== 'string') {
                        resolution = this._getResolution(asset.resolution);
                    }
                    var url = this._getAssetKey(newKey + resolution + '.' + this._getExtension(asset.url));
                    console.log(asset.url, cKey);
                    this.game.load.image(cKey, this._getCacheBustedUrl(this._spriteSheetPath + '/' + url + '.png'));
                };
                AssetManager.prototype.loadPhysics = function (key) {
                    key = this._getAssetKey(key);
                    return this.game.load.physics(key, this._getCacheBustedUrl(this._physicsPath + '/' + key + '.json'));
                };
                AssetManager.prototype.loadAtlas = function (url, resolution) {
                    if (typeof resolution !== 'string') {
                        resolution = this._getResolution(resolution);
                    }
                    if (this.game.cache.checkImageKey(url)) {
                        return url;
                    }
                    return this.game.load.atlasJSONHash(url, this._getCacheBustedUrl(this._spriteSheetPath + '/' + url + resolution + '.png'), this._getCacheBustedUrl(this._spriteSheetPath + '/' + url + resolution + '.json'));
                };
                AssetManager.prototype.loadImage = function (url, resolution) {
                    if (typeof resolution !== 'string') {
                        resolution = this._getResolution(resolution);
                    }
                    var key = this._getAssetKey(url);
                    if (this.game.cache.checkImageKey(key)) {
                        return key;
                    }
                    url = key + resolution + '.' + this._getExtension(url);
                    return this.game.load.image(key, this._getCacheBustedUrl(this._imgPath + '/' + url));
                };
                AssetManager.prototype.loadSpine = function (url, resolution) {
                    if (typeof resolution !== 'string') {
                        resolution = this._getResolution(resolution);
                    }
                    var key = this._getAssetKey(url);
                    if (this.game.cache.checkImageKey(key)) {
                        return key;
                    }
                    url = key + resolution + '.png';
                    var jsonUrl = key + '.json';
                    var atlasUrl = key + '.atlas';
                    this.game.load.json(key + '.json', this._getCacheBustedUrl(this._spinePath + '/' + jsonUrl));
                    this.game.load.text(key + '.atlas', this._getCacheBustedUrl(this._spinePath + '/' + atlasUrl));
                    this.game.load.image(key + '.png', this._getCacheBustedUrl(this._spinePath + '/' + url));
                };
                AssetManager.prototype.loadBitmapFont = function (url, resolution) {
                    if (typeof resolution !== 'string') {
                        resolution = this._getResolution(resolution);
                    }
                    this.game.load.bitmapFont(url, this._getCacheBustedUrl(this._bitmapFontPath + '/' + url + resolution + '.png'), this._getCacheBustedUrl(this._bitmapFontPath + '/' + url + resolution + '.json'));
                };
                AssetManager.prototype.loadAudio = function (url, exts, isAudioSprite) {
                    var type, path;
                    if (this.game.cache.checkSoundKey(url) && this.game.cache.getSound(url).isDecoded) {
                        return;
                    }
                    if (typeof type === 'undefined') {
                        type = 'sound';
                    }
                    if (exts.indexOf(',') >= 0) {
                        exts = exts.split(',');
                    }
                    if (this.game.device.iOS && exts.indexOf('m4a') === -1) {
                        exts.unshift('m4a');
                    }
                    if (typeof exts === 'object') {
                        path = [];
                        for (var i = 0; i < exts.length; i++) {
                            path.push(this._getCacheBustedUrl((isAudioSprite ? this._audioSpritePath : this._soundPath) + '/' + url + '.' + exts[i]));
                        }
                    }
                    else {
                        path = this._getCacheBustedUrl((isAudioSprite ? this._audioSpritePath : this._soundPath) + '/' + type + '/' + url + '.' + exts);
                    }
                    if (isAudioSprite) {
                        this.game.load.audiosprite(url, path, this._audioSpritePath + '/' + url + '.json');
                    }
                    else {
                        this.game.load.audio(url, path);
                    }
                    this._soundsToDecode.push({
                        url: url,
                        isAudioSprite: isAudioSprite
                    });
                };
                AssetManager.prototype.loadSound = function (url, exts) {
                    return this.loadAudio(url, exts, false);
                };
                AssetManager.prototype.loadAudioSprite = function (url, exts) {
                    return this.loadAudio(url, exts, true);
                };
                AssetManager.prototype.loadAssets = function (id, background) {
                    if (background === void 0) { background = false; }
                    this._currentAssetList = id;
                    this.game.load.onFileComplete.remove(this._backgroundFileComplete, this);
                    this.game.load.onFileComplete.remove(this._gameFileComplete, this);
                    this._hasFiles = false;
                    this._soundsToDecode = [];
                    if (typeof this._data === 'undefined') {
                        return;
                    }
                    if (typeof this._data[id] === 'undefined' || this._data[id].length < 1) {
                        return console.log('no preload data registered for ', id);
                    }
                    this._loadAssets(id);
                    this._hasFiles = this.game.load.totalQueuedFiles() > 0;
                    if (background) {
                        this.game.load.onLoadStart.addOnce(this._backgroundLoadStart, this);
                        this.game.load.onFileComplete.add(this._backgroundFileComplete, this);
                        this.game.load.onLoadComplete.addOnce(this._backgroundLoadComplete, this);
                    }
                    else {
                        this.game.load.onLoadStart.addOnce(this._gameLoadStart, this);
                        this.game.load.onFileStart.add(this._gameFileStart, this);
                        this.game.load.onFileComplete.add(this._gameFileComplete, this);
                        this.game.load.onLoadComplete.addOnce(this._gameLoadComplete, this);
                    }
                    if (!this._hasFiles) {
                        this._gameLoadStart();
                        this._gameFileComplete(100);
                        this._gameLoadComplete();
                        return;
                    }
                    this._numSounds = this._soundsToDecode.length;
                    this._soundsDecoded = 0;
                    this._maxPercent = 100 - (this._numSounds * this.soundDecodingModifier);
                    if (background) {
                        this.game.load.start();
                    }
                };
                AssetManager.prototype.loadQueue = function () {
                    if (this._isLoadingQueue) {
                        return;
                    }
                    if (typeof this._data === 'undefined') {
                        return console.log('no preload queue to load');
                    }
                    var assets, state, i;
                    for (state in this._data) {
                        if (this._autoLoadData[state]) {
                            assets = this._data[state];
                            for (i = 0; i < assets.length; i++) {
                                this._loadAsset(assets[i]);
                            }
                        }
                    }
                    this.game.load.start();
                    this._isLoadingQueue = true;
                    this.game.load.onLoadStart.addOnce(this._backgroundLoadStart, this);
                    this.game.load.onFileComplete.add(this._backgroundFileComplete, this);
                    this.game.load.onLoadComplete.addOnce(this._backgroundLoadComplete, this);
                };
                AssetManager.prototype.getLoadProgress = function () {
                    var adjustedProgress = this._fileCompleteProgress * this._maxPercent / 100;
                    return adjustedProgress;
                };
                AssetManager.prototype.allSoundsDecoded = function () {
                    return this._soundsToDecode.length === 0;
                };
                AssetManager.prototype.setData = function (data) {
                    this._data = data;
                    this._loadData = {};
                    this._parseData();
                    this.sendNotification(utils_1.Notifications.ASSET_MANAGER_DATA_SET, this._data);
                };
                AssetManager.prototype.clearAssets = function (id, clearAudio, clearAtlasses, clearImages, clearText, clearJSON) {
                    if (clearAudio === void 0) { clearAudio = true; }
                    if (clearAtlasses === void 0) { clearAtlasses = true; }
                    if (clearImages === void 0) { clearImages = true; }
                    if (clearText === void 0) { clearText = true; }
                    if (clearJSON === void 0) { clearJSON = true; }
                    var assets = this._data[id];
                    console.log('clearing: ', id);
                    if (!assets || typeof assets === 'undefined' || assets.length < 1) {
                        return console.log('no assets', assets);
                    }
                    for (var i = 0; i < assets.length; i++) {
                        this.clearAsset(assets[i], clearAudio, clearAtlasses, clearImages, clearText, clearJSON);
                    }
                    this._completedLoads[id] = false;
                    this.sendNotification(utils_1.Notifications.ASSET_MANAGER_ASSETS_CLEARED, id);
                };
                AssetManager.prototype.clearAsset = function (asset, clearAudio, clearAtlasses, clearImages, clearText, clearJSON) {
                    if (clearAudio === void 0) { clearAudio = true; }
                    if (clearAtlasses === void 0) { clearAtlasses = true; }
                    if (clearImages === void 0) { clearImages = true; }
                    if (clearText === void 0) { clearText = true; }
                    if (clearJSON === void 0) { clearJSON = true; }
                    var type = asset.type, url = asset.url, required = asset.required;
                    if (required) {
                        console.log('the ' + type + ' asset: ' + url + ' is required and will not be cleared');
                        return;
                    }
                    switch (type) {
                        case AssetManager.AUDIO:
                            if (clearAudio) {
                                this.game.sound.removeByKey(url);
                                this.game.cache.removeSound(url);
                            }
                            break;
                        case AssetManager.IMAGE:
                            if (clearImages) {
                                this.game.cache.removeImage(url);
                                PIXI.BaseTextureCache[url].destroy();
                            }
                            break;
                        case AssetManager.ATLAS:
                            if (clearAtlasses) {
                                this.game.cache.removeImage(url);
                                PIXI.BaseTextureCache[url].destroy();
                                this.game.cache.removeXML(url);
                            }
                            break;
                        case AssetManager.TEXT:
                            if (clearText) {
                                this.game.cache.removeText(url);
                            }
                            break;
                        case AssetManager.JSON:
                            if (clearJSON) {
                                this.game.cache.removeJSON(url);
                            }
                            break;
                        case AssetManager.PHYSICS:
                            if (clearJSON) {
                                this.game.cache.removePhysics(url);
                            }
                            break;
                    }
                };
                AssetManager.prototype.hasLoadedAssets = function (id) {
                    return this._completedLoads[id] === true;
                };
                AssetManager.prototype.sendNotification = function (notificationName, notificationBody) {
                    return this.app.sendNotification(notificationName, notificationBody);
                };
                Object.defineProperty(AssetManager.prototype, "baseURL", {
                    set: function (baseURL) {
                        if (baseURL && baseURL !== undefined && baseURL.charAt(baseURL.length - 1) !== '/')
                            baseURL += '/';
                        this._baseURL = baseURL;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(AssetManager.prototype, "paths", {
                    set: function (pathObj) {
                        this._pathObj = pathObj || {};
                        this._assetPath = this._baseURL + (this._pathObj.assetPath || 'assets');
                        this._dataPath = this._baseURL + (this._pathObj.dataPath || 'assets/data');
                        this._spriteSheetPath = this._baseURL + (this._pathObj.spritesheetPath || 'assets/img/spritesheets');
                        this._imgPath = this._baseURL + (this._pathObj.imgPath || 'assets/img');
                        this._spinePath = this._baseURL + (this._pathObj.spinePath || 'assets/spine');
                        this._fontPath = this._baseURL + (this._pathObj.fontPath || 'assets/fonts');
                        this._bitmapFontPath = this._baseURL + (this._pathObj.bitmapFontPath || 'assets/fonts/bitmap');
                        this._audioSpritePath = this._baseURL + (this._pathObj.audioSpritePath || 'assets/audio/sprite');
                        this._soundPath = this._baseURL + (this._pathObj.soundPath || 'assets/audio/sound');
                        this._physicsPath = this._baseURL + (this._pathObj.physicsPath || 'assets/data/physics');
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(AssetManager.prototype, "resolution", {
                    get: function () {
                        return this._res;
                    },
                    set: function (res) {
                        if (res === undefined) {
                            res = this.game.resolution;
                        }
                        this._res = res;
                        this._resolution = '';
                        if (this._res > 1.5) {
                            this._resolution = AssetManager.RESOLUTION_2X;
                        }
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(AssetManager.prototype, "soundDecodingModifier", {
                    get: function () {
                        return this._soundDecodingModifier;
                    },
                    set: function (num) {
                        if (num === undefined) {
                            num = 2;
                        }
                        this._soundDecodingModifier = num;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(AssetManager.prototype, "cacheBustVersion", {
                    set: function (version) {
                        this._cacheBustVersion = '' + version;
                    },
                    enumerable: true,
                    configurable: true
                });
                AssetManager.AUDIO = 'audio';
                AssetManager.SOUND = 'sound';
                AssetManager.AUDIO_SPRITE = 'audioSprite';
                AssetManager.IMAGE = 'image';
                AssetManager.ATLAS = 'atlas';
                AssetManager.TEXT = 'text';
                AssetManager.JSON = 'json';
                AssetManager.TILEMAP = 'tilemap';
                AssetManager.TILEDMAP = 'tiledmap';
                AssetManager.TILEDMAP_TILESET = 'tileset';
                AssetManager.TILEDMAP_LAYER = 'layer';
                AssetManager.PHYSICS = 'physics';
                AssetManager.SPINE = 'spine';
                AssetManager.ASSET_LIST = 'assetList';
                AssetManager.RESOLUTION_2X = "@2x";
                AssetManager.RESOLUTION_3X = "@3x";
                return AssetManager;
            }());
            exports_9("AssetManager", AssetManager);
            AudioManager = (function () {
                function AudioManager() {
                    this._defaultVolume = 1;
                    this._sprites = {};
                    this._sounds = {};
                    this._markerLookup = {};
                    this.game = application_4.Application.getInstance().game;
                }
                AudioManager.prototype._addAudio = function (key, isAudioSprite) {
                    if (isAudioSprite === void 0) { isAudioSprite = false; }
                    if (isAudioSprite === true) {
                        return this._parseAudioSprite(key, this.game.add.audioSprite(key));
                    }
                    else {
                        return this._allowMultiple(this.game.add.sound(key));
                    }
                };
                AudioManager.prototype._parseAudioSprite = function (key, audioSprite) {
                    for (var soundKey in audioSprite.sounds) {
                        this._allowMultiple(audioSprite.sounds[soundKey]);
                        this._markerLookup[soundKey] = key;
                    }
                    return audioSprite;
                };
                AudioManager.prototype._allowMultiple = function (sound) {
                    sound.allowMultiple = true;
                    return sound;
                };
                AudioManager.prototype._getKeyFromMarkerName = function (marker) {
                    if (typeof this._markerLookup[marker] !== 'undefined') {
                        return this._markerLookup[marker];
                    }
                    for (var key in this._sprites) {
                        if (typeof this._sprites[key].sounds[marker] !== 'undefined') {
                            this._markerLookup[marker] = key;
                            return key;
                        }
                    }
                    return false;
                };
                AudioManager.prototype._playSpriteMarker = function (key, marker, volume, loop, forceRestart) {
                    if (loop === void 0) { loop = false; }
                    if (forceRestart === void 0) { forceRestart = true; }
                    if (typeof volume !== 'undefined') {
                        if (typeof volume === 'string') {
                            if (volume.indexOf('+') >= 0 || volume.indexOf('-') >= 0) {
                                volume = this._defaultVolume + parseFloat(volume);
                            }
                            else {
                                volume = parseFloat(volume);
                            }
                        }
                    }
                    else {
                        volume = this._defaultVolume;
                    }
                    loop = loop || false;
                    forceRestart = forceRestart === false ? false : true;
                    return this._sprites[key].play(marker, volume);
                };
                AudioManager.prototype._stopSpriteMarker = function (key, marker) {
                    if (typeof this._sprites === 'undefined' || typeof this._sprites[key] === 'undefined') {
                        return false;
                    }
                    return this._sprites[key].stop(marker);
                };
                AudioManager.prototype._stopSound = function (sound) {
                    return sound.stop();
                };
                AudioManager.prototype.addAudio = function (key, isAudioSprite) {
                    if (isAudioSprite === void 0) { isAudioSprite = false; }
                    if (isAudioSprite === true) {
                        return this.addAudioSprite(key);
                    }
                    return this.addSound(key);
                };
                AudioManager.prototype.addSound = function (key) {
                    if (typeof this._sounds[key] !== 'undefined') {
                        return this._sounds[key];
                    }
                    this._sounds[key] = this.game.add.audio(key);
                    this._sounds[key].allowMultiple = true;
                    return this._sounds[key];
                };
                AudioManager.prototype.addAudioSprite = function (key) {
                    if (typeof this._sprites[key] !== 'undefined') {
                        return this._sprites[key];
                    }
                    this._sprites[key] = this._addAudio(key, true);
                    return this._sprites[key];
                };
                AudioManager.prototype.playAudio = function (marker, volume, loop, forceRestart) {
                    if (loop === void 0) { loop = false; }
                    if (forceRestart === void 0) { forceRestart = true; }
                    if (this._getKeyFromMarkerName(marker)) {
                        return this.playSpriteMarker(marker, volume, loop, forceRestart);
                    }
                    return this.playSound(marker, volume, loop, forceRestart);
                };
                AudioManager.prototype.playDelayedAudio = function (delay, marker, volume, loop, forceRestart) {
                    if (loop === void 0) { loop = false; }
                    if (forceRestart === void 0) { forceRestart = true; }
                    if (this._getKeyFromMarkerName(marker)) {
                        return this.playDelayedSpriteMarker(delay, marker, volume, loop, forceRestart);
                    }
                    return this.playDelayedSound(delay, marker, volume, loop, forceRestart);
                };
                AudioManager.prototype.playSound = function (key, volume, loop, forceRestart) {
                    if (loop === void 0) { loop = false; }
                    if (forceRestart === void 0) { forceRestart = true; }
                    if (typeof this._sounds[key] === 'undefined') {
                        return null;
                    }
                    volume = typeof volume === 'undefined' ? this._defaultVolume : volume;
                    return this._sounds[key].play("", 0, volume, loop, forceRestart);
                };
                AudioManager.prototype.playSpriteMarker = function (marker, volume, loop, forceRestart) {
                    if (loop === void 0) { loop = false; }
                    if (forceRestart === void 0) { forceRestart = true; }
                    var key = this._getKeyFromMarkerName(marker);
                    if (!key) {
                        console.log('marker not found', marker);
                        return null;
                    }
                    return this._playSpriteMarker(key, marker, volume, loop, forceRestart);
                };
                AudioManager.prototype.playDelayedSound = function (delay, key, volume, loop, forceRestart) {
                    if (loop === void 0) { loop = false; }
                    if (forceRestart === void 0) { forceRestart = true; }
                    this.game.time.events.add(delay, this.playSound, this, key, volume, loop, forceRestart);
                    return null;
                };
                AudioManager.prototype.playDelayedSpriteMarker = function (delay, marker, volume, loop, forceRestart) {
                    if (loop === void 0) { loop = false; }
                    if (forceRestart === void 0) { forceRestart = true; }
                    this.game.time.events.add(delay, this.playSpriteMarker, this, marker, volume, loop, forceRestart);
                    return null;
                };
                AudioManager.prototype.stopAudio = function (marker) {
                    if (this._getKeyFromMarkerName(marker)) {
                        return this.stopSpriteMarker(marker);
                    }
                    return this.stopSound(marker);
                };
                AudioManager.prototype.stopSound = function (key) {
                    if (typeof this._sounds === 'undefined' || typeof this._sounds[key] === 'undefined') {
                        return;
                    }
                    return this._sounds[key].stop();
                };
                AudioManager.prototype.stopSpriteMarker = function (marker) {
                    var key = this._getKeyFromMarkerName(marker);
                    if (!key) {
                        console.log('marker not found', marker);
                        return;
                    }
                    this._stopSpriteMarker(key, marker);
                };
                AudioManager.prototype.removeSound = function (key) {
                    if (typeof this._sounds === 'undefined' || typeof this._sounds[key] === 'undefined') {
                        return false;
                    }
                    if (this._sounds[key]) {
                        this.stopSound(key);
                        this._sounds[key].destroy();
                        delete this._sounds[key];
                    }
                };
                AudioManager.prototype.removeSprite = function (key) {
                    if (typeof this._sprites === 'undefined' || typeof this._sprites[key] === 'undefined') {
                        return;
                    }
                    this.stopSpriteMarker(key);
                    this._sprites[key] = null;
                    delete this._sprites[key];
                };
                AudioManager.prototype.fade = function (sound, volume, time, stop) {
                    if (stop === void 0) { stop = false; }
                    if (!sound)
                        return;
                    if (sound.fadeTween && sound.fadeTween)
                        this.game.tweens.remove(sound.fadeTween);
                    sound.fadeTween = this.game.add.tween(sound).to({
                        volume: volume
                    }, time || 300, Phaser.Easing.Linear.None);
                    if (stop === true)
                        sound.fadeTween.onComplete.addOnce(function () { this._stopSound(sound); }, this);
                    return sound.fadeTween.start();
                };
                Object.defineProperty(AudioManager.prototype, "defaultVolume", {
                    get: function () {
                        return this._defaultVolume;
                    },
                    set: function (vol) {
                        this._defaultVolume = vol;
                    },
                    enumerable: true,
                    configurable: true
                });
                return AudioManager;
            }());
            exports_9("AudioManager", AudioManager);
            Game = (function (_super) {
                __extends(Game, _super);
                function Game(config) {
                    _super.call(this, config);
                    this.onWorldInputDisabled = new Phaser.Signal();
                    this.onWorldInputEnabled = new Phaser.Signal();
                }
                Game.prototype.boot = function () {
                    _super.prototype.boot.call(this);
                    this.app = application_4.Application.getInstance();
                    this.asset = new AssetManager();
                    this.sequence = new SequenceManager();
                    this.transition = new TransitionManager();
                    this.storage = new StorageManager();
                    this.audio = new AudioManager();
                    this.analytics = new AnalyticsManager(this.config.analytics);
                    this.add = null;
                    this.add = new GameObjectFactory(this);
                    this.addLayers();
                    this.addMouseCallbacks();
                    this.setFactoryDefaultLayer(this.gameLayer);
                };
                Game.prototype.addPlugins = function () {
                    var _this = this;
                    if (this.config.plugins && this.config.plugins.length > 0) {
                        this.config.plugins.forEach(function (pluginName) {
                            if (typeof Phaser.Plugin[pluginName] === 'function') {
                                _this.add.plugin(Phaser.Plugin[pluginName]);
                            }
                        });
                    }
                };
                Game.prototype.setFactoryDefaultLayer = function (newLayer) {
                    this.add.setDefaultLayer(newLayer || this.world);
                };
                Game.prototype.addLayers = function () {
                    this.backgroundLayer = this.add.dGroup(0, 0, '_background_layer', true);
                    this.stage.setChildIndex(this.backgroundLayer, 0);
                    this.gameLayer = this.add.dGroup(0, 0, '_game_layer');
                    this.uiLayer = this.add.dGroup(0, 0, '_ui_layer');
                    this.uiLayer.fixedToCamera = true;
                    this.stageLayer = this.add.dGroup(0, 0, '_stage_layer', true);
                };
                Game.prototype.addMouseCallbacks = function () {
                    if (this.device.desktop) {
                        this.input.mouse.mouseOverCallback = this.mouseOver;
                        this.input.mouse.mouseOutCallback = this.mouseOut;
                    }
                };
                Game.prototype.mouseOut = function () {
                    application_4.Application.getInstance().sendNotification(utils_1.Notifications.MOUSE_LEAVE_GLOBAL);
                };
                Game.prototype.mouseOver = function () {
                    application_4.Application.getInstance().sendNotification(utils_1.Notifications.MOUSE_ENTER_GLOBAL);
                };
                Game.prototype.disableElementInput = function (el) {
                    if (el.input && el.inputEnabled === true) {
                        el.wasEnabled = true;
                        el.inputEnabled = false;
                    }
                    if (el.children.length > 0) {
                        for (var i = 0; i < el.children.length; i++) {
                            this.disableElementInput(el.children[i]);
                        }
                    }
                };
                Game.prototype.enableElementInput = function (el) {
                    if (el.input && el.inputEnabled === false && el.wasEnabled) {
                        el.wasEnabled = false;
                        el.inputEnabled = true;
                    }
                    if (el.children.length > 0) {
                        for (var i = 0; i < el.children.length; i++) {
                            this.enableElementInput(el.children[i]);
                        }
                    }
                };
                Game.prototype.disableInput = function (group) {
                    return group.forEach(function (el) {
                        if (el instanceof Phaser.Group) {
                            return this.disableInput(el);
                        }
                        else {
                            return this.disableElementInput(el);
                        }
                    }, this);
                };
                Game.prototype.enableInput = function (group) {
                    return group.forEach(function (el) {
                        if (el instanceof Phaser.Group) {
                            return this.enableInput(el);
                        }
                        else {
                            return this.enableElementInput(el);
                        }
                    }, this);
                };
                Game.prototype.disableGameInput = function () {
                    this.disableInput(this.gameLayer);
                    this.onWorldInputDisabled.dispatch();
                };
                Game.prototype.enableGameInput = function () {
                    this.enableInput(this.gameLayer);
                    this.onWorldInputEnabled.dispatch();
                };
                Game.prototype.changeState = function (toState) {
                    this.gameLayer.removeAll(true, true);
                    return this.state.start(toState, false, false);
                };
                Object.defineProperty(Game.prototype, "addToGame", {
                    get: function () {
                        this.add.targetGroup = this.gameLayer;
                        return this.add;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Game.prototype, "addToBackground", {
                    get: function () {
                        this.add.targetGroup = this.backgroundLayer;
                        return this.add;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Game.prototype, "addToUI", {
                    get: function () {
                        this.add.targetGroup = this.uiLayer;
                        return this.add;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Game.prototype, "addToStage", {
                    get: function () {
                        this.add.targetGroup = this.stageLayer;
                        return this.add;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(Game.prototype, "addToWorld", {
                    get: function () {
                        this.add.targetGroup = this.world;
                        return this.add;
                    },
                    enumerable: true,
                    configurable: true
                });
                return Game;
            }(Phaser.Game));
            exports_9("Game", Game);
            GameObjectFactory = (function (_super) {
                __extends(GameObjectFactory, _super);
                function GameObjectFactory() {
                    _super.apply(this, arguments);
                    this._targetGroup = null;
                    this._defaultLayer = this.world;
                }
                GameObjectFactory.prototype.existing = function (object) {
                    var group = this.targetGroup;
                    this.targetGroup = null;
                    return group.add(object);
                };
                GameObjectFactory.prototype.image = function (x, y, key, frame, group) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new Phaser.Image(this.game, x, y, key, frame));
                };
                GameObjectFactory.prototype.sprite = function (x, y, key, frame, group) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.create(x, y, key, frame);
                };
                GameObjectFactory.prototype.creature = function (x, y, key, mesh, group) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    var obj = new Phaser['Creature'](this.game, x, y, key, mesh);
                    group.add(obj);
                    return obj;
                };
                GameObjectFactory.prototype.group = function (parent, name, addToStage, enableBody, physicsBodyType) {
                    if (name === void 0) { name = 'group'; }
                    if (addToStage === void 0) { addToStage = false; }
                    if (enableBody === void 0) { enableBody = false; }
                    if (physicsBodyType === void 0) { physicsBodyType = 0; }
                    if (parent === undefined && addToStage !== true) {
                        parent = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return new Phaser.Group(this.game, parent, name, addToStage, enableBody, physicsBodyType);
                };
                GameObjectFactory.prototype.physicsGroup = function (physicsBodyType, parent, name, addToStage) {
                    if (physicsBodyType === void 0) { physicsBodyType = 0; }
                    if (name === void 0) { name = 'group'; }
                    if (addToStage === void 0) { addToStage = false; }
                    if (parent === undefined) {
                        parent = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return new Phaser.Group(this.game, parent, name, addToStage, true, physicsBodyType);
                };
                GameObjectFactory.prototype.spriteBatch = function (parent, name, addToStage) {
                    if (name === void 0) { name = "spriteBatch"; }
                    if (addToStage === void 0) { addToStage = false; }
                    if (parent === undefined) {
                        parent = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return new Phaser.SpriteBatch(this.game, parent, name, addToStage);
                };
                GameObjectFactory.prototype.tileSprite = function (x, y, width, height, key, frame, group) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (width === void 0) { width = 0; }
                    if (height === void 0) { height = 0; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new Phaser.TileSprite(this.game, x, y, width, height, key, frame));
                };
                GameObjectFactory.prototype.rope = function (x, y, key, frame, points, group) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new Phaser.Rope(this.game, x, y, key, frame, points));
                };
                GameObjectFactory.prototype.text = function (x, y, text, style, group) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (text === void 0) { text = ''; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new Phaser.Text(this.game, x, y, text, style));
                };
                GameObjectFactory.prototype.button = function (x, y, key, callback, callbackContext, overFrame, outFrame, downFrame, upFrame, group) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new Phaser.Button(this.game, x, y, key, callback, callbackContext, overFrame, outFrame, downFrame, upFrame));
                };
                GameObjectFactory.prototype.graphics = function (x, y, group) {
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (group === undefined) {
                        group = this.world;
                    }
                    return group.add(new Phaser.Graphics(this.game, x, y));
                };
                GameObjectFactory.prototype.bitmapText = function (x, y, font, text, size, group) {
                    if (text === void 0) { text = ""; }
                    if (size === void 0) { size = 32; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new Phaser.BitmapText(this.game, x, y, font, text, size));
                };
                GameObjectFactory.prototype.dSprite = function (x, y, key, frame, name, components, group) {
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new display_2.Sprite(x, y, key, frame, name, components));
                };
                GameObjectFactory.prototype.dGroup = function (x, y, name, addToStage, components, enableBody, physicsBodyType, group) {
                    if (group === undefined && addToStage !== true) {
                        group = this.targetGroup;
                        this.targetGroup = null;
                        return group.add(new display_2.Group(x, y, name, addToStage, components, enableBody, physicsBodyType));
                    }
                    return new display_2.Group(x, y, name, addToStage, components, enableBody, physicsBodyType);
                };
                GameObjectFactory.prototype.dText = function (x, y, text, fontName, fontSize, fontColor, fontAlign, wordWrap, width, lineSpacing, settings, group) {
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new display_2.Text(x, y, text, fontName, fontSize, fontColor, fontAlign, wordWrap, width, lineSpacing, settings));
                };
                GameObjectFactory.prototype.spine = function (assetName, x, y, width, height, skin, anim, hOffset, vOffset, group) {
                    if (assetName === void 0) { assetName = ''; }
                    if (x === void 0) { x = 0; }
                    if (y === void 0) { y = 0; }
                    if (width === void 0) { width = 0; }
                    if (height === void 0) { height = 0; }
                    if (skin === void 0) { skin = 'default'; }
                    if (anim === void 0) { anim = ''; }
                    if (hOffset === void 0) { hOffset = 0; }
                    if (vOffset === void 0) { vOffset = 0; }
                    if (group === undefined) {
                        group = this.targetGroup;
                    }
                    this.targetGroup = null;
                    return group.add(new display_2.Spine(assetName, x, y, width, height, skin, anim, hOffset, vOffset));
                };
                GameObjectFactory.prototype.setDefaultLayer = function (value) {
                    console.log("CAUTION: Changing the default layer will change the target group for .add");
                    this._defaultLayer = value;
                };
                Object.defineProperty(GameObjectFactory.prototype, "defaultLayer", {
                    get: function () {
                        return this._defaultLayer;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(GameObjectFactory.prototype, "targetGroup", {
                    get: function () {
                        return this._targetGroup || this._defaultLayer;
                    },
                    set: function (value) {
                        this._targetGroup = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                return GameObjectFactory;
            }(Phaser.GameObjectFactory));
            exports_9("GameObjectFactory", GameObjectFactory);
            SequenceManager = (function () {
                function SequenceManager() {
                    this._defaultInterval = 20;
                    this.game = application_4.Application.getInstance().game;
                }
                SequenceManager.prototype._executeMethod = function (sequence, context, callback, callbackContext) {
                    var func = sequence.shift();
                    if (typeof func !== 'undefined' && typeof context !== 'undefined' && context) {
                        func.call(context);
                    }
                    if (sequence.length === 0 && callback && callbackContext) {
                        callback.call(callbackContext);
                    }
                };
                SequenceManager.prototype.run = function (sequence, context, interval, completeCallback, completeCallbackContext) {
                    if (typeof context === 'undefined') {
                        throw new Error('context must be provided for the sequence methods');
                    }
                    if (typeof interval === 'undefined') {
                        interval = this._defaultInterval;
                    }
                    if (sequence.length === 0 && typeof completeCallback !== 'undefined' && typeof completeCallbackContext !== 'undefined') {
                        completeCallback.call(completeCallbackContext);
                        return;
                    }
                    if (interval === 0) {
                        while (sequence.length > 0)
                            this._executeMethod(sequence, context, typeof completeCallback === 'undefined' ? null : completeCallback, typeof completeCallbackContext === 'undefined' ? null : completeCallbackContext);
                        return;
                    }
                    this.game.time.events.repeat(interval, sequence.length, this._executeMethod, this, sequence, context, typeof completeCallback === 'undefined' ? null : completeCallback, typeof completeCallbackContext === 'undefined' ? null : completeCallbackContext);
                };
                return SequenceManager;
            }());
            exports_9("SequenceManager", SequenceManager);
            State = (function (_super) {
                __extends(State, _super);
                function State() {
                    _super.call(this);
                    this._audio = [];
                    this._mediator = null;
                }
                State.prototype.init = function () {
                };
                State.prototype.preload = function () {
                    if (this.preloadID)
                        this.game.asset.loadAssets(this.preloadID);
                };
                State.prototype.create = function () {
                    if (!this.game.asset.allSoundsDecoded()) {
                        this.game.asset.onLoadCompleteAndAudioDecoded.addOnce(this.create, this);
                        return;
                    }
                    this.buildInterface();
                    this.afterBuildInterface();
                    this.startBuild();
                };
                State.prototype.shutdown = function (removeMediator, removeAudio) {
                    if (removeMediator === void 0) { removeMediator = true; }
                    if (removeAudio === void 0) { removeAudio = true; }
                    if (removeMediator) {
                        this.removeMediator();
                    }
                    if (removeAudio) {
                        this.removeAudio();
                    }
                    _super.prototype.shutdown.call(this);
                };
                State.prototype.listBuildSequence = function () {
                    return [];
                };
                State.prototype.buildInterface = function () { };
                State.prototype.afterBuildInterface = function () { };
                State.prototype.startBuild = function () {
                    this.game.sequence.run(this.listBuildSequence(), this, this.buildInterval, this.preAfterBuild, this);
                };
                State.prototype.preAfterBuild = function () {
                    if (typeof this.game.transition === 'undefined' || !this.game.transition.canTransitionOut()) {
                        this.afterBuild();
                    }
                    else {
                        if (this.game.transition.canTransitionOut()) {
                            this.game.transition.onTransitionOutComplete.addOnce(this.afterBuild, this);
                            this.game.transition.transitionOut();
                        }
                    }
                };
                State.prototype.afterBuild = function () { };
                State.prototype.addAudio = function (track) {
                    if (!this._audio) {
                        this._audio = [];
                    }
                    this._audio.push(track);
                    return track;
                };
                State.prototype.removeAudio = function () {
                    var sound;
                    if (!this._audio) {
                        return;
                    }
                    while (this._audio.length > 0) {
                        sound = this._audio.pop();
                        if (typeof sound !== 'undefined' && sound != null && typeof sound.stop !== 'undefined') {
                            if (typeof sound.onStop !== 'undefined') {
                                sound.onStop.removeAll();
                            }
                            sound.stop();
                        }
                    }
                };
                State.prototype.removeMediator = function () {
                    if (!this._mediator)
                        return;
                    this._mediator.destroy();
                    this._mediator = null;
                };
                Object.defineProperty(State.prototype, "preloadID", {
                    get: function () {
                        return null;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(State.prototype, "buildInterval", {
                    get: function () {
                        return 10;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(State.prototype, "add", {
                    get: function () {
                        return this.game.addToGame;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(State.prototype, "app", {
                    get: function () {
                        return application_4.Application.getInstance();
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(State.prototype, "game", {
                    get: function () {
                        return this.app.game;
                    },
                    enumerable: true,
                    configurable: true
                });
                return State;
            }(Phaser.State));
            exports_9("State", State);
            StorageManager = (function () {
                function StorageManager() {
                    this.game = application_4.Application.getInstance().game;
                    this._init();
                }
                StorageManager.prototype._init = function () {
                    this._localStorageAvailable = this._getIsLocalStorageAvailable();
                    console.log('local storage available', this._localStorageAvailable);
                };
                StorageManager.prototype._getIsLocalStorageAvailable = function () {
                    try {
                        return 'localStorage' in window && window['localStorage'] !== null;
                    }
                    catch (e) {
                        return false;
                    }
                };
                StorageManager.prototype._getString = function (data) {
                    if (typeof data === 'string') {
                        return data;
                    }
                    var jsonData;
                    try {
                        jsonData = JSON.stringify(data);
                    }
                    catch (e) {
                        console.log('Could not convert' + data + ' to json');
                        return null;
                    }
                    return jsonData;
                };
                StorageManager.prototype.getFromLocalStorage = function (key, isJSON) {
                    if (isJSON === void 0) { isJSON = true; }
                    var data = localStorage.getItem(key);
                    if (typeof data === 'undefined') {
                        console.log('no data saved with the key', key);
                        return null;
                    }
                    if (isJSON !== false) {
                        data = JSON.parse(data);
                    }
                    return data;
                };
                StorageManager.prototype.saveToLocalStorage = function (key, value) {
                    if (!this._localStorageAvailable) {
                        console.log('no local storage');
                        return false;
                    }
                    try {
                        localStorage.setItem(key, this._getString(value));
                    }
                    catch (e) {
                        console.log('your data could not be saved');
                    }
                };
                StorageManager.prototype.clearFromLocalStorage = function (key) {
                    if (!this._localStorageAvailable) {
                        console.log('no local storage');
                        return false;
                    }
                    try {
                        localStorage.removeItem(key);
                    }
                    catch (e) { }
                };
                return StorageManager;
            }());
            exports_9("StorageManager", StorageManager);
            TransitionManager = (function () {
                function TransitionManager() {
                    this.onTransitionOutComplete = new Phaser.Signal();
                    this.onTransitionInComplete = new Phaser.Signal();
                    this._transition = null;
                    this._transitions = {};
                    this._exceptions = {};
                    this._fromState = null;
                    this._toState = null;
                    this.game = application_4.Application.getInstance().game;
                }
                TransitionManager.prototype._add = function (id, outHandler, preloadHandler, inHandler) {
                    this._transitions[id] = {
                        outHandler: outHandler,
                        preloadHandler: preloadHandler,
                        inHandler: inHandler
                    };
                };
                TransitionManager.prototype._getTransition = function (inState, outState) {
                    var transition = this._transitions[inState + '/' + outState];
                    if (typeof transition === 'undefined')
                        transition = this._transitions['all'];
                    return typeof transition === 'undefined' ? null : transition;
                };
                TransitionManager.prototype._transitionInComplete = function () {
                    this._transition = this._getTransition(this._fromState, this._toState);
                    if (!this._transition)
                        return false;
                    if (typeof this._transition.preloadHandler.loadStart === 'function')
                        this.game.asset.onLoadStart.addOnce(this._transition.preloadHandler.loadStart, this._transition.preloadHandler);
                    if (typeof this._transition.preloadHandler.loadProgress === 'function') {
                        this.game.asset.onFileComplete.add(this._transition.preloadHandler.loadProgress, this._transition.preloadHandler);
                    }
                    this.game.asset.onLoadCompleteAndAudioDecoded.addOnce(this._preloadComplete, this);
                    this.onTransitionInComplete.dispatch();
                    this.game.changeState(this._toState);
                };
                TransitionManager.prototype._transitionOutComplete = function () {
                    this._transition = null;
                    this.onTransitionOutComplete.dispatch();
                };
                TransitionManager.prototype._preloadComplete = function () {
                    this._transition = this._getTransition(this._fromState, this._toState);
                    if (!this._transition)
                        return false;
                    this.game.asset.onFileComplete.remove(this._transition.preloadHandler.loadProgress, this._transition.preloadHandler);
                    if (typeof this._transition.preloadHandler.loadComplete === 'function')
                        this._transition.preloadHandler.loadComplete();
                };
                TransitionManager.prototype._clearTransition = function () {
                    this._transition.outHandler.transitionInComplete.remove(this._transitionOutComplete, this);
                    this._transition.inHandler.transitionOutComplete.remove(this._transitionInComplete, this);
                    this.game.asset.onLoadCompleteAndAudioDecoded.remove(this._preloadComplete, this);
                    this.game.asset.onLoadStart.remove(this._transition.preloadHandler.loadStart, this._transition.preloadHandler);
                    this.game.asset.onFileComplete.remove(this._transition.preloadHandler.loadProgress, this._transition.preloadHandler);
                    this._transition = null;
                };
                TransitionManager.prototype.add = function (fromState, toState, outHandler, preloadHandler, inHandler) {
                    var args;
                    if (arguments.length < 5) {
                        if (fromState === 'all') {
                            args = [].slice.call(arguments, 1);
                            if (arguments.length === 2)
                                return this._add('all', args[0], args[0], args[0]);
                            else
                                return this._add('all', args[0], args[1], args[2]);
                        }
                        else {
                            args = [].slice.call(arguments, 2);
                            return this._add(fromState + '/' + toState, args[0], args[0], args[0]);
                        }
                    }
                    return this._add(fromState + '/' + toState, outHandler, preloadHandler, inHandler);
                };
                TransitionManager.prototype.addAll = function (handler) {
                    return this._add('all', handler, handler, handler);
                };
                TransitionManager.prototype.addException = function (state) {
                    this._exceptions[state] = true;
                };
                TransitionManager.prototype.remove = function (fromState, toState) {
                    if (arguments.length === 1) {
                        this._transitions[fromState] = null;
                        delete this._transitions[fromState];
                    }
                    else {
                        this._transitions[fromState + '/' + toState] = null;
                        delete this._transitions[fromState + '/' + toState];
                    }
                };
                TransitionManager.prototype.to = function (state) {
                    if (this._transition)
                        this._clearTransition();
                    if (this._exceptions[state])
                        return;
                    this._fromState = this.game.state.current;
                    this._toState = state;
                    this._transition = this._getTransition(this._fromState, this._toState);
                    if (!this._transition) {
                        console.log('no transition found for:', this.game.state.current + ' to ' + state);
                        this.game.changeState(this._toState);
                    }
                    this.transitionIn();
                };
                TransitionManager.prototype.transitionIn = function () {
                    if (!this._transition)
                        return;
                    if (typeof this._transition.outHandler.transitionIn === 'function') {
                        this._transition.outHandler.transitionInComplete.addOnce(this._transitionInComplete, this);
                        this._transition.outHandler.transitionIn();
                    }
                };
                TransitionManager.prototype.canTransitionOut = function () {
                    return !this._exceptions[this.game.state.current] && this._transition && this._transition.inHandler && typeof this._transition.inHandler.transitionOut === 'function';
                };
                TransitionManager.prototype.transitionOut = function () {
                    this._transition.inHandler.transitionOutComplete.addOnce(this._transitionOutComplete, this);
                    this._transition.inHandler.transitionOut();
                };
                return TransitionManager;
            }());
            exports_9("TransitionManager", TransitionManager);
        }
    }
});
System.register("dijon/application", ["dijon/core", "dijon/mvc"], function(exports_10, context_10) {
    "use strict";
    var __moduleName = context_10 && context_10.id;
    var core_1, mvc_1;
    var Application;
    return {
        setters:[
            function (core_1_1) {
                core_1 = core_1_1;
            },
            function (mvc_1_1) {
                mvc_1 = mvc_1_1;
            }],
        execute: function() {
            Application = (function () {
                function Application() {
                    var _this = this;
                    this._mediator = null;
                    this._models = {};
                    this._mediators = {};
                    this._observerMap = {};
                    if (Application.instance)
                        throw Error(Application.SINGLETON_MSG);
                    Application.instance = this;
                    window.addEventListener("hashchange", function () {
                        Application._getHashQuery();
                        _this.windowHashChange();
                    }, false);
                    this.createGame();
                    this.startGame();
                }
                Application.prototype.windowHashChange = function () {
                };
                Application.prototype.createGame = function () {
                    this.game = new core_1.Game({
                        width: 800,
                        height: 600,
                        parent: 'game-container',
                        renderer: Phaser.AUTO,
                        transparent: false
                    });
                };
                Application.prototype.startGame = function () {
                };
                Application.prototype.addPlugins = function () {
                    this.game.addPlugins();
                };
                Application.prototype.registerModel = function (model) {
                    if (this._models[model.name]) {
                        throw (new Error('Application:: a model with the name "' + model.name + '" already exists.'));
                    }
                    this._models[model.name] = model;
                    model.onRegister();
                    return model;
                };
                Application.prototype.retrieveModel = function (modelName) {
                    return this._models[modelName] || null;
                };
                Application.prototype.removeModel = function (modelToRemove) {
                    var name = modelToRemove.name;
                    var model = this._models[name];
                    if (!model)
                        return;
                    model.onRemoved();
                    delete this._models[name];
                };
                Application.prototype.registerMediator = function (mediator) {
                    if (this._mediators[mediator.name]) {
                        throw (new Error('Application:: a mediator with the name "' + mediator.name + '" already exists.'));
                    }
                    this._mediators[mediator.name] = mediator;
                    this.registerObserver(mediator);
                    mediator.onRegister();
                };
                Application.prototype.retrieveMediator = function (mediatorName) {
                    return this._mediators[mediatorName] || null;
                };
                Application.prototype.removeMediator = function (mediatorToRemove) {
                    var _this = this;
                    var name = mediatorToRemove.name;
                    var mediator = this._mediators[name];
                    if (!mediator)
                        return;
                    mediator.listNotificationInterests().forEach(function (interest) {
                        _this.removeObserver(interest, mediator);
                    });
                    mediator.onRemoved();
                    delete this._mediators[name];
                };
                Application.prototype.registerObserver = function (observer) {
                    var _this = this;
                    observer.listNotificationInterests().forEach(function (notificationName) {
                        if (_this._observerMap[notificationName] === undefined) {
                            _this._observerMap[notificationName] = [];
                        }
                        _this._observerMap[notificationName].push(observer);
                    });
                };
                Application.prototype.removeObserver = function (notificationName, observerToRemove) {
                    var observers = null, observer = null, i = 0;
                    observers = this._observerMap[notificationName];
                    i = observers.length;
                    while (i--) {
                        observer = observers[i];
                        if (observer === observerToRemove) {
                            observers.splice(i, 1);
                            break;
                        }
                    }
                    if (observers.length == 0) {
                        delete this._observerMap[notificationName];
                    }
                };
                Application.prototype.sendNotification = function (notificationName, notficationBody) {
                    var notification = new mvc_1.Notification(notificationName, notficationBody);
                    this._notifyObservers(notification);
                    notification.destroy();
                    notification = null;
                };
                Application.prototype._notifyObservers = function (notification) {
                    var observer = null, observers = null;
                    var notificationName = notification.getName();
                    var observersRef = this._observerMap[notificationName];
                    if (observersRef) {
                        observers = observersRef.slice(0);
                        observers.forEach(function (observer) {
                            observer.handleNotification(notification);
                        });
                    }
                };
                Application._getHashQuery = function () {
                    Application._hashQuery = {};
                    if (!window.location.hash || window.location.hash === undefined) {
                        window.location.hash = '';
                    }
                    var hash = window.location.hash.substr(1, window.location.hash.length);
                    var aHash = hash.split('&');
                    aHash.forEach(function (hashPair) {
                        var aHash = hashPair.split('=');
                        Application._hashQuery[aHash[0]] = /^\d+$/.test(aHash[1]) ? parseInt(aHash[1]) : aHash[1];
                    });
                };
                Application.getInstance = function () {
                    if (!Application.instance)
                        Application.instance = new Application();
                    return Application.instance;
                };
                Application.queryVar = function (variableId) {
                    if (Application._hashQuery === undefined) {
                        Application._getHashQuery();
                    }
                    return Application._hashQuery[variableId] || null;
                };
                Application.instance = null;
                Application.SINGLETON_MSG = 'Application singleton already constructed!';
                return Application;
            }());
            exports_10("Application", Application);
        }
    }
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpam9uL212Yy50cyIsImRpam9uL3NwaW5lL3NwaW5lLnRzIiwiZGlqb24vc3BpbmUvYXRsYXMudHMiLCJkaWpvbi9zcGluZS9yZW5kZXItd2ViZ2wudHMiLCJkaWpvbi9zcGluZS9yZW5kZXItY3R4MmQudHMiLCJkaWpvbi9kaXNwbGF5LnRzIiwiZGlqb24vdXRpbHMudHMiLCJkaWpvbi9jb3JlLnRzIiwiZGlqb24vYXBwbGljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU9BO2dCQU9JLGVBQVksT0FBc0IsRUFBVSxTQUF3QjtvQkFBeEQsdUJBQXNCLEdBQXRCLGNBQXNCO29CQUFFLHlCQUFnQyxHQUFoQyxnQkFBZ0M7b0JBQXhCLGNBQVMsR0FBVCxTQUFTLENBQWU7b0JBQ2hFLElBQUksQ0FBQyxHQUFHLEdBQUcseUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDckMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztvQkFFMUIsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQzt3QkFDVixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUMxQixDQUFDO29CQUVELElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNqQyxDQUFDO2dCQUVNLDBCQUFVLEdBQWpCO2dCQUVBLENBQUM7Z0JBRU0seUJBQVMsR0FBaEI7Z0JBRUEsQ0FBQztnQkFFUyw0QkFBWSxHQUF0QixVQUF1QixHQUFXO29CQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQztnQkFDakQsQ0FBQztnQkFFTSx1QkFBTyxHQUFkLFVBQWUsT0FBZTtvQkFDMUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxD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QyxHQUFHLFdBQVcsQ0FBQztRQUNyQyxJQUFNLElBQUksR0FBVyxDQUFDLEdBQUcsWUFBWSxDQUFDO1FBQ3RDLElBQU0sSUFBSSxHQUFXLENBQUMsR0FBRyxZQUFZLENBQUM7UUFDdEMsSUFBTSxJQUFJLEdBQVcsQ0FBQyxHQUFHLFlBQVksQ0FBQztRQUN0QyxJQUFNLEtBQUssR0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQ3JDLElBQU0sS0FBSyxHQUFXLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDckMsSUFBTSxLQUFLLEdBQVcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQyxJQUFNLEtBQUssR0FBVyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLElBQU0sUUFBUSxHQUFXLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxZQUFZLENBQUMsQ0FBQztRQUM1RSxJQUFNLFFBQVEsR0FBVyxDQUFDLEdBQUcsR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxLQUFLLEdBQUcsWUFBWSxDQUFDLENBQUM7UUFDNUUsSUFBTSxRQUFRLEdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQztRQUN2RCxJQUFNLFFBQVEsR0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ3ZELElBQU0sUUFBUSxHQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ3hDLElBQU0sUUFBUSxHQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBRXhDLE1BQU0sQ0FBQyxVQUFVLE9BQWU7WUFDOUIsSUFBSSxHQUFHLEdBQVcsUUFBUSxDQUFDO1lBQzNCLElBQUksR0FBRyxHQUFXLFFB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USxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQzs0QkFDbEMsQ0FBQzs0QkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dDQUMxRCxJQUFJLENBQUMsVUFBVSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0NBQ3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQzs0QkFDM0MsQ0FBQzs0QkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dDQUM1RCxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0NBQ3ZDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQzs0QkFDekMsQ0FBQzs0QkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dDQUNyRCxJQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7NEJBQ3RDLENBQUM7NEJBQUMsSUFBSSxDQUFDLENBQUM7Z0NBQ04sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztvQ0FDVCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLENBQUMsQ0FB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YUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFFbFEsSUFBSSxDQUFDLENBQUMsR0FBc0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFFak0sSUFBSSxDQUFDLEVBQUUsR0FBaUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUUxSCxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxDQUFDO29CQUV4RixJQUFJLENBQUMsQ0FBQyxHQUFzQixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFFaE4sSUFBSSxDQUFDLEVBQUUsR0FBaUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFFckksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssQ0FBQztvQkFDcEYsSUFBSSxDQUFDLENBQUMsR0FBc0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUVqUixJQUFJLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdkIsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBRXRCLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUN2QixJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBRXZCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO3dCQUNsQixJQUFJLENBQUMsSUFBSSxHQUFzQixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQzt3QkFDNVUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQy9CLENBQUM7Z0JBQ0wsQ0FBQztnQkFFTywrQ0FBc0IsR0FBOUI7b0JBQ0ksSUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7b0JBQ3JDLEdBQUcsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUMzQixHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDMUQsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO29CQUVkLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUVsRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztvQkFFN0MsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNoQyxDQUFDO2dCQUVPLGlDQUFRLEdBQWhCO29CQUNJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztvQkFFbEIsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssQ0FBQztvQkFDbkcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztvQkFDaEQsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQztvQkFDeEcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztvQkFFakQsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7d0JBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFBO3dCQUMxRixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztvQkFDbkcsQ0FBQztvQkFFRCxJQUFJLENBQUMsbUJB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QkFDbEIsSUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDbEMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzlGLENBQUMsQ0FBQyxDQUFDO2dCQUNQLENBQUM7Z0JBUWEsdUJBQVcsR0FBekI7b0JBQ0ksRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDO3dCQUN0QixXQUFXLENBQUMsUUFBUSxHQUFHLElBQUksV0FBVyxFQUFFLENBQUM7b0JBRTdDLE1BQU0sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDO2dCQUNoQyxDQUFDO2dCQVFhLG9CQUFRLEdBQXRCLFVBQXVCLFVBQWtCO29CQUNyQyxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsVUFBVSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7d0JBQ3ZDLFdBQVcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztvQkFDaEMsQ0FBQztvQkFDRCxNQUFNLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxJQUFJLENBQUM7Z0JBQ3RELENBQUM7Z0JBck5nQixvQkFBUSxHQUFHLElBQUksQ0FBQztnQkFDaEIseUJBQWEsR0FBRyw0Q0FBNEMsQ0FBQztnQkFzTmxGLGtCQUFDO1lBQUQsQ0F6TkEsQUF5TkMsSUFBQTtZQXpORCxzQ0F5TkMsQ0FBQSIsImZpbGUiOiJkaWpvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SU5vdGlmaWNhdGlvbixJT2JzZXJ2ZXJ9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICcuL2FwcGxpY2F0aW9uJztcbmltcG9ydCB7R2FtZX0gZnJvbSAnLi9jb3JlJztcbi8qKlxuICogTW9kZWxcbiAqL1xuXG5leHBvcnQgY2xhc3MgTW9kZWwge1xuICAgIHB1YmxpYyBhcHA6IEFwcGxpY2F0aW9uO1xuICAgIHB1YmxpYyBnYW1lOiBHYW1lO1xuICAgIHByb3RlY3RlZCBfZGF0YTogYW55O1xuXG4gICAgcHVibGljIHN0YXRpYyBNT0RFTF9OQU1FOiBzdHJpbmcgPSAnTW9kZWwnO1xuXG4gICAgY29uc3RydWN0b3IoZGF0YUtleTogc3RyaW5nID0gbnVsbCwgcHJpdmF0ZSBtb2RlbE5hbWU6IHN0cmluZyA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5hcHAgPSBBcHBsaWNhdGlvbi5nZXRJbnN0YW5jZSgpO1xuICAgICAgICB0aGlzLmdhbWUgPSB0aGlzLmFwcC5nYW1lO1xuXG4gICAgICAgIGlmIChkYXRhS2V5KSB7XG4gICAgICAgICAgICB0aGlzLnNldERhdGEoZGF0YUtleSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcC5yZWdpc3Rlck1vZGVsKHRoaXMpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgb25SZWdpc3RlcigpOnZvaWR7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgb25SZW1vdmVkKCk6dm9pZHtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEtleUV4aXN0cyhrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lLmNhY2hlLmdldEpTT04oa2V5KSAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0RGF0YShkYXRhS2V5OiBzdHJpbmcpOiBhbnkge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0S2V5RXhpc3RzKGRhdGFLZXkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTW9kZWw6OiBjYW5ub3Qgc2V0IGRhdGEgZnJvbSBrZXkgJyArIGRhdGFLZXkgKyAnLiBJcyBpdCBpbiB0aGUgUGhhc2VyIGNhY2hlPycpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuZ2FtZS5jYWNoZS5nZXRKU09OKGRhdGFLZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGF0YSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hcHAucmVtb3ZlTW9kZWwodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsTmFtZSB8fCBNb2RlbC5NT0RFTF9OQU1FO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvcHlNb2RlbCBleHRlbmRzIE1vZGVsIHtcbiAgICBwdWJsaWMgc3RhdGljIE1PREVMX05BTUU6IHN0cmluZyA9ICdjb3B5TW9kZWwnO1xuXG4gICAgcHJpdmF0ZSBfbGFuZ3VhZ2VzOiB7IFtsYW5ndWFnZU5hbWU6IHN0cmluZ106IGFueSB9ID0ge307XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhS2V5OiBzdHJpbmcgPSBudWxsKSB7XG4gICAgICAgIHN1cGVyKGRhdGFLZXkpO1xuXG4gICAgICAgIHRoaXMuX2xhbmd1YWdlc1snZW4nXSA9IHRoaXMuX2RhdGE7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvcHkoZ3JvdXBJZDogc3RyaW5nLCBpdGVtSWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvcHlHcm91cChncm91cElkKVtpdGVtSWRdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDb3B5R3JvdXAoZ3JvdXBJZDogc3RyaW5nKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbZ3JvdXBJZF07XG4gICAgfVxuXG4gICAgcHVibGljIGFkZExhbmd1YWdlKGxhbmd1YWdlSWQ6IHN0cmluZywgZGF0YUtleTogc3RyaW5nKTogYW55IHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEtleUV4aXN0cyhkYXRhS2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3QgYWRkIGFuIGFsdGVybmF0ZSBsYW5ndWFnZSBmcm9tIGtleSAnICsgZGF0YUtleSArICcuIElzIGl0IGluIHRoZSBQaGFzZXIgY2FjaGU/Jyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYW5ndWFnZXNbbGFuZ3VhZ2VJZF0gPSB0aGlzLmdhbWUuY2FjaGUuZ2V0SlNPTihkYXRhS2V5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hhbmdlTGFuZ3VhZ2UobGFuZ3VhZ2VJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fbGFuZ3VhZ2VzW2xhbmd1YWdlSWRdID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGhlcmUgaXMgbm8gbGFuZ3VhZ2UgJyArIGxhbmd1YWdlSWQpO1xuXG4gICAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9sYW5ndWFnZXNbbGFuZ3VhZ2VJZF07XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBDb3B5TW9kZWwuTU9ERUxfTkFNRTtcbiAgICB9XG59XG5cbi8qKlxuICogTWVkaWF0b3JcbiAqL1xuXG5leHBvcnQgY2xhc3MgTWVkaWF0b3IgaW1wbGVtZW50cyBJT2JzZXJ2ZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgTUVESUFUT1JfTkFNRTogc3RyaW5nID0gJ01lZGlhdG9yJztcblxuICAgIHByb3RlY3RlZCBtZWRpYXRvck5hbWU6IHN0cmluZyA9IG51bGw7XG4gICAgcHJvdGVjdGVkIGFwcDogQXBwbGljYXRpb247XG4gICAgcHJvdGVjdGVkIGdhbWU6IEdhbWU7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgX3ZpZXdDb21wb25lbnQ6IGFueSA9IG51bGwsIGF1dG9SZWc6IGJvb2xlYW4gPSB0cnVlLCBtZWRpYXRvck5hbWU6IHN0cmluZyA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5hcHAgPSBBcHBsaWNhdGlvbi5nZXRJbnN0YW5jZSgpO1xuICAgICAgICB0aGlzLmdhbWUgPSB0aGlzLmFwcC5nYW1lO1xuICAgICAgICB0aGlzLm1lZGlhdG9yTmFtZSA9IG1lZGlhdG9yTmFtZTtcblxuICAgICAgICBpZiAoYXV0b1JlZykge1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcHJpdmF0ZSBtZXRob2RzXG4gICAgcHJvdGVjdGVkIHJlZ2lzdGVyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmFwcC5yZWdpc3Rlck1lZGlhdG9yKHRoaXMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCByZW1vdmUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYXBwLnJlbW92ZU1lZGlhdG9yKHRoaXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblJlZ2lzdGVyKCk6IHZvaWQge1xuICAgICAgICAvLyBvdmVycmlkZSBtZSBmcmVlbHlcbiAgICB9XG5cbiAgICBwdWJsaWMgb25SZW1vdmVkKCk6IHZvaWQge1xuXG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGxpc3ROb3RpZmljYXRpb25JbnRlcmVzdHMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb246IElOb3RpZmljYXRpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRlZmF1bHQgaW1tcGxlbWVudGF0aW9uIHdvdWxkIGxvb2sgc29tZXRoaW5nIGxpa2U6XG4gICAgICAgICAqIHN3aXRjaCggbm90aWZpY2F0aW9uOiBkaWpvbi5JTm90aWZpY2F0aW9uICl7XG4gICAgICAgICAqIFx0XHRjYXNlIE5vdGlmaWNhdGlvbnMuU09NRVRISU5HOlxuICAgICAgICAgKiBcdFx0XHQvLyBkbyBzb21ldGhpbmdcbiAgICAgICAgICogXHRcdFx0YnJlYWs7XG4gICAgICAgICAqIFx0XHRjYXNlIE5vdGlmaWNhdGlvbnMuU09NRVRISU5HX0VMU0U6XG4gICAgICAgICAqIFx0XHRcdC8vIGRvIHNvbWV0aGluZyBlbHNlXG4gICAgICAgICAqIFx0XHRcdGJyZWFrO1xuICAgICAgICAgKiB9XG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIHB1YmxpYyBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWU6IHN0cmluZywgbm90aWZpY2F0aW9uQm9keT86IGFueSkge1xuICAgICAgICB0aGlzLmFwcC5zZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIG5vdGlmaWNhdGlvbkJvZHkpO1xuICAgIH1cblxuICAgIC8vIGdldHRlciAvIHNldHRlclxuICAgIHB1YmxpYyBzZXQgdmlld0NvbXBvbmVudCh2aWV3Q29tcG9uZW50OiBhbnkpIHtcbiAgICAgICAgdGhpcy5fdmlld0NvbXBvbmVudCA9IHZpZXdDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCB2aWV3Q29tcG9uZW50KCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3Q29tcG9uZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5tZWRpYXRvck5hbWUgfHwgTWVkaWF0b3IuTUVESUFUT1JfTkFNRTtcbiAgICB9XG59XG5cbi8qKlxuICogTm90aWZpY2F0aW9uXG4gKi9cblxuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbiBpbXBsZW1lbnRzIElOb3RpZmljYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX25hbWU6IHN0cmluZywgcHJpdmF0ZSBfYm9keTogYW55ID0gbnVsbCkgeyB9XG5cbiAgICBwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Qm9keShib2R5OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fYm9keSA9IGJvZHk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEJvZHkoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2JvZHkgPSBudWxsO1xuICAgICAgICB0aGlzLl9uYW1lID0gbnVsbDtcbiAgICB9XG59XG5cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSBGbHlvdmVyIEdhbWVzLCBMTENcbiAqXG4gKiBJc2FhYyBCdXJucyBpc2FhY2J1cm5zQGdtYWlsLmNvbVxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWRcbiAqIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZVxuICogd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsXG4gKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG9cbiAqIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbiAqIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsXG4gKiBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZVxuICogU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTllcbiAqIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEVcbiAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVJcbiAqIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1JcbiAqIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4gKiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEVcbiAqIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG5cbi8qKlxuICogQSBUeXBlU2NyaXB0IEFQSSBmb3IgdGhlIFNwaW5lIEpTT04gYW5pbWF0aW9uIGRhdGEgZm9ybWF0LlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQm9vbChqc29uOiBhbnksIGtleTogc3RyaW5nIHwgbnVtYmVyLCBkZWY/OiBib29sZWFuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHZhbHVlOiBhbnkgPSBqc29uW2tleV07XG4gIHN3aXRjaCAodHlwZW9mICh2YWx1ZSkpIHtcbiAgICBjYXNlIFwic3RyaW5nXCI6IHJldHVybiAodmFsdWUgPT09IFwidHJ1ZVwiKSA/IHRydWUgOiBmYWxzZTtcbiAgICBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gdmFsdWU7XG4gICAgZGVmYXVsdDogcmV0dXJuIGRlZiB8fCBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUJvb2woanNvbjogYW55LCBrZXk6IHN0cmluZyB8IG51bWJlciwgdmFsdWU6IGJvb2xlYW4sIGRlZj86IGJvb2xlYW4pOiB2b2lkIHtcbiAgaWYgKCh0eXBlb2YgKGRlZikgIT09IFwiYm9vbGVhblwiKSB8fCAodmFsdWUgIT09IGRlZikpIHtcbiAgICBqc29uW2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEZsb2F0KGpzb246IGFueSwga2V5OiBzdHJpbmcgfCBudW1iZXIsIGRlZj86IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHZhbHVlOiBhbnkgPSBqc29uW2tleV07XG4gIHN3aXRjaCAodHlwZW9mICh2YWx1ZSkpIHtcbiAgICBjYXNlIFwic3RyaW5nXCI6IHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICBjYXNlIFwibnVtYmVyXCI6IHJldHVybiB2YWx1ZTtcbiAgICBkZWZhdWx0OiByZXR1cm4gZGVmIHx8IDA7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVGbG9hdChqc29uOiBhbnksIGtleTogc3RyaW5nIHwgbnVtYmVyLCB2YWx1ZTogbnVtYmVyLCBkZWY/OiBudW1iZXIpOiB2b2lkIHtcbiAgaWYgKCh0eXBlb2YgKGRlZikgIT09IFwibnVtYmVyXCIpIHx8ICh2YWx1ZSAhPT0gZGVmKSkge1xuICAgIGpzb25ba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkSW50KGpzb246IGFueSwga2V5OiBzdHJpbmcgfCBudW1iZXIsIGRlZj86IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHZhbHVlOiBhbnkgPSBqc29uW2tleV07XG4gIHN3aXRjaCAodHlwZW9mICh2YWx1ZSkpIHtcbiAgICBjYXNlIFwic3RyaW5nXCI6IHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIDAgfCB2YWx1ZTtcbiAgICBkZWZhdWx0OiByZXR1cm4gZGVmIHx8IDA7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVJbnQoanNvbjogYW55LCBrZXk6IHN0cmluZyB8IG51bWJlciwgdmFsdWU6IG51bWJlciwgZGVmPzogbnVtYmVyKTogdm9pZCB7XG4gIGlmICgodHlwZW9mIChkZWYpICE9PSBcIm51bWJlclwiKSB8fCAodmFsdWUgIT09IGRlZikpIHtcbiAgICBqc29uW2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFN0cmluZyhqc29uOiBhbnksIGtleTogc3RyaW5nIHwgbnVtYmVyLCBkZWY/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCB2YWx1ZTogYW55ID0ganNvbltrZXldO1xuICBzd2l0Y2ggKHR5cGVvZiAodmFsdWUpKSB7XG4gICAgY2FzZSBcInN0cmluZ1wiOiByZXR1cm4gdmFsdWU7XG4gICAgZGVmYXVsdDogcmV0dXJuIGRlZiB8fCBcIlwiO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlU3RyaW5nKGpzb246IGFueSwga2V5OiBzdHJpbmcgfCBudW1iZXIsIHZhbHVlOiBzdHJpbmcsIGRlZj86IHN0cmluZyk6IHZvaWQge1xuICBpZiAoKHR5cGVvZiAoZGVmKSAhPT0gXCJzdHJpbmdcIikgfHwgKHZhbHVlICE9PSBkZWYpKSB7XG4gICAganNvbltrZXldID0gdmFsdWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yIHtcbiAgcHVibGljIHI6IG51bWJlciA9IDEuMDtcbiAgcHVibGljIGc6IG51bWJlciA9IDEuMDtcbiAgcHVibGljIGI6IG51bWJlciA9IDEuMDtcbiAgcHVibGljIGE6IG51bWJlciA9IDEuMDtcbiAgcHVibGljIGNvcHkob3RoZXI6IENvbG9yKTogQ29sb3Ige1xuICAgIHRoaXMuciA9IG90aGVyLnI7XG4gICAgdGhpcy5nID0gb3RoZXIuZztcbiAgICB0aGlzLmIgPSBvdGhlci5iO1xuICAgIHRoaXMuYSA9IG90aGVyLmE7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogQ29sb3Ige1xuICAgIGNvbnN0IGNvbG9yOiBDb2xvciA9IHRoaXM7XG4gICAgbGV0IHJnYmE6IG51bWJlciA9IDB4ZmZmZmZmZmY7XG4gICAgc3dpdGNoICh0eXBlb2YgKGpzb24pKSB7XG4gICAgICBjYXNlIFwic3RyaW5nXCI6IHJnYmEgPSBwYXJzZUludChqc29uLCAxNik7IGJyZWFrO1xuICAgICAgY2FzZSBcIm51bWJlclwiOiByZ2JhID0gMCB8IGpzb247IGJyZWFrO1xuICAgICAgZGVmYXVsdDogcmdiYSA9IDB4ZmZmZmZmZmY7IGJyZWFrO1xuICAgIH1cbiAgICBjb2xvci5yID0gKChyZ2JhID4+IDI0KSAmIDB4ZmYpIC8gMjU1O1xuICAgIGNvbG9yLmcgPSAoKHJnYmEgPj4gMTYpICYgMHhmZikgLyAyNTU7XG4gICAgY29sb3IuYiA9ICgocmdiYSA+PiA4KSAmIDB4ZmYpIC8gMjU1O1xuICAgIGNvbG9yLmEgPSAocmdiYSAmIDB4ZmYpIC8gMjU1O1xuICAgIHJldHVybiBjb2xvcjtcbiAgfVxuICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBjb2xvcjogQ29sb3IgPSB0aGlzO1xuICAgIHJldHVybiBcInJnYmEoXCIgKyAoY29sb3IuciAqIDI1NSkudG9GaXhlZCgwKSArIFwiLFwiICsgKGNvbG9yLmcgKiAyNTUpLnRvRml4ZWQoMCkgKyBcIixcIiArIChjb2xvci5iICogMjU1KS50b0ZpeGVkKDApICsgXCIsXCIgKyBjb2xvci5hICsgXCIpXCI7XG4gIH1cbn1cblxuLy8gZnJvbTogaHR0cDovL2dpdGh1Yi5jb20vYXJpYW4vY3ViaWMtYmV6aWVyXG5mdW5jdGlvbiBCZXppZXJDdXJ2ZSh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyLCBlcHNpbG9uOiBudW1iZXIgPSAxZS02KTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcblxuICAvKlxuICBmdW5jdGlvbiBvcmlnX2N1cnZlWCh0KSB7XG4gICAgY29uc3QgdiA9IDEgLSB0O1xuICAgIHJldHVybiAzICogdiAqIHYgKiB0ICogeDEgKyAzICogdiAqIHQgKiB0ICogeDIgKyB0ICogdCAqIHQ7XG4gIH1cblxuICBmdW5jdGlvbiBvcmlnX2N1cnZlWSh0KSB7XG4gICAgY29uc3QgdiA9IDEgLSB0O1xuICAgIHJldHVybiAzICogdiAqIHYgKiB0ICogeTEgKyAzICogdiAqIHQgKiB0ICogeTIgKyB0ICogdCAqIHQ7XG4gIH1cblxuICBmdW5jdGlvbiBvcmlnX2Rlcml2YXRpdmVDdXJ2ZVgodCkge1xuICAgIGNvbnN0IHYgPSAxIC0gdDtcbiAgICByZXR1cm4gMyAqICgyICogKHQgLSAxKSAqIHQgKyB2ICogdikgKiB4MSArIDMgKiAoLSB0ICogdCAqIHQgKyAyICogdiAqIHQpICogeDI7XG4gIH1cbiAgKi9cblxuICAvKlxuXG4gIEIodCkgPSBQMCooMS10KV4zICsgMypQMSooMS10KV4yKnQgKyAzKlAyKigxLXQpKnReMiArIFAzKnReM1xuICBCJyh0KSA9IFAwIC0gMyooUDAgLSBQMSkqdCArIDMqKFAwIC0gMipQMSArIFAyKSp0XjIgLSAoUDAgLSAzKlAxICsgMypQMiAtIFAzKSp0XjNcblxuICBpZiBQMDooMCwwKSBhbmQgUDM6KDEsMSlcbiAgQih0KSA9IDMqUDEqKDEtdCleMip0ICsgMypQMiooMS10KSp0XjIgKyB0XjNcbiAgQicodCkgPSAzKlAxKnQgLSAzKigyKlAxIC0gUDIpKnReMiArICgzKlAxIC0gMypQMiArIDEpKnReM1xuXG4gICovXG5cbiAgZnVuY3Rpb24gY3VydmVYKHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgdDI6IG51bWJlciA9IHQgKiB0O1xuICAgIGNvbnN0IHQzOiBudW1iZXIgPSB0MiAqIHQ7XG4gICAgY29uc3QgdjogbnVtYmVyID0gMSAtIHQ7XG4gICAgY29uc3QgdjI6IG51bWJlciA9IHYgKiB2O1xuICAgIHJldHVybiAzICogeDEgKiB2MiAqIHQgKyAzICogeDIgKiB2ICogdDIgKyB0MztcbiAgfTtcblxuICBmdW5jdGlvbiBjdXJ2ZVkodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB0MjogbnVtYmVyID0gdCAqIHQ7XG4gICAgY29uc3QgdDM6IG51bWJlciA9IHQyICogdDtcbiAgICBjb25zdCB2OiBudW1iZXIgPSAxIC0gdDtcbiAgICBjb25zdCB2MjogbnVtYmVyID0gdiAqIHY7XG4gICAgcmV0dXJuIDMgKiB5MSAqIHYyICogdCArIDMgKiB5MiAqIHYgKiB0MiArIHQzO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlcml2YXRpdmVDdXJ2ZVgodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCB0MjogbnVtYmVyID0gdCAqIHQ7XG4gICAgY29uc3QgdDM6IG51bWJlciA9IHQyICogdDtcbiAgICByZXR1cm4gMyAqIHgxICogdCAtIDMgKiAoMiAqIHgxIC0geDIpICogdDIgKyAoMyAqIHgxIC0gMyAqIHgyICsgMSkgKiB0MztcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKHBlcmNlbnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgeDogbnVtYmVyID0gcGVyY2VudDsgbGV0IHQwOiBudW1iZXIsIHQxOiBudW1iZXIsIHQyOiBudW1iZXIsIHgyOiBudW1iZXIsIGQyOiBudW1iZXIsIGk6IG51bWJlcjtcblxuICAgIC8vIEZpcnN0IHRyeSBhIGZldyBpdGVyYXRpb25zIG9mIE5ld3RvblwicyBtZXRob2QgLS0gbm9ybWFsbHkgdmVyeSBmYXN0LlxuICAgIGZvciAodDIgPSB4LCBpID0gMDsgaSA8IDg7ICsraSkge1xuICAgICAgeDIgPSBjdXJ2ZVgodDIpIC0geDtcbiAgICAgIGlmIChNYXRoLmFicyh4MikgPCBlcHNpbG9uKSByZXR1cm4gY3VydmVZKHQyKTtcbiAgICAgIGQyID0gZGVyaXZhdGl2ZUN1cnZlWCh0Mik7XG4gICAgICBpZiAoTWF0aC5hYnMoZDIpIDwgZXBzaWxvbikgYnJlYWs7XG4gICAgICB0MiA9IHQyIC0gKHgyIC8gZDIpO1xuICAgIH1cblxuICAgIHQwID0gMCwgdDEgPSAxLCB0MiA9IHg7XG5cbiAgICBpZiAodDIgPCB0MCkgcmV0dXJuIGN1cnZlWSh0MCk7XG4gICAgaWYgKHQyID4gdDEpIHJldHVybiBjdXJ2ZVkodDEpO1xuXG4gICAgLy8gRmFsbGJhY2sgdG8gdGhlIGJpc2VjdGlvbiBtZXRob2QgZm9yIHJlbGlhYmlsaXR5LlxuICAgIHdoaWxlICh0MCA8IHQxKSB7XG4gICAgICB4MiA9IGN1cnZlWCh0Mik7XG4gICAgICBpZiAoTWF0aC5hYnMoeDIgLSB4KSA8IGVwc2lsb24pIHJldHVybiBjdXJ2ZVkodDIpO1xuICAgICAgaWYgKHggPiB4MikgdDAgPSB0MjtcbiAgICAgIGVsc2UgdDEgPSB0MjtcbiAgICAgIHQyID0gKHQxIC0gdDApICogMC41ICsgdDA7XG4gICAgfVxuXG4gICAgLy8gRmFpbHVyZVxuICAgIHJldHVybiBjdXJ2ZVkodDIpO1xuICB9O1xufVxuXG4vLyBmcm9tOiBzcGluZS1saWJnZHgvc3JjL2NvbS9lc290ZXJpY3NvZnR3YXJlL3NwaW5lL0FuaW1hdGlvbi5qYXZhXG5leHBvcnQgZnVuY3Rpb24gU3RlcEJlemllckN1cnZlKGN4MTogbnVtYmVyLCBjeTE6IG51bWJlciwgY3gyOiBudW1iZXIsIGN5MjogbnVtYmVyKTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgY29uc3QgYmV6aWVyU2VnbWVudHM6IG51bWJlciA9IDEwO1xuICBjb25zdCBzdWJkaXZfc3RlcDogbnVtYmVyID0gMSAvIGJlemllclNlZ21lbnRzO1xuICBjb25zdCBzdWJkaXZfc3RlcDI6IG51bWJlciA9IHN1YmRpdl9zdGVwICogc3ViZGl2X3N0ZXA7XG4gIGNvbnN0IHN1YmRpdl9zdGVwMzogbnVtYmVyID0gc3ViZGl2X3N0ZXAyICogc3ViZGl2X3N0ZXA7XG4gIGNvbnN0IHByZTE6IG51bWJlciA9IDMgKiBzdWJkaXZfc3RlcDtcbiAgY29uc3QgcHJlMjogbnVtYmVyID0gMyAqIHN1YmRpdl9zdGVwMjtcbiAgY29uc3QgcHJlNDogbnVtYmVyID0gNiAqIHN1YmRpdl9zdGVwMjtcbiAgY29uc3QgcHJlNTogbnVtYmVyID0gNiAqIHN1YmRpdl9zdGVwMztcbiAgY29uc3QgdG1wMXg6IG51bWJlciA9IC1jeDEgKiAyICsgY3gyO1xuICBjb25zdCB0bXAxeTogbnVtYmVyID0gLWN5MSAqIDIgKyBjeTI7XG4gIGNvbnN0IHRtcDJ4OiBudW1iZXIgPSAoY3gxIC0gY3gyKSAqIDMgKyAxO1xuICBjb25zdCB0bXAyeTogbnVtYmVyID0gKGN5MSAtIGN5MikgKiAzICsgMTtcbiAgY29uc3QgY3VydmVzXzA6IG51bWJlciA9IChjeDEgKiBwcmUxICsgdG1wMXggKiBwcmUyICsgdG1wMnggKiBzdWJkaXZfc3RlcDMpO1xuICBjb25zdCBjdXJ2ZXNfMTogbnVtYmVyID0gKGN5MSAqIHByZTEgKyB0bXAxeSAqIHByZTIgKyB0bXAyeSAqIHN1YmRpdl9zdGVwMyk7XG4gIGNvbnN0IGN1cnZlc18yOiBudW1iZXIgPSAodG1wMXggKiBwcmU0ICsgdG1wMnggKiBwcmU1KTtcbiAgY29uc3QgY3VydmVzXzM6IG51bWJlciA9ICh0bXAxeSAqIHByZTQgKyB0bXAyeSAqIHByZTUpO1xuICBjb25zdCBjdXJ2ZXNfNDogbnVtYmVyID0gKHRtcDJ4ICogcHJlNSk7XG4gIGNvbnN0IGN1cnZlc181OiBudW1iZXIgPSAodG1wMnkgKiBwcmU1KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKHBlcmNlbnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IGRmeDogbnVtYmVyID0gY3VydmVzXzA7XG4gICAgbGV0IGRmeTogbnVtYmVyID0gY3VydmVzXzE7XG4gICAgbGV0IGRkZng6IG51bWJlciA9IGN1cnZlc18yO1xuICAgIGxldCBkZGZ5OiBudW1iZXIgPSBjdXJ2ZXNfMztcbiAgICBjb25zdCBkZGRmeDogbnVtYmVyID0gY3VydmVzXzQ7XG4gICAgY29uc3QgZGRkZnk6IG51bWJlciA9IGN1cnZlc181O1xuXG4gICAgbGV0IHg6IG51bWJlciA9IGRmeCwgeSA9IGRmeTtcbiAgICBsZXQgaTogbnVtYmVyID0gYmV6aWVyU2VnbWVudHMgLSAyO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoeCA+PSBwZXJjZW50KSB7XG4gICAgICAgIGNvbnN0IGxhc3RYOiBudW1iZXIgPSB4IC0gZGZ4O1xuICAgICAgICBjb25zdCBsYXN0WTogbnVtYmVyID0geSAtIGRmeTtcbiAgICAgICAgcmV0dXJuIGxhc3RZICsgKHkgLSBsYXN0WSkgKiAocGVyY2VudCAtIGxhc3RYKSAvICh4IC0gbGFzdFgpO1xuICAgICAgfVxuICAgICAgaWYgKGkgPT09IDApIGJyZWFrO1xuICAgICAgaS0tO1xuICAgICAgZGZ4ICs9IGRkZng7XG4gICAgICBkZnkgKz0gZGRmeTtcbiAgICAgIGRkZnggKz0gZGRkZng7XG4gICAgICBkZGZ5ICs9IGRkZGZ5O1xuICAgICAgeCArPSBkZng7XG4gICAgICB5ICs9IGRmeTtcbiAgICB9XG4gICAgcmV0dXJuIHkgKyAoMSAtIHkpICogKHBlcmNlbnQgLSB4KSAvICgxIC0geCk7IC8vIExhc3QgcG9pbnQgaXMgMSwxLlxuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgQ3VydmUge1xuICBwdWJsaWMgZXZhbHVhdGU6ICh0OiBudW1iZXIpID0+IG51bWJlciA9IGZ1bmN0aW9uICh0OiBudW1iZXIpOiBudW1iZXIgeyByZXR1cm4gdDsgfTtcbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogQ3VydmUge1xuICAgIC8vIGRlZmF1bHQ6IGxpbmVhclxuICAgIHRoaXMuZXZhbHVhdGUgPSBmdW5jdGlvbiAodDogbnVtYmVyKTogbnVtYmVyIHsgcmV0dXJuIHQ7IH07XG4gICAgaWYgKCh0eXBlb2YgKGpzb24pID09PSBcInN0cmluZ1wiKSAmJiAoanNvbiA9PT0gXCJzdGVwcGVkXCIpKSB7XG4gICAgICAvLyBzdGVwcGVkXG4gICAgICB0aGlzLmV2YWx1YXRlID0gZnVuY3Rpb24gKHQ6IG51bWJlcik6IG51bWJlciB7IHJldHVybiAwOyB9O1xuICAgIH0gZWxzZSBpZiAoKHR5cGVvZiAoanNvbikgPT09IFwib2JqZWN0XCIpICYmICh0eXBlb2YgKGpzb24ubGVuZ3RoKSA9PT0gXCJudW1iZXJcIikgJiYgKGpzb24ubGVuZ3RoID09PSA0KSkge1xuICAgICAgLy8gYmV6aWVyXG4gICAgICBjb25zdCB4MTogbnVtYmVyID0gbG9hZEZsb2F0KGpzb24sIDAsIDApO1xuICAgICAgY29uc3QgeTE6IG51bWJlciA9IGxvYWRGbG9hdChqc29uLCAxLCAwKTtcbiAgICAgIGNvbnN0IHgyOiBudW1iZXIgPSBsb2FkRmxvYXQoanNvbiwgMiwgMSk7XG4gICAgICBjb25zdCB5MjogbnVtYmVyID0gbG9hZEZsb2F0KGpzb24sIDMsIDEpO1xuICAgICAgLy8gY3VydmUuZXZhbHVhdGUgPSBCZXppZXJDdXJ2ZSh4MSwgeTEsIHgyLCB5Mik7XG4gICAgICB0aGlzLmV2YWx1YXRlID0gU3RlcEJlemllckN1cnZlKHgxLCB5MSwgeDIsIHkyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXAobnVtOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gIGlmIChtaW4gPCBtYXgpIHtcbiAgICBpZiAobnVtIDwgbWluKSB7XG4gICAgICByZXR1cm4gbWF4IC0gKChtaW4gLSBudW0pICUgKG1heCAtIG1pbikpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWluICsgKChudW0gLSBtaW4pICUgKG1heCAtIG1pbikpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChtaW4gPT09IG1heCkge1xuICAgIHJldHVybiBtaW47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHdlZW4oYTogbnVtYmVyLCBiOiBudW1iZXIsIHQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiBhICsgKChiIC0gYSkgKiB0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBBbmdsZVJhZGlhbnMoYW5nbGU6IG51bWJlcik6IG51bWJlciB7XG4gIGlmIChhbmdsZSA8PSAwKSB7XG4gICAgcmV0dXJuICgoYW5nbGUgLSBNYXRoLlBJKSAlICgyICogTWF0aC5QSSkpICsgTWF0aC5QSTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKChhbmdsZSArIE1hdGguUEkpICUgKDIgKiBNYXRoLlBJKSkgLSBNYXRoLlBJO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0d2VlbkFuZ2xlKGE6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gd3JhcEFuZ2xlUmFkaWFucyhhICsgKHdyYXBBbmdsZVJhZGlhbnMoYiAtIGEpICogdCkpO1xufVxuXG5leHBvcnQgY2xhc3MgQW5nbGUge1xuICBwdWJsaWMgcmFkOiBudW1iZXIgPSAwLjA7XG4gIGNvbnN0cnVjdG9yKHJhZD86IG51bWJlcikge1xuICAgIHRoaXMucmFkID0gcmFkIHx8IDAuMDtcbiAgfVxuICBnZXQgZGVnKCk6IG51bWJlciB7IHJldHVybiB0aGlzLnJhZCAqIDE4MC4wIC8gTWF0aC5QSTsgfVxuICBzZXQgZGVnKHZhbHVlOiBudW1iZXIpIHsgdGhpcy5yYWQgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODAuMDsgfVxuICBnZXQgY29zKCk6IG51bWJlciB7IHJldHVybiBNYXRoLmNvcyh0aGlzLnJhZCk7IH1cbiAgZ2V0IHNpbigpOiBudW1iZXIgeyByZXR1cm4gTWF0aC5zaW4odGhpcy5yYWQpOyB9XG4gIHNlbGZJZGVudGl0eSgpOiBBbmdsZSB7IHRoaXMucmFkID0gMC4wOyByZXR1cm4gdGhpczsgfVxuICBjb3B5KG90aGVyOiBBbmdsZSk6IEFuZ2xlIHsgdGhpcy5yYWQgPSBvdGhlci5yYWQ7IHJldHVybiB0aGlzOyB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3Ige1xuICBwdWJsaWMgeDogbnVtYmVyID0gMC4wO1xuICBwdWJsaWMgeTogbnVtYmVyID0gMC4wO1xuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIgPSAwLjAsIHk6IG51bWJlciA9IDAuMCkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuICBwdWJsaWMgY29weShvdGhlcjogVmVjdG9yKTogVmVjdG9yIHtcbiAgICB0aGlzLnggPSBvdGhlci54O1xuICAgIHRoaXMueSA9IG90aGVyLnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcHVibGljIHN0YXRpYyBlcXVhbChhOiBWZWN0b3IsIGI6IFZlY3RvciwgZXBzaWxvbjogbnVtYmVyID0gMWUtNik6IGJvb2xlYW4ge1xuICAgIGlmIChNYXRoLmFicyhhLnggLSBiLngpID4gZXBzaWxvbikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiAoTWF0aC5hYnMoYS55IC0gYi55KSA+IGVwc2lsb24pIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcHVibGljIHN0YXRpYyBhZGQoYTogVmVjdG9yLCBiOiBWZWN0b3IsIG91dDogVmVjdG9yID0gbmV3IFZlY3RvcigpKTogVmVjdG9yIHtcbiAgICBvdXQueCA9IGEueCArIGIueDtcbiAgICBvdXQueSA9IGEueSArIGIueTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIHB1YmxpYyBhZGQob3RoZXI6IFZlY3Rvciwgb3V0OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCkpOiBWZWN0b3Ige1xuICAgIHJldHVybiBWZWN0b3IuYWRkKHRoaXMsIG90aGVyLCBvdXQpO1xuICB9XG4gIHB1YmxpYyBzZWxmQWRkKG90aGVyOiBWZWN0b3IpOiBWZWN0b3Ige1xuICAgIC8vIHJldHVybiBWZWN0b3IuYWRkKHRoaXMsIG90aGVyLCB0aGlzKTtcbiAgICB0aGlzLnggKz0gb3RoZXIueDtcbiAgICB0aGlzLnkgKz0gb3RoZXIueTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgc3RhdGljIHR3ZWVuKGE6IFZlY3RvciwgYjogVmVjdG9yLCBwY3Q6IG51bWJlciwgb3V0OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCkpIHtcbiAgICBvdXQueCA9IHR3ZWVuKGEueCwgYi54LCBwY3QpO1xuICAgIG91dC55ID0gdHdlZW4oYS55LCBiLnksIHBjdCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICBwdWJsaWMgdHdlZW4ob3RoZXI6IFZlY3RvciwgcGN0OiBudW1iZXIsIG91dDogVmVjdG9yID0gbmV3IFZlY3RvcigpKTogVmVjdG9yIHtcbiAgICByZXR1cm4gVmVjdG9yLnR3ZWVuKHRoaXMsIG90aGVyLCBwY3QsIG91dCk7XG4gIH1cbiAgcHVibGljIHNlbGZUd2VlbihvdGhlcjogVmVjdG9yLCBwY3Q6IG51bWJlcik6IFZlY3RvciB7XG4gICAgcmV0dXJuIFZlY3Rvci50d2Vlbih0aGlzLCBvdGhlciwgcGN0LCB0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9zaXRpb24gZXh0ZW5kcyBWZWN0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigwLjAsIDAuMCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJvdGF0aW9uIGV4dGVuZHMgQW5nbGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigwLjApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTY2FsZSBleHRlbmRzIFZlY3RvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKDEuMCwgMS4wKTtcbiAgfVxuICBwdWJsaWMgc2VsZklkZW50aXR5KCk6IFNjYWxlIHtcbiAgICB0aGlzLnggPSAxLjA7XG4gICAgdGhpcy55ID0gMS4wO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGFjZSB7XG4gIHB1YmxpYyBwb3NpdGlvbjogUG9zaXRpb24gPSBuZXcgUG9zaXRpb24oKTtcbiAgcHVibGljIHJvdGF0aW9uOiBSb3RhdGlvbiA9IG5ldyBSb3RhdGlvbigpO1xuICBwdWJsaWMgc2NhbGU6IFNjYWxlID0gbmV3IFNjYWxlKCk7XG4gIHB1YmxpYyBjb3B5KG90aGVyOiBTcGFjZSk6IFNwYWNlIHtcbiAgICB0aGlzLnBvc2l0aW9uLmNvcHkob3RoZXIucG9zaXRpb24pO1xuICAgIHRoaXMucm90YXRpb24uY29weShvdGhlci5yb3RhdGlvbik7XG4gICAgdGhpcy5zY2FsZS5jb3B5KG90aGVyLnNjYWxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBTcGFjZSB7XG4gICAgdGhpcy5wb3NpdGlvbi54ID0gbG9hZEZsb2F0KGpzb24sIFwieFwiLCAwKTtcbiAgICB0aGlzLnBvc2l0aW9uLnkgPSBsb2FkRmxvYXQoanNvbiwgXCJ5XCIsIDApO1xuICAgIHRoaXMucm90YXRpb24uZGVnID0gbG9hZEZsb2F0KGpzb24sIFwicm90YXRpb25cIiwgMCk7XG4gICAgdGhpcy5zY2FsZS54ID0gbG9hZEZsb2F0KGpzb24sIFwic2NhbGVYXCIsIDEpO1xuICAgIHRoaXMuc2NhbGUueSA9IGxvYWRGbG9hdChqc29uLCBcInNjYWxlWVwiLCAxKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgc3RhdGljIGVxdWFsKGE6IFNwYWNlLCBiOiBTcGFjZSwgZXBzaWxvbjogbnVtYmVyID0gMWUtNik6IGJvb2xlYW4ge1xuICAgIGlmIChNYXRoLmFicyhhLnBvc2l0aW9uLnggLSBiLnBvc2l0aW9uLngpID4gZXBzaWxvbikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiAoTWF0aC5hYnMoYS5wb3NpdGlvbi55IC0gYi5wb3NpdGlvbi55KSA+IGVwc2lsb24pIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWYgKE1hdGguYWJzKGEucm90YXRpb24ucmFkIC0gYi5yb3RhdGlvbi5yYWQpID4gZXBzaWxvbikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiAoTWF0aC5hYnMoYS5zY2FsZS54IC0gYi5zY2FsZS54KSA+IGVwc2lsb24pIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWYgKE1hdGguYWJzKGEuc2NhbGUueSAtIGIuc2NhbGUueSkgPiBlcHNpbG9uKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHB1YmxpYyBzdGF0aWMgaWRlbnRpdHkob3V0OiBTcGFjZSA9IG5ldyBTcGFjZSgpKTogU3BhY2Uge1xuICAgIG91dC5wb3NpdGlvbi54ID0gMDtcbiAgICBvdXQucG9zaXRpb24ueSA9IDA7XG4gICAgb3V0LnJvdGF0aW9uLnJhZCA9IDA7XG4gICAgb3V0LnNjYWxlLnggPSAxO1xuICAgIG91dC5zY2FsZS55ID0gMTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIHB1YmxpYyBzdGF0aWMgdHJhbnNsYXRlKHNwYWNlOiBTcGFjZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiBTcGFjZSB7XG4gICAgeCAqPSBzcGFjZS5zY2FsZS54O1xuICAgIHkgKj0gc3BhY2Uuc2NhbGUueTtcbiAgICBjb25zdCByYWQ6IG51bWJlciA9IHNwYWNlLnJvdGF0aW9uLnJhZDtcbiAgICBjb25zdCBjOiBudW1iZXIgPSBNYXRoLmNvcyhyYWQpO1xuICAgIGNvbnN0IHM6IG51bWJlciA9IE1hdGguc2luKHJhZCk7XG4gICAgY29uc3QgdHg6IG51bWJlciA9IGMgKiB4IC0gcyAqIHk7XG4gICAgY29uc3QgdHk6IG51bWJlciA9IHMgKiB4ICsgYyAqIHk7XG4gICAgc3BhY2UucG9zaXRpb24ueCArPSB0eDtcbiAgICBzcGFjZS5wb3NpdGlvbi55ICs9IHR5O1xuICAgIHJldHVybiBzcGFjZTtcbiAgfVxuICBwdWJsaWMgc3RhdGljIHJvdGF0ZShzcGFjZTogU3BhY2UsIHJhZDogbnVtYmVyKTogU3BhY2Uge1xuICAgIHNwYWNlLnJvdGF0aW9uLnJhZCArPSByYWQ7XG4gICAgc3BhY2Uucm90YXRpb24ucmFkID0gd3JhcEFuZ2xlUmFkaWFucyhzcGFjZS5yb3RhdGlvbi5yYWQpO1xuICAgIHJldHVybiBzcGFjZTtcbiAgfVxuICBwdWJsaWMgc3RhdGljIHNjYWxlKHNwYWNlOiBTcGFjZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiBTcGFjZSB7XG4gICAgc3BhY2Uuc2NhbGUueCAqPSB4O1xuICAgIHNwYWNlLnNjYWxlLnkgKj0geTtcbiAgICByZXR1cm4gc3BhY2U7XG4gIH1cbiAgcHVibGljIHN0YXRpYyBpbnZlcnQoc3BhY2U6IFNwYWNlLCBvdXQ6IFNwYWNlID0gbmV3IFNwYWNlKCkpOiBTcGFjZSB7XG4gICAgLy8gaW52ZXJ0XG4gICAgLy8gb3V0LnNjYSA9IHNwYWNlLnNjYS5pbnYoKTtcbiAgICAvLyBvdXQucm90ID0gc3BhY2Uucm90LmludigpO1xuICAgIC8vIG91dC5wb3MgPSBzcGFjZS5wb3MubmVnKCkucm90YXRlKHNwYWNlLnJvdC5pbnYoKSkubXVsKHNwYWNlLnNjYS5pbnYoKSk7XG4gICAgY29uc3QgaW52X3NjYWxlX3g6IG51bWJlciA9IDEgLyBzcGFjZS5zY2FsZS54O1xuICAgIGNvbnN0IGludl9zY2FsZV95OiBudW1iZXIgPSAxIC8gc3BhY2Uuc2NhbGUueTtcbiAgICBjb25zdCBpbnZfcm90YXRpb246IG51bWJlciA9IC1zcGFjZS5yb3RhdGlvbi5yYWQ7XG4gICAgY29uc3QgaW52X3g6IG51bWJlciA9IC1zcGFjZS5wb3NpdGlvbi54O1xuICAgIGNvbnN0IGludl95OiBudW1iZXIgPSAtc3BhY2UucG9zaXRpb24ueTtcbiAgICBvdXQuc2NhbGUueCA9IGludl9zY2FsZV94O1xuICAgIG91dC5zY2FsZS55ID0gaW52X3NjYWxlX3k7XG4gICAgb3V0LnJvdGF0aW9uLnJhZCA9IGludl9yb3RhdGlvbjtcbiAgICBjb25zdCB4OiBudW1iZXIgPSBpbnZfeDtcbiAgICBjb25zdCB5OiBudW1iZXIgPSBpbnZfeTtcbiAgICBjb25zdCByYWQ6IG51bWJlciA9IGludl9yb3RhdGlvbjtcbiAgICBjb25zdCBjOiBudW1iZXIgPSBNYXRoLmNvcyhyYWQpO1xuICAgIGNvbnN0IHM6IG51bWJlciA9IE1hdGguc2luKHJhZCk7XG4gICAgY29uc3QgdHg6IG51bWJlciA9IGMgKiB4IC0gcyAqIHk7XG4gICAgY29uc3QgdHk6IG51bWJlciA9IHMgKiB4ICsgYyAqIHk7XG4gICAgb3V0LnBvc2l0aW9uLnggPSB0eCAqIGludl9zY2FsZV94O1xuICAgIG91dC5wb3NpdGlvbi55ID0gdHkgKiBpbnZfc2NhbGVfeTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIHB1YmxpYyBzdGF0aWMgY29tYmluZShhOiBTcGFjZSwgYjogU3BhY2UsIG91dDogU3BhY2UgPSBuZXcgU3BhY2UoKSk6IFNwYWNlIHtcbiAgICAvLyBjb21iaW5lXG4gICAgLy8gb3V0LnBvcyA9IGIucG9zLm11bChhLnNjYSkucm90YXRlKGEucm90KS5hZGQoYS5wb3MpO1xuICAgIC8vIG91dC5yb3QgPSBiLnJvdC5tdWwoYS5yb3QpO1xuICAgIC8vIG91dC5zY2EgPSBiLnNjYS5tdWwoYS5zY2EpO1xuICAgIGNvbnN0IHg6IG51bWJlciA9IGIucG9zaXRpb24ueCAqIGEuc2NhbGUueDtcbiAgICBjb25zdCB5OiBudW1iZXIgPSBiLnBvc2l0aW9uLnkgKiBhLnNjYWxlLnk7XG4gICAgY29uc3QgcmFkOiBudW1iZXIgPSBhLnJvdGF0aW9uLnJhZDtcbiAgICBjb25zdCBjOiBudW1iZXIgPSBNYXRoLmNvcyhyYWQpO1xuICAgIGNvbnN0IHM6IG51bWJlciA9IE1hdGguc2luKHJhZCk7XG4gICAgY29uc3QgdHg6IG51bWJlciA9IGMgKiB4IC0gcyAqIHk7XG4gICAgY29uc3QgdHk6IG51bWJlciA9IHMgKiB4ICsgYyAqIHk7XG4gICAgb3V0LnBvc2l0aW9uLnggPSB0eCArIGEucG9zaXRpb24ueDtcbiAgICBvdXQucG9zaXRpb24ueSA9IHR5ICsgYS5wb3NpdGlvbi55O1xuICAgIG91dC5yb3RhdGlvbi5yYWQgPSB3cmFwQW5nbGVSYWRpYW5zKGIucm90YXRpb24ucmFkICsgYS5yb3RhdGlvbi5yYWQpO1xuICAgIG91dC5zY2FsZS54ID0gYi5zY2FsZS54ICogYS5zY2FsZS54O1xuICAgIG91dC5zY2FsZS55ID0gYi5zY2FsZS55ICogYS5zY2FsZS55O1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgcHVibGljIHN0YXRpYyBleHRyYWN0KGFiOiBTcGFjZSwgYTogU3BhY2UsIG91dDogU3BhY2UgPSBuZXcgU3BhY2UoKSk6IFNwYWNlIHtcbiAgICAvLyBleHRyYWN0XG4gICAgLy8gb3V0LnNjYSA9IGFiLnNjYS5tdWwoYS5zY2EuaW52KCkpO1xuICAgIC8vIG91dC5yb3QgPSBhYi5yb3QubXVsKGEucm90LmludigpKTtcbiAgICAvLyBvdXQucG9zID0gYWIucG9zLmFkZChhLnBvcy5uZWcoKSkucm90YXRlKGEucm90LmludigpKS5tdWwoYS5zY2EuaW52KCkpO1xuICAgIG91dC5zY2FsZS54ID0gYWIuc2NhbGUueCAvIGEuc2NhbGUueDtcbiAgICBvdXQuc2NhbGUueSA9IGFiLnNjYWxlLnkgLyBhLnNjYWxlLnk7XG4gICAgb3V0LnJvdGF0aW9uLnJhZCA9IHdyYXBBbmdsZVJhZGlhbnMoYWIucm90YXRpb24ucmFkIC0gYS5yb3RhdGlvbi5yYWQpO1xuICAgIGNvbnN0IHg6IG51bWJlciA9IGFiLnBvc2l0aW9uLnggLSBhLnBvc2l0aW9uLng7XG4gICAgY29uc3QgeTogbnVtYmVyID0gYWIucG9zaXRpb24ueSAtIGEucG9zaXRpb24ueTtcbiAgICBjb25zdCByYWQ6IG51bWJlciA9IC1hLnJvdGF0aW9uLnJhZDtcbiAgICBjb25zdCBjOiBudW1iZXIgPSBNYXRoLmNvcyhyYWQpO1xuICAgIGNvbnN0IHM6IG51bWJlciA9IE1hdGguc2luKHJhZCk7XG4gICAgY29uc3QgdHg6IG51bWJlciA9IGMgKiB4IC0gcyAqIHk7XG4gICAgY29uc3QgdHk6IG51bWJlciA9IHMgKiB4ICsgYyAqIHk7XG4gICAgb3V0LnBvc2l0aW9uLnggPSB0eCAvIGEuc2NhbGUueDtcbiAgICBvdXQucG9zaXRpb24ueSA9IHR5IC8gYS5zY2FsZS55O1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgcHVibGljIHN0YXRpYyB0cmFuc2Zvcm0oc3BhY2U6IFNwYWNlLCB2OiBWZWN0b3IsIG91dDogVmVjdG9yID0gbmV3IFZlY3RvcigpKTogVmVjdG9yIHtcbiAgICBjb25zdCB4OiBudW1iZXIgPSB2LnggKiBzcGFjZS5zY2FsZS54O1xuICAgIGNvbnN0IHk6IG51bWJlciA9IHYueSAqIHNwYWNlLnNjYWxlLnk7XG4gICAgY29uc3QgcmFkOiBudW1iZXIgPSBzcGFjZS5yb3RhdGlvbi5yYWQ7XG4gICAgY29uc3QgYzogbnVtYmVyID0gTWF0aC5jb3MocmFkKTtcbiAgICBjb25zdCBzOiBudW1iZXIgPSBNYXRoLnNpbihyYWQpO1xuICAgIGNvbnN0IHR4OiBudW1iZXIgPSBjICogeCAtIHMgKiB5O1xuICAgIGNvbnN0IHR5OiBudW1iZXIgPSBzICogeCArIGMgKiB5O1xuICAgIG91dC54ID0gdHggKyBzcGFjZS5wb3NpdGlvbi54O1xuICAgIG91dC55ID0gdHkgKyBzcGFjZS5wb3NpdGlvbi55O1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgcHVibGljIHN0YXRpYyB1bnRyYW5zZm9ybShzcGFjZTogU3BhY2UsIHY6IFZlY3Rvciwgb3V0OiBWZWN0b3IgPSBuZXcgVmVjdG9yKCkpOiBWZWN0b3Ige1xuICAgIGNvbnN0IHg6IG51bWJlciA9IHYueCAtIHNwYWNlLnBvc2l0aW9uLng7XG4gICAgY29uc3QgeTogbnVtYmVyID0gdi55IC0gc3BhY2UucG9zaXRpb24ueTtcbiAgICBjb25zdCByYWQ6IG51bWJlciA9IC1zcGFjZS5yb3RhdGlvbi5yYWQ7XG4gICAgY29uc3QgYzogbnVtYmVyID0gTWF0aC5jb3MocmFkKTtcbiAgICBjb25zdCBzOiBudW1iZXIgPSBNYXRoLnNpbihyYWQpO1xuICAgIGNvbnN0IHR4OiBudW1iZXIgPSBjICogeCAtIHMgKiB5O1xuICAgIGNvbnN0IHR5OiBudW1iZXIgPSBzICogeCArIGMgKiB5O1xuICAgIG91dC54ID0gdHggLyBzcGFjZS5zY2FsZS54O1xuICAgIG91dC55ID0gdHkgLyBzcGFjZS5zY2FsZS55O1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgcHVibGljIHN0YXRpYyB0d2VlbihhOiBTcGFjZSwgYjogU3BhY2UsIHQ6IG51bWJlciwgb3V0OiBTcGFjZSA9IG5ldyBTcGFjZSgpKTogU3BhY2Uge1xuICAgIG91dC5wb3NpdGlvbi54ID0gdHdlZW4oYS5wb3NpdGlvbi54LCBiLnBvc2l0aW9uLngsIHQpO1xuICAgIG91dC5wb3NpdGlvbi55ID0gdHdlZW4oYS5wb3NpdGlvbi55LCBiLnBvc2l0aW9uLnksIHQpO1xuICAgIG91dC5yb3RhdGlvbi5yYWQgPSB0d2VlbkFuZ2xlKGEucm90YXRpb24ucmFkLCBiLnJvdGF0aW9uLnJhZCwgdCk7XG4gICAgb3V0LnNjYWxlLnggPSB0d2VlbihhLnNjYWxlLngsIGIuc2NhbGUueCwgdCk7XG4gICAgb3V0LnNjYWxlLnkgPSB0d2VlbihhLnNjYWxlLnksIGIuc2NhbGUueSwgdCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQm9uZSB7XG4gIHB1YmxpYyBwYXJlbnRfa2V5OiBzdHJpbmcgPSBcIlwiO1xuICBwdWJsaWMgbGVuZ3RoOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgbG9jYWxfc3BhY2U6IFNwYWNlID0gbmV3IFNwYWNlKCk7XG4gIHB1YmxpYyB3b3JsZF9zcGFjZTogU3BhY2UgPSBuZXcgU3BhY2UoKTtcbiAgcHVibGljIGluaGVyaXRfcm90YXRpb246IGJvb2xlYW4gPSB0cnVlO1xuICBwdWJsaWMgaW5oZXJpdF9zY2FsZTogYm9vbGVhbiA9IHRydWU7XG4gIHB1YmxpYyBjb3B5KG90aGVyOiBCb25lKTogQm9uZSB7XG4gICAgdGhpcy5wYXJlbnRfa2V5ID0gb3RoZXIucGFyZW50X2tleTtcbiAgICB0aGlzLmxlbmd0aCA9IG90aGVyLmxlbmd0aDtcbiAgICB0aGlzLmxvY2FsX3NwYWNlLmNvcHkob3RoZXIubG9jYWxfc3BhY2UpO1xuICAgIHRoaXMud29ybGRfc3BhY2UuY29weShvdGhlci53b3JsZF9zcGFjZSk7XG4gICAgdGhpcy5pbmhlcml0X3JvdGF0aW9uID0gb3RoZXIuaW5oZXJpdF9yb3RhdGlvbjtcbiAgICB0aGlzLmluaGVyaXRfc2NhbGUgPSBvdGhlci5pbmhlcml0X3NjYWxlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEJvbmUge1xuICAgIHRoaXMucGFyZW50X2tleSA9IGxvYWRTdHJpbmcoanNvbiwgXCJwYXJlbnRcIiwgXCJcIik7XG4gICAgdGhpcy5sZW5ndGggPSBsb2FkRmxvYXQoanNvbiwgXCJsZW5ndGhcIiwgMCk7XG4gICAgdGhpcy5sb2NhbF9zcGFjZS5sb2FkKGpzb24pO1xuICAgIHRoaXMud29ybGRfc3BhY2UuY29weSh0aGlzLmxvY2FsX3NwYWNlKTtcbiAgICB0aGlzLmluaGVyaXRfcm90YXRpb24gPSBsb2FkQm9vbChqc29uLCBcImluaGVyaXRSb3RhdGlvblwiLCB0cnVlKTtcbiAgICB0aGlzLmluaGVyaXRfc2NhbGUgPSBsb2FkQm9vbChqc29uLCBcImluaGVyaXRTY2FsZVwiLCB0cnVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgc3RhdGljIGZsYXR0ZW4oYm9uZTogQm9uZSwgYm9uZXM6IHsgW2tleTogc3RyaW5nXTogQm9uZSB9KTogQm9uZSB7XG4gICAgY29uc3QgcGFyZW50X2JvbmU6IEJvbmUgPSBib25lc1tib25lLnBhcmVudF9rZXldO1xuICAgIGlmIChwYXJlbnRfYm9uZSkge1xuICAgICAgQm9uZS5mbGF0dGVuKHBhcmVudF9ib25lLCBib25lcyk7XG4gICAgICAvLyBTcGFjZS5jb21iaW5lKHBhcmVudF9ib25lLndvcmxkX3NwYWNlLCBib25lLmxvY2FsX3NwYWNlLCBib25lLndvcmxkX3NwYWNlKTtcbiAgICAgIGNvbnN0IGE6IFNwYWNlID0gcGFyZW50X2JvbmUud29ybGRfc3BhY2U7XG4gICAgICBjb25zdCBiOiBTcGFjZSA9IGJvbmUubG9jYWxfc3BhY2U7XG4gICAgICBjb25zdCBvdXQ6IFNwYWNlID0gYm9uZS53b3JsZF9zcGFjZTtcbiAgICAgIGNvbnN0IHg6IG51bWJlciA9IGIucG9zaXRpb24ueCAqIGEuc2NhbGUueDtcbiAgICAgIGNvbnN0IHk6IG51bWJlciA9IGIucG9zaXRpb24ueSAqIGEuc2NhbGUueTtcbiAgICAgIGNvbnN0IHJhZDogbnVtYmVyID0gYS5yb3RhdGlvbi5yYWQ7XG4gICAgICBjb25zdCBjOiBudW1iZXIgPSBNYXRoLmNvcyhyYWQpO1xuICAgICAgY29uc3QgczogbnVtYmVyID0gTWF0aC5zaW4ocmFkKTtcbiAgICAgIGNvbnN0IHR4OiBudW1iZXIgPSBjICogeCAtIHMgKiB5O1xuICAgICAgY29uc3QgdHk6IG51bWJlciA9IHMgKiB4ICsgYyAqIHk7XG4gICAgICBvdXQucG9zaXRpb24ueCA9IHR4ICsgYS5wb3NpdGlvbi54O1xuICAgICAgb3V0LnBvc2l0aW9uLnkgPSB0eSArIGEucG9zaXRpb24ueTtcbiAgICAgIGlmIChib25lLmluaGVyaXRfcm90YXRpb24pIHtcbiAgICAgICAgb3V0LnJvdGF0aW9uLnJhZCA9IHdyYXBBbmdsZVJhZGlhbnMoYi5yb3RhdGlvbi5yYWQgKyBhLnJvdGF0aW9uLnJhZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQucm90YXRpb24ucmFkID0gYi5yb3RhdGlvbi5yYWQ7XG4gICAgICB9XG4gICAgICBpZiAoYm9uZS5pbmhlcml0X3NjYWxlKSB7XG4gICAgICAgIG91dC5zY2FsZS54ID0gYi5zY2FsZS54ICogYS5zY2FsZS54O1xuICAgICAgICBvdXQuc2NhbGUueSA9IGIuc2NhbGUueSAqIGEuc2NhbGUueTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dC5zY2FsZS54ID0gYi5zY2FsZS54O1xuICAgICAgICBvdXQuc2NhbGUueSA9IGIuc2NhbGUueTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYm9uZS53b3JsZF9zcGFjZS5jb3B5KGJvbmUubG9jYWxfc3BhY2UpO1xuICAgIH1cbiAgICByZXR1cm4gYm9uZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSWtjIHtcbiAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiXCI7XG4gIHB1YmxpYyBib25lX2tleXM6IHN0cmluZ1tdID0gW107XG4gIHB1YmxpYyB0YXJnZXRfa2V5OiBzdHJpbmcgPSBcIlwiO1xuICBwdWJsaWMgbWl4OiBudW1iZXIgPSAxO1xuICBwdWJsaWMgYmVuZF9wb3NpdGl2ZTogYm9vbGVhbiA9IHRydWU7XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IElrYyB7XG4gICAgdGhpcy5uYW1lID0gbG9hZFN0cmluZyhqc29uLCBcIm5hbWVcIiwgXCJcIik7XG4gICAgdGhpcy5ib25lX2tleXMgPSBqc29uW1wiYm9uZXNcIl0gfHwgW107XG4gICAgdGhpcy50YXJnZXRfa2V5ID0gbG9hZFN0cmluZyhqc29uLCBcInRhcmdldFwiLCBcIlwiKTtcbiAgICB0aGlzLm1peCA9IGxvYWRGbG9hdChqc29uLCBcIm1peFwiLCAxKTtcbiAgICB0aGlzLmJlbmRfcG9zaXRpdmUgPSBsb2FkQm9vbChqc29uLCBcImJlbmRQb3NpdGl2ZVwiLCB0cnVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2xvdCB7XG4gIHB1YmxpYyBib25lX2tleTogc3RyaW5nID0gXCJcIjtcbiAgcHVibGljIGNvbG9yOiBDb2xvciA9IG5ldyBDb2xvcigpO1xuICBwdWJsaWMgYXR0YWNobWVudF9rZXk6IHN0cmluZyA9IFwiXCI7XG4gIHB1YmxpYyBibGVuZDogc3RyaW5nID0gXCJub3JtYWxcIjtcbiAgcHVibGljIGNvcHkob3RoZXI6IFNsb3QpOiBTbG90IHtcbiAgICB0aGlzLmJvbmVfa2V5ID0gb3RoZXIuYm9uZV9rZXk7XG4gICAgdGhpcy5jb2xvci5jb3B5KG90aGVyLmNvbG9yKTtcbiAgICB0aGlzLmF0dGFjaG1lbnRfa2V5ID0gb3RoZXIuYXR0YWNobWVudF9rZXk7XG4gICAgdGhpcy5ibGVuZCA9IG90aGVyLmJsZW5kO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IFNsb3Qge1xuICAgIHRoaXMuYm9uZV9rZXkgPSBsb2FkU3RyaW5nKGpzb24sIFwiYm9uZVwiLCBcIlwiKTtcbiAgICB0aGlzLmNvbG9yLmxvYWQoanNvbi5jb2xvcik7XG4gICAgdGhpcy5hdHRhY2htZW50X2tleSA9IGxvYWRTdHJpbmcoanNvbiwgXCJhdHRhY2htZW50XCIsIFwiXCIpO1xuICAgIHRoaXMuYmxlbmQgPSBsb2FkU3RyaW5nKGpzb24sIFwiYmxlbmRcIiwgXCJub3JtYWxcIik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnQge1xuICBwdWJsaWMgdHlwZTogc3RyaW5nID0gXCJyZWdpb25cIjtcbiAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiXCI7XG4gIHB1YmxpYyBwYXRoOiBzdHJpbmcgPSBcIlwiO1xuICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcpIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEF0dGFjaG1lbnQge1xuICAgIGNvbnN0IHR5cGUgPSBsb2FkU3RyaW5nKGpzb24sIFwidHlwZVwiLCBcInJlZ2lvblwiKTtcbiAgICBpZiAodHlwZSAhPT0gdGhpcy50eXBlKSB7IHRocm93IG5ldyBFcnJvcigpOyB9XG4gICAgdGhpcy5uYW1lID0gbG9hZFN0cmluZyhqc29uLCBcIm5hbWVcIiwgXCJcIik7XG4gICAgdGhpcy5wYXRoID0gbG9hZFN0cmluZyhqc29uLCBcInBhdGhcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlZ2lvbkF0dGFjaG1lbnQgZXh0ZW5kcyBBdHRhY2htZW50IHtcbiAgcHVibGljIGxvY2FsX3NwYWNlOiBTcGFjZSA9IG5ldyBTcGFjZSgpO1xuICBwdWJsaWMgd2lkdGg6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBoZWlnaHQ6IG51bWJlciA9IDA7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFwicmVnaW9uXCIpO1xuICB9XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IFJlZ2lvbkF0dGFjaG1lbnQge1xuICAgIHN1cGVyLmxvYWQoanNvbik7XG4gICAgdGhpcy5sb2NhbF9zcGFjZS5sb2FkKGpzb24pO1xuICAgIHRoaXMud2lkdGggPSBsb2FkRmxvYXQoanNvbiwgXCJ3aWR0aFwiLCAwKTtcbiAgICB0aGlzLmhlaWdodCA9IGxvYWRGbG9hdChqc29uLCBcImhlaWdodFwiLCAwKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQm91bmRpbmdCb3hBdHRhY2htZW50IGV4dGVuZHMgQXR0YWNobWVudCB7XG4gIHB1YmxpYyB2ZXJ0aWNlczogbnVtYmVyW10gPSBbXTsgLy8vIFRoZSB4L3kgcGFpcnMgdGhhdCBtYWtlIHVwIHRoZSB2ZXJ0aWNlcyBvZiB0aGUgcG9seWdvbi5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoXCJib3VuZGluZ2JveFwiKTtcbiAgfVxuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBCb3VuZGluZ0JveEF0dGFjaG1lbnQge1xuICAgIHN1cGVyLmxvYWQoanNvbik7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IGpzb24udmVydGljZXMgfHwgW107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lc2hBdHRhY2htZW50IGV4dGVuZHMgQXR0YWNobWVudCB7XG4gIHB1YmxpYyBjb2xvcjogQ29sb3IgPSBuZXcgQ29sb3IoKTtcbiAgcHVibGljIHRyaWFuZ2xlczogbnVtYmVyW10gPSBbXTtcbiAgcHVibGljIGVkZ2VzOiBudW1iZXJbXSA9IFtdO1xuICBwdWJsaWMgdmVydGljZXM6IG51bWJlcltdID0gW107XG4gIHB1YmxpYyB1dnM6IG51bWJlcltdID0gW107XG4gIHB1YmxpYyBodWxsOiBudW1iZXIgPSAwO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcIm1lc2hcIik7XG4gIH1cbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogTWVzaEF0dGFjaG1lbnQge1xuICAgIHN1cGVyLmxvYWQoanNvbik7XG4gICAgdGhpcy5jb2xvci5sb2FkKGpzb24uY29sb3IpO1xuICAgIHRoaXMudHJpYW5nbGVzID0ganNvbi50cmlhbmdsZXMgfHwgW107XG4gICAgdGhpcy5lZGdlcyA9IGpzb24uZWRnZXMgfHwgW107XG4gICAgdGhpcy52ZXJ0aWNlcyA9IGpzb24udmVydGljZXMgfHwgW107XG4gICAgdGhpcy51dnMgPSBqc29uLnV2cyB8fCBbXTtcbiAgICB0aGlzLmh1bGwgPSBsb2FkSW50KGpzb24sIFwiaHVsbFwiLCAwKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2tpbm5lZE1lc2hBdHRhY2htZW50IGV4dGVuZHMgQXR0YWNobWVudCB7XG4gIHB1YmxpYyBjb2xvcjogQ29sb3IgPSBuZXcgQ29sb3IoKTtcbiAgcHVibGljIHRyaWFuZ2xlczogbnVtYmVyW10gPSBbXTtcbiAgcHVibGljIGVkZ2VzOiBudW1iZXJbXSA9IFtdO1xuICBwdWJsaWMgdmVydGljZXM6IG51bWJlcltdID0gW107XG4gIHB1YmxpYyB1dnM6IG51bWJlcltdID0gW107XG4gIHB1YmxpYyBodWxsOiBudW1iZXIgPSAwO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcInNraW5uZWRtZXNoXCIpO1xuICB9XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IFNraW5uZWRNZXNoQXR0YWNobWVudCB7XG4gICAgc3VwZXIubG9hZChqc29uKTtcbiAgICB0aGlzLmNvbG9yLmxvYWQoanNvbi5jb2xvcik7XG4gICAgdGhpcy50cmlhbmdsZXMgPSBqc29uLnRyaWFuZ2xlcyB8fCBbXTtcbiAgICB0aGlzLmVkZ2VzID0ganNvbi5lZGdlcyB8fCBbXTtcbiAgICB0aGlzLnZlcnRpY2VzID0ganNvbi52ZXJ0aWNlcyB8fCBbXTtcbiAgICB0aGlzLnV2cyA9IGpzb24udXZzIHx8IFtdO1xuICAgIHRoaXMuaHVsbCA9IGxvYWRJbnQoanNvbiwgXCJodWxsXCIsIDApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTa2luU2xvdCB7XG4gIHB1YmxpYyBhdHRhY2htZW50czogeyBba2V5OiBzdHJpbmddOiBBdHRhY2htZW50IH0gPSB7fTtcbiAgcHVibGljIGF0dGFjaG1lbnRfa2V5czogc3RyaW5nW10gPSBbXTtcbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogU2tpblNsb3Qge1xuICAgIHRoaXMuYXR0YWNobWVudF9rZXlzID0gT2JqZWN0LmtleXMoanNvbik7XG4gICAgdGhpcy5hdHRhY2htZW50X2tleXMuZm9yRWFjaCgoYXR0YWNobWVudF9rZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QganNvbl9hdHRhY2htZW50ID0ganNvblthdHRhY2htZW50X2tleV07XG4gICAgICBzd2l0Y2ggKGpzb25fYXR0YWNobWVudC50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJyZWdpb25cIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2F0dGFjaG1lbnRfa2V5XSA9IG5ldyBSZWdpb25BdHRhY2htZW50KCkubG9hZChqc29uX2F0dGFjaG1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm91bmRpbmdib3hcIjpcbiAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRzW2F0dGFjaG1lbnRfa2V5XSA9IG5ldyBCb3VuZGluZ0JveEF0dGFjaG1lbnQoKS5sb2FkKGpzb25fYXR0YWNobWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZXNoXCI6XG4gICAgICAgICAgdGhpcy5hdHRhY2htZW50c1thdHRhY2htZW50X2tleV0gPSBuZXcgTWVzaEF0dGFjaG1lbnQoKS5sb2FkKGpzb25fYXR0YWNobWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJza2lubmVkbWVzaFwiOlxuICAgICAgICAgIHRoaXMuYXR0YWNobWVudHNbYXR0YWNobWVudF9rZXldID0gbmV3IFNraW5uZWRNZXNoQXR0YWNobWVudCgpLmxvYWQoanNvbl9hdHRhY2htZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2tpbiB7XG4gIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBwdWJsaWMgc2xvdHM6IHsgW2tleTogc3RyaW5nXTogU2tpblNsb3QgfSA9IHt9O1xuICBwdWJsaWMgc2xvdF9rZXlzOiBzdHJpbmdbXSA9IFtdO1xuICBwdWJsaWMgbG9hZChqc29uKTogU2tpbiB7XG4gICAgdGhpcy5uYW1lID0gbG9hZFN0cmluZyhqc29uLCBcIm5hbWVcIiwgXCJcIik7XG4gICAgdGhpcy5zbG90X2tleXMgPSBPYmplY3Qua2V5cyhqc29uKTtcbiAgICB0aGlzLnNsb3Rfa2V5cy5mb3JFYWNoKChzbG90X2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLnNsb3RzW3Nsb3Rfa2V5XSA9IG5ldyBTa2luU2xvdCgpLmxvYWQoanNvbltzbG90X2tleV0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBpdGVyYXRlQXR0YWNobWVudHMoY2FsbGJhY2s6IChzbG90X2tleTogc3RyaW5nLCBza2luX3Nsb3Q6IFNraW5TbG90LCBhdHRhY2htZW50X2tleTogc3RyaW5nLCBhdHRhY2htZW50OiBBdHRhY2htZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5zbG90X2tleXMuZm9yRWFjaCgoc2xvdF9rZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3Qgc2tpbl9zbG90OiBTa2luU2xvdCA9IHRoaXMuc2xvdHNbc2xvdF9rZXldO1xuICAgICAgc2tpbl9zbG90LmF0dGFjaG1lbnRfa2V5cy5mb3JFYWNoKChhdHRhY2htZW50X2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnQ6IEF0dGFjaG1lbnQgPSBza2luX3Nsb3QuYXR0YWNobWVudHNbYXR0YWNobWVudF9rZXldO1xuICAgICAgICBjYWxsYmFjayhzbG90X2tleSwgc2tpbl9zbG90LCBhdHRhY2htZW50LnBhdGggfHwgYXR0YWNobWVudC5uYW1lIHx8IGF0dGFjaG1lbnRfa2V5LCBhdHRhY2htZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudCB7XG4gIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBwdWJsaWMgaW50X3ZhbHVlOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgZmxvYXRfdmFsdWU6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBzdHJpbmdfdmFsdWU6IHN0cmluZyA9IFwiXCI7XG4gIHB1YmxpYyBjb3B5KG90aGVyOiBFdmVudCk6IEV2ZW50IHtcbiAgICB0aGlzLm5hbWUgPSBvdGhlci5uYW1lO1xuICAgIHRoaXMuaW50X3ZhbHVlID0gb3RoZXIuaW50X3ZhbHVlO1xuICAgIHRoaXMuZmxvYXRfdmFsdWUgPSBvdGhlci5mbG9hdF92YWx1ZTtcbiAgICB0aGlzLnN0cmluZ192YWx1ZSA9IG90aGVyLnN0cmluZ192YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBFdmVudCB7XG4gICAgdGhpcy5uYW1lID0gbG9hZFN0cmluZyhqc29uLCBcIm5hbWVcIiwgXCJcIik7XG4gICAgaWYgKHR5cGVvZiAoanNvbltcImludFwiXSkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMuaW50X3ZhbHVlID0gbG9hZEludChqc29uLCBcImludFwiLCAwKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiAoanNvbltcImZsb2F0XCJdKSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5mbG9hdF92YWx1ZSA9IGxvYWRGbG9hdChqc29uLCBcImZsb2F0XCIsIDApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChqc29uW1wic3RyaW5nXCJdKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5zdHJpbmdfdmFsdWUgPSBsb2FkU3RyaW5nKGpzb24sIFwic3RyaW5nXCIsIFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgS2V5ZnJhbWUge1xuICBwdWJsaWMgdGltZTogbnVtYmVyID0gMDtcbiAgcHVibGljIGRyb3AoKTogS2V5ZnJhbWUge1xuICAgIHRoaXMudGltZSA9IDA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogS2V5ZnJhbWUge1xuICAgIHRoaXMudGltZSA9IDEwMDAgKiBsb2FkRmxvYXQoanNvbiwgXCJ0aW1lXCIsIDApOyAvLyBjb252ZXJ0IHRvIG1zXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcHVibGljIHNhdmUoanNvbjogYW55KTogS2V5ZnJhbWUge1xuICAgIHNhdmVGbG9hdChqc29uLCBcInRpbWVcIiwgdGhpcy50aW1lIC8gMTAwMCwgMCk7IC8vIGNvbnZlcnQgdG8gc1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBzdGF0aWMgZmluZChhcnJheTogS2V5ZnJhbWVbXSwgdGltZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoIWFycmF5KSB7IHJldHVybiAtMTsgfVxuICAgIGlmIChhcnJheS5sZW5ndGggPD0gMCkgeyByZXR1cm4gLTE7IH1cbiAgICBpZiAodGltZSA8IGFycmF5WzBdLnRpbWUpIHsgcmV0dXJuIC0xOyB9XG4gICAgY29uc3QgbGFzdCA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgaWYgKHRpbWUgPj0gYXJyYXlbbGFzdF0udGltZSkgeyByZXR1cm4gbGFzdDsgfVxuICAgIGxldCBsbyA9IDA7XG4gICAgbGV0IGhpID0gbGFzdDtcbiAgICBpZiAoaGkgPT09IDApIHsgcmV0dXJuIDA7IH1cbiAgICBsZXQgY3VycmVudCA9IGhpID4+IDE7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChhcnJheVtjdXJyZW50ICsgMV0udGltZSA8PSB0aW1lKSB7IGxvID0gY3VycmVudCArIDE7IH0gZWxzZSB7IGhpID0gY3VycmVudDsgfVxuICAgICAgaWYgKGxvID09PSBoaSkgeyByZXR1cm4gbG87IH1cbiAgICAgIGN1cnJlbnQgPSAobG8gKyBoaSkgPj4gMTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHN0YXRpYyBjb21wYXJlKGE6IEtleWZyYW1lLCBiOiBLZXlmcmFtZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIGEudGltZSAtIGIudGltZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQm9uZUtleWZyYW1lIGV4dGVuZHMgS2V5ZnJhbWUge1xuICBwdWJsaWMgY3VydmU6IEN1cnZlID0gbmV3IEN1cnZlKCk7XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEJvbmVLZXlmcmFtZSB7XG4gICAgc3VwZXIubG9hZChqc29uKTtcbiAgICB0aGlzLmN1cnZlLmxvYWQoanNvbi5jdXJ2ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRyYW5zbGF0ZUtleWZyYW1lIGV4dGVuZHMgQm9uZUtleWZyYW1lIHtcbiAgcHVibGljIHBvc2l0aW9uOiBQb3NpdGlvbiA9IG5ldyBQb3NpdGlvbigpO1xuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBUcmFuc2xhdGVLZXlmcmFtZSB7XG4gICAgc3VwZXIubG9hZChqc29uKTtcbiAgICB0aGlzLnBvc2l0aW9uLnggPSBsb2FkRmxvYXQoanNvbiwgXCJ4XCIsIDApO1xuICAgIHRoaXMucG9zaXRpb24ueSA9IGxvYWRGbG9hdChqc29uLCBcInlcIiwgMCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJvdGF0ZUtleWZyYW1lIGV4dGVuZHMgQm9uZUtleWZyYW1lIHtcbiAgcHVibGljIHJvdGF0aW9uOiBSb3RhdGlvbiA9IG5ldyBSb3RhdGlvbigpO1xuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBSb3RhdGVLZXlmcmFtZSB7XG4gICAgc3VwZXIubG9hZChqc29uKTtcbiAgICB0aGlzLnJvdGF0aW9uLmRlZyA9IGxvYWRGbG9hdChqc29uLCBcImFuZ2xlXCIsIDApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTY2FsZUtleWZyYW1lIGV4dGVuZHMgQm9uZUtleWZyYW1lIHtcbiAgcHVibGljIHNjYWxlOiBTY2FsZSA9IG5ldyBTY2FsZSgpO1xuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBTY2FsZUtleWZyYW1lIHtcbiAgICBzdXBlci5sb2FkKGpzb24pO1xuICAgIHRoaXMuc2NhbGUueCA9IGxvYWRGbG9hdChqc29uLCBcInhcIiwgMSk7XG4gICAgdGhpcy5zY2FsZS55ID0gbG9hZEZsb2F0KGpzb24sIFwieVwiLCAxKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQW5pbUJvbmUge1xuICBwdWJsaWMgbWluX3RpbWU6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBtYXhfdGltZTogbnVtYmVyID0gMDtcbiAgcHVibGljIHRyYW5zbGF0ZV9rZXlmcmFtZXM6IFRyYW5zbGF0ZUtleWZyYW1lW107XG4gIHB1YmxpYyByb3RhdGVfa2V5ZnJhbWVzOiBSb3RhdGVLZXlmcmFtZVtdO1xuICBwdWJsaWMgc2NhbGVfa2V5ZnJhbWVzOiBTY2FsZUtleWZyYW1lW107XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEFuaW1Cb25lIHtcbiAgICB0aGlzLm1pbl90aW1lID0gMDtcbiAgICB0aGlzLm1heF90aW1lID0gMDtcbiAgICB0aGlzLnRyYW5zbGF0ZV9rZXlmcmFtZXMgPSBudWxsO1xuICAgIHRoaXMucm90YXRlX2tleWZyYW1lcyA9IG51bGw7XG4gICAgdGhpcy5zY2FsZV9rZXlmcmFtZXMgPSBudWxsO1xuICAgIE9iamVjdC5rZXlzKGpzb24pLmZvckVhY2goKGtleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwidHJhbnNsYXRlXCI6XG4gICAgICAgICAgdGhpcy50cmFuc2xhdGVfa2V5ZnJhbWVzID0gW107XG4gICAgICAgICAganNvbi50cmFuc2xhdGUuZm9yRWFjaCgodHJhbnNsYXRlX2pzb246IGFueSk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlX2tleWZyYW1lOiBUcmFuc2xhdGVLZXlmcmFtZSA9IG5ldyBUcmFuc2xhdGVLZXlmcmFtZSgpLmxvYWQodHJhbnNsYXRlX2pzb24pO1xuICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVfa2V5ZnJhbWVzLnB1c2godHJhbnNsYXRlX2tleWZyYW1lKTtcbiAgICAgICAgICAgIHRoaXMubWluX3RpbWUgPSBNYXRoLm1pbih0aGlzLm1pbl90aW1lLCB0cmFuc2xhdGVfa2V5ZnJhbWUudGltZSk7XG4gICAgICAgICAgICB0aGlzLm1heF90aW1lID0gTWF0aC5tYXgodGhpcy5tYXhfdGltZSwgdHJhbnNsYXRlX2tleWZyYW1lLnRpbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMudHJhbnNsYXRlX2tleWZyYW1lcy5zb3J0KEtleWZyYW1lLmNvbXBhcmUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicm90YXRlXCI6XG4gICAgICAgICAgdGhpcy5yb3RhdGVfa2V5ZnJhbWVzID0gW107XG4gICAgICAgICAganNvbi5yb3RhdGUuZm9yRWFjaCgocm90YXRlX2pzb246IGFueSk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm90YXRlX2tleWZyYW1lOiBSb3RhdGVLZXlmcmFtZSA9IG5ldyBSb3RhdGVLZXlmcmFtZSgpLmxvYWQocm90YXRlX2pzb24pO1xuICAgICAgICAgICAgdGhpcy5yb3RhdGVfa2V5ZnJhbWVzLnB1c2gocm90YXRlX2tleWZyYW1lKTtcbiAgICAgICAgICAgIHRoaXMubWluX3RpbWUgPSBNYXRoLm1pbih0aGlzLm1pbl90aW1lLCByb3RhdGVfa2V5ZnJhbWUudGltZSk7XG4gICAgICAgICAgICB0aGlzLm1heF90aW1lID0gTWF0aC5tYXgodGhpcy5tYXhfdGltZSwgcm90YXRlX2tleWZyYW1lLnRpbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMucm90YXRlX2tleWZyYW1lcy5zb3J0KEtleWZyYW1lLmNvbXBhcmUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2NhbGVcIjpcbiAgICAgICAgICB0aGlzLnNjYWxlX2tleWZyYW1lcyA9IFtdO1xuICAgICAgICAgIGpzb24uc2NhbGUuZm9yRWFjaCgoc2NhbGVfanNvbjogYW55KTogdm9pZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZV9rZXlmcmFtZTogU2NhbGVLZXlmcmFtZSA9IG5ldyBTY2FsZUtleWZyYW1lKCkubG9hZChzY2FsZV9qc29uKTtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVfa2V5ZnJhbWVzLnB1c2goc2NhbGVfa2V5ZnJhbWUpO1xuICAgICAgICAgICAgdGhpcy5taW5fdGltZSA9IE1hdGgubWluKHRoaXMubWluX3RpbWUsIHNjYWxlX2tleWZyYW1lLnRpbWUpO1xuICAgICAgICAgICAgdGhpcy5tYXhfdGltZSA9IE1hdGgubWF4KHRoaXMubWF4X3RpbWUsIHNjYWxlX2tleWZyYW1lLnRpbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuc2NhbGVfa2V5ZnJhbWVzLnNvcnQoS2V5ZnJhbWUuY29tcGFyZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUT0RPOiBBbmltQm9uZTo6bG9hZFwiLCBrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbG90S2V5ZnJhbWUgZXh0ZW5kcyBLZXlmcmFtZSB7IH1cblxuZXhwb3J0IGNsYXNzIENvbG9yS2V5ZnJhbWUgZXh0ZW5kcyBTbG90S2V5ZnJhbWUge1xuICBwdWJsaWMgY29sb3I6IENvbG9yID0gbmV3IENvbG9yKCk7XG4gIHB1YmxpYyBjdXJ2ZTogQ3VydmUgPSBuZXcgQ3VydmUoKTtcbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogQ29sb3JLZXlmcmFtZSB7XG4gICAgc3VwZXIubG9hZChqc29uKTtcbiAgICB0aGlzLmNvbG9yLmxvYWQoanNvbi5jb2xvcik7XG4gICAgdGhpcy5jdXJ2ZS5sb2FkKGpzb24uY3VydmUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBdHRhY2htZW50S2V5ZnJhbWUgZXh0ZW5kcyBTbG90S2V5ZnJhbWUge1xuICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJcIjtcbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogQXR0YWNobWVudEtleWZyYW1lIHtcbiAgICBzdXBlci5sb2FkKGpzb24pO1xuICAgIHRoaXMubmFtZSA9IGxvYWRTdHJpbmcoanNvbiwgXCJuYW1lXCIsIFwiXCIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbmltU2xvdCB7XG4gIHB1YmxpYyBtaW5fdGltZTogbnVtYmVyID0gMDtcbiAgcHVibGljIG1heF90aW1lOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgY29sb3Jfa2V5ZnJhbWVzOiBDb2xvcktleWZyYW1lW107XG4gIHB1YmxpYyBhdHRhY2htZW50X2tleWZyYW1lczogQXR0YWNobWVudEtleWZyYW1lW107XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEFuaW1TbG90IHtcbiAgICB0aGlzLm1pbl90aW1lID0gMDtcbiAgICB0aGlzLm1heF90aW1lID0gMDtcbiAgICB0aGlzLmNvbG9yX2tleWZyYW1lcyA9IG51bGw7XG4gICAgdGhpcy5hdHRhY2htZW50X2tleWZyYW1lcyA9IG51bGw7XG4gICAgT2JqZWN0LmtleXMoanNvbikuZm9yRWFjaCgoa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICAgIHRoaXMuY29sb3Jfa2V5ZnJhbWVzID0gW107XG4gICAgICAgICAganNvbltrZXldLmZvckVhY2goKGNvbG9yOiBhbnkpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yX2tleWZyYW1lOiBDb2xvcktleWZyYW1lID0gbmV3IENvbG9yS2V5ZnJhbWUoKS5sb2FkKGNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMubWluX3RpbWUgPSBNYXRoLm1pbih0aGlzLm1pbl90aW1lLCBjb2xvcl9rZXlmcmFtZS50aW1lKTtcbiAgICAgICAgICAgIHRoaXMubWF4X3RpbWUgPSBNYXRoLm1heCh0aGlzLm1heF90aW1lLCBjb2xvcl9rZXlmcmFtZS50aW1lKTtcbiAgICAgICAgICAgIHRoaXMuY29sb3Jfa2V5ZnJhbWVzLnB1c2goY29sb3Jfa2V5ZnJhbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuY29sb3Jfa2V5ZnJhbWVzLnNvcnQoS2V5ZnJhbWUuY29tcGFyZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhdHRhY2htZW50XCI6XG4gICAgICAgICAgdGhpcy5hdHRhY2htZW50X2tleWZyYW1lcyA9IFtdO1xuICAgICAgICAgIGpzb25ba2V5XS5mb3JFYWNoKChhdHRhY2htZW50OiBhbnkpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGF0dGFjaG1lbnRfa2V5ZnJhbWU6IEF0dGFjaG1lbnRLZXlmcmFtZSA9IG5ldyBBdHRhY2htZW50S2V5ZnJhbWUoKS5sb2FkKGF0dGFjaG1lbnQpO1xuICAgICAgICAgICAgdGhpcy5taW5fdGltZSA9IE1hdGgubWluKHRoaXMubWluX3RpbWUsIGF0dGFjaG1lbnRfa2V5ZnJhbWUudGltZSk7XG4gICAgICAgICAgICB0aGlzLm1heF90aW1lID0gTWF0aC5tYXgodGhpcy5tYXhfdGltZSwgYXR0YWNobWVudF9rZXlmcmFtZS50aW1lKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNobWVudF9rZXlmcmFtZXMucHVzaChhdHRhY2htZW50X2tleWZyYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLmF0dGFjaG1lbnRfa2V5ZnJhbWVzLnNvcnQoS2V5ZnJhbWUuY29tcGFyZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUT0RPOiBBbmltU2xvdDo6bG9hZFwiLCBrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudEtleWZyYW1lIGV4dGVuZHMgS2V5ZnJhbWUge1xuICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJcIjtcbiAgcHVibGljIGludF92YWx1ZTogbnVtYmVyID0gMDtcbiAgcHVibGljIGZsb2F0X3ZhbHVlOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgc3RyaW5nX3ZhbHVlOiBzdHJpbmcgPSBcIlwiO1xuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBFdmVudEtleWZyYW1lIHtcbiAgICBzdXBlci5sb2FkKGpzb24pO1xuICAgIHRoaXMubmFtZSA9IGxvYWRTdHJpbmcoanNvbiwgXCJuYW1lXCIsIFwiXCIpO1xuICAgIGlmICh0eXBlb2YgKGpzb25bXCJpbnRcIl0pID09PSBcIm51bWJlclwiKSB7XG4gICAgICB0aGlzLmludF92YWx1ZSA9IGxvYWRJbnQoanNvbiwgXCJpbnRcIiwgMCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKGpzb25bXCJmbG9hdFwiXSkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMuZmxvYXRfdmFsdWUgPSBsb2FkRmxvYXQoanNvbiwgXCJmbG9hdFwiLCAwKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiAoanNvbltcInN0cmluZ1wiXSkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMuc3RyaW5nX3ZhbHVlID0gbG9hZFN0cmluZyhqc29uLCBcInN0cmluZ1wiLCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNsb3RPZmZzZXQge1xuICBwdWJsaWMgc2xvdF9rZXk6IHN0cmluZyA9IFwiXCI7XG4gIHB1YmxpYyBvZmZzZXQ6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IFNsb3RPZmZzZXQge1xuICAgIHRoaXMuc2xvdF9rZXkgPSBsb2FkU3RyaW5nKGpzb24sIFwic2xvdFwiLCBcIlwiKTtcbiAgICB0aGlzLm9mZnNldCA9IGxvYWRJbnQoanNvbiwgXCJvZmZzZXRcIiwgMCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9yZGVyS2V5ZnJhbWUgZXh0ZW5kcyBLZXlmcmFtZSB7XG4gIHB1YmxpYyBzbG90X29mZnNldHM6IFNsb3RPZmZzZXRbXSA9IFtdO1xuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBPcmRlcktleWZyYW1lIHtcbiAgICBzdXBlci5sb2FkKGpzb24pO1xuICAgIHRoaXMuc2xvdF9vZmZzZXRzID0gW107XG4gICAgT2JqZWN0LmtleXMoanNvbikuZm9yRWFjaCgoa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJvZmZzZXRzXCI6XG4gICAgICAgICAganNvbltrZXldLmZvckVhY2goKG9mZnNldDogYW55KTogdm9pZCA9PiB7XG4gICAgICAgICAgICB0aGlzLnNsb3Rfb2Zmc2V0cy5wdXNoKG5ldyBTbG90T2Zmc2V0KCkubG9hZChvZmZzZXQpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSWtjS2V5ZnJhbWUgZXh0ZW5kcyBLZXlmcmFtZSB7XG4gIHB1YmxpYyBjdXJ2ZTogQ3VydmUgPSBuZXcgQ3VydmUoKTtcbiAgcHVibGljIG1peDogbnVtYmVyID0gMTtcbiAgcHVibGljIGJlbmRfcG9zaXRpdmU6IGJvb2xlYW4gPSB0cnVlO1xuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBJa2NLZXlmcmFtZSB7XG4gICAgc3VwZXIubG9hZChqc29uKTtcbiAgICB0aGlzLmN1cnZlLmxvYWQoanNvbik7XG4gICAgdGhpcy5taXggPSBsb2FkRmxvYXQoanNvbiwgXCJtaXhcIiwgMSk7XG4gICAgdGhpcy5iZW5kX3Bvc2l0aXZlID0gbG9hZEJvb2woanNvbiwgXCJiZW5kUG9zaXRpdmVcIiwgdHJ1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuaW1Ja2Mge1xuICBwdWJsaWMgbWluX3RpbWU6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBtYXhfdGltZTogbnVtYmVyID0gMDtcbiAgcHVibGljIGlrY19rZXlmcmFtZXM6IElrY0tleWZyYW1lW107XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEFuaW1Ja2Mge1xuICAgIHRoaXMubWluX3RpbWUgPSAwO1xuICAgIHRoaXMubWF4X3RpbWUgPSAwO1xuICAgIHRoaXMuaWtjX2tleWZyYW1lcyA9IFtdO1xuICAgIGpzb24uZm9yRWFjaCgoaWtjOiBhbnkpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IGlrY19rZXlmcmFtZTogSWtjS2V5ZnJhbWUgPSBuZXcgSWtjS2V5ZnJhbWUoKS5sb2FkKGlrYyk7XG4gICAgICB0aGlzLm1pbl90aW1lID0gTWF0aC5taW4odGhpcy5taW5fdGltZSwgaWtjX2tleWZyYW1lLnRpbWUpO1xuICAgICAgdGhpcy5tYXhfdGltZSA9IE1hdGgubWF4KHRoaXMubWF4X3RpbWUsIGlrY19rZXlmcmFtZS50aW1lKTtcbiAgICAgIHRoaXMuaWtjX2tleWZyYW1lcy5wdXNoKGlrY19rZXlmcmFtZSk7XG4gICAgfSk7XG4gICAgdGhpcy5pa2Nfa2V5ZnJhbWVzLnNvcnQoS2V5ZnJhbWUuY29tcGFyZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZmZEtleWZyYW1lIGV4dGVuZHMgS2V5ZnJhbWUge1xuICBwdWJsaWMgY3VydmU6IEN1cnZlID0gbmV3IEN1cnZlKCk7XG4gIHB1YmxpYyBvZmZzZXQ6IG51bWJlciA9IDA7XG4gIHB1YmxpYyB2ZXJ0aWNlczogbnVtYmVyW107XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEZmZEtleWZyYW1lIHtcbiAgICBzdXBlci5sb2FkKGpzb24pO1xuICAgIHRoaXMuY3VydmUubG9hZChqc29uKTtcbiAgICB0aGlzLm9mZnNldCA9IGxvYWRJbnQoanNvbiwgXCJvZmZzZXRcIiwgMCk7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IGpzb24udmVydGljZXMgfHwgW107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZmZEF0dGFjaG1lbnQge1xuICBwdWJsaWMgbWluX3RpbWU6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBtYXhfdGltZTogbnVtYmVyID0gMDtcbiAgcHVibGljIGZmZF9rZXlmcmFtZXM6IEZmZEtleWZyYW1lW107XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEZmZEF0dGFjaG1lbnQge1xuICAgIHRoaXMubWluX3RpbWUgPSAwO1xuICAgIHRoaXMubWF4X3RpbWUgPSAwO1xuICAgIHRoaXMuZmZkX2tleWZyYW1lcyA9IFtdO1xuICAgIGpzb24uZm9yRWFjaCgoZmZkX2tleWZyYW1lX2pzb246IGFueSk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgZmZkX2tleWZyYW1lOiBGZmRLZXlmcmFtZSA9IG5ldyBGZmRLZXlmcmFtZSgpLmxvYWQoZmZkX2tleWZyYW1lX2pzb24pO1xuICAgICAgdGhpcy5taW5fdGltZSA9IE1hdGgubWluKHRoaXMubWluX3RpbWUsIGZmZF9rZXlmcmFtZS50aW1lKTtcbiAgICAgIHRoaXMubWF4X3RpbWUgPSBNYXRoLm1heCh0aGlzLm1heF90aW1lLCBmZmRfa2V5ZnJhbWUudGltZSk7XG4gICAgICB0aGlzLmZmZF9rZXlmcmFtZXMucHVzaChmZmRfa2V5ZnJhbWUpO1xuICAgIH0pO1xuICAgIHRoaXMuZmZkX2tleWZyYW1lcy5zb3J0KEtleWZyYW1lLmNvbXBhcmUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGZmRTbG90IHtcbiAgcHVibGljIGZmZF9hdHRhY2htZW50czogeyBba2V5OiBzdHJpbmddOiBGZmRBdHRhY2htZW50IH07XG4gIHB1YmxpYyBmZmRfYXR0YWNobWVudF9rZXlzOiBzdHJpbmdbXTtcbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogRmZkU2xvdCB7XG4gICAgdGhpcy5mZmRfYXR0YWNobWVudHMgPSB7fTtcbiAgICB0aGlzLmZmZF9hdHRhY2htZW50X2tleXMgPSBPYmplY3Qua2V5cyhqc29uKTtcbiAgICB0aGlzLmZmZF9hdHRhY2htZW50X2tleXMuZm9yRWFjaCgoa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMuZmZkX2F0dGFjaG1lbnRzW2tleV0gPSBuZXcgRmZkQXR0YWNobWVudCgpLmxvYWQoanNvbltrZXldKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgaXRlcmF0ZUF0dGFjaG1lbnRzKGNhbGxiYWNrOiAoZmZkX2F0dGFjaG1lbnRfa2V5OiBzdHJpbmcsIGZmZF9hdHRhY2htZW50OiBGZmRBdHRhY2htZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5mZmRfYXR0YWNobWVudF9rZXlzLmZvckVhY2goKGZmZF9hdHRhY2htZW50X2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBmZmRfYXR0YWNobWVudDogRmZkQXR0YWNobWVudCA9IHRoaXMuZmZkX2F0dGFjaG1lbnRzW2ZmZF9hdHRhY2htZW50X2tleV07XG4gICAgICBjYWxsYmFjayhmZmRfYXR0YWNobWVudF9rZXksIGZmZF9hdHRhY2htZW50KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQW5pbUZmZCB7XG4gIHB1YmxpYyBtaW5fdGltZTogbnVtYmVyID0gMDtcbiAgcHVibGljIG1heF90aW1lOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgZmZkX3Nsb3RzOiB7IFtrZXk6IHN0cmluZ106IEZmZFNsb3QgfTtcbiAgcHVibGljIGZmZF9zbG90X2tleXM6IHN0cmluZ1tdO1xuICBwdWJsaWMgbG9hZChqc29uOiBhbnkpOiBBbmltRmZkIHtcbiAgICB0aGlzLm1pbl90aW1lID0gMDtcbiAgICB0aGlzLm1heF90aW1lID0gMDtcbiAgICB0aGlzLmZmZF9zbG90cyA9IHt9O1xuICAgIHRoaXMuZmZkX3Nsb3Rfa2V5cyA9IE9iamVjdC5rZXlzKGpzb24pO1xuICAgIHRoaXMuZmZkX3Nsb3Rfa2V5cy5mb3JFYWNoKChrZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5mZmRfc2xvdHNba2V5XSA9IG5ldyBGZmRTbG90KCkubG9hZChqc29uW2tleV0pO1xuICAgIH0pO1xuICAgIHRoaXMuaXRlcmF0ZUF0dGFjaG1lbnRzKChmZmRfc2xvdF9rZXk6IHN0cmluZywgZmZkX3Nsb3Q6IEZmZFNsb3QsIGZmZF9hdHRhY2htZW50X2tleTogc3RyaW5nLCBmZmRfYXR0YWNobWVudDogRmZkQXR0YWNobWVudCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5taW5fdGltZSA9IE1hdGgubWluKHRoaXMubWluX3RpbWUsIGZmZF9hdHRhY2htZW50Lm1pbl90aW1lKTtcbiAgICAgIHRoaXMubWF4X3RpbWUgPSBNYXRoLm1heCh0aGlzLm1heF90aW1lLCBmZmRfYXR0YWNobWVudC5tYXhfdGltZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcHVibGljIGl0ZXJhdGVBdHRhY2htZW50cyhjYWxsYmFjazogKGZmZF9zbG90X2tleTogc3RyaW5nLCBmZmRfc2xvdDogRmZkU2xvdCwgZmZkX2F0dGFjaG1lbnRfa2V5OiBzdHJpbmcsIGZmZF9hdHRhY2htZW50OiBGZmRBdHRhY2htZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgbGV0IGZmZF9zbG90X2tleTogc3RyaW5nO1xuICAgIGxldCBmZmRfc2xvdDogRmZkU2xvdDtcbiAgICB0aGlzLmZmZF9zbG90X2tleXMuZm9yRWFjaCgoZmZkX3Nsb3Rfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIGZmZF9zbG90ID0gdGhpcy5mZmRfc2xvdHNbZmZkX3Nsb3Rfa2V5XTtcbiAgICAgIGZmZF9zbG90Lml0ZXJhdGVBdHRhY2htZW50cygoZmZkX2F0dGFjaG1lbnRfa2V5OiBzdHJpbmcsIGZmZF9hdHRhY2htZW50OiBGZmRBdHRhY2htZW50KTogdm9pZCA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGZmZF9zbG90X2tleSwgZmZkX3Nsb3QsIGZmZF9hdHRhY2htZW50X2tleSwgZmZkX2F0dGFjaG1lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbiB7XG4gIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBwdWJsaWMgYm9uZXM6IHsgW2tleTogc3RyaW5nXTogQW5pbUJvbmUgfTtcbiAgcHVibGljIHNsb3RzOiB7IFtrZXk6IHN0cmluZ106IEFuaW1TbG90IH07XG4gIHB1YmxpYyBldmVudF9rZXlmcmFtZXM6IEV2ZW50S2V5ZnJhbWVbXTtcbiAgcHVibGljIG9yZGVyX2tleWZyYW1lczogT3JkZXJLZXlmcmFtZVtdO1xuICBwdWJsaWMgaWtjczogeyBba2V5OiBzdHJpbmddOiBBbmltSWtjIH07XG4gIHB1YmxpYyBmZmRzOiB7IFtrZXk6IHN0cmluZ106IEFuaW1GZmQgfTtcbiAgcHVibGljIG1pbl90aW1lOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgbWF4X3RpbWU6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBsZW5ndGg6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IEFuaW1hdGlvbiB7XG4gICAgdGhpcy5ib25lcyA9IHt9O1xuICAgIHRoaXMuc2xvdHMgPSB7fTtcbiAgICB0aGlzLmV2ZW50X2tleWZyYW1lcyA9IG51bGw7XG4gICAgdGhpcy5vcmRlcl9rZXlmcmFtZXMgPSBudWxsO1xuICAgIHRoaXMuaWtjcyA9IHt9O1xuICAgIHRoaXMuZmZkcyA9IHt9O1xuICAgIHRoaXMubWluX3RpbWUgPSAwO1xuICAgIHRoaXMubWF4X3RpbWUgPSAwO1xuICAgIE9iamVjdC5rZXlzKGpzb24pLmZvckVhY2goKGtleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwiYm9uZXNcIjpcbiAgICAgICAgICBPYmplY3Qua2V5cyhqc29uW2tleV0pLmZvckVhY2goKGJvbmVfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1fYm9uZTogQW5pbUJvbmUgPSBuZXcgQW5pbUJvbmUoKS5sb2FkKGpzb25ba2V5XVtib25lX2tleV0pO1xuICAgICAgICAgICAgdGhpcy5taW5fdGltZSA9IE1hdGgubWluKHRoaXMubWluX3RpbWUsIGFuaW1fYm9uZS5taW5fdGltZSk7XG4gICAgICAgICAgICB0aGlzLm1heF90aW1lID0gTWF0aC5tYXgodGhpcy5tYXhfdGltZSwgYW5pbV9ib25lLm1heF90aW1lKTtcbiAgICAgICAgICAgIHRoaXMuYm9uZXNbYm9uZV9rZXldID0gYW5pbV9ib25lO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2xvdHNcIjpcbiAgICAgICAgICBPYmplY3Qua2V5cyhqc29uW2tleV0pLmZvckVhY2goKHNsb3Rfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1fc2xvdDogQW5pbVNsb3QgPSBuZXcgQW5pbVNsb3QoKS5sb2FkKGpzb25ba2V5XVtzbG90X2tleV0pO1xuICAgICAgICAgICAgdGhpcy5taW5fdGltZSA9IE1hdGgubWluKHRoaXMubWluX3RpbWUsIGFuaW1fc2xvdC5taW5fdGltZSk7XG4gICAgICAgICAgICB0aGlzLm1heF90aW1lID0gTWF0aC5tYXgodGhpcy5tYXhfdGltZSwgYW5pbV9zbG90Lm1heF90aW1lKTtcbiAgICAgICAgICAgIHRoaXMuc2xvdHNbc2xvdF9rZXldID0gYW5pbV9zbG90O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZXZlbnRzXCI6XG4gICAgICAgICAgdGhpcy5ldmVudF9rZXlmcmFtZXMgPSBbXTtcbiAgICAgICAgICBqc29uW2tleV0uZm9yRWFjaCgoZXZlbnQ6IGFueSk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXZlbnRfa2V5ZnJhbWU6IEV2ZW50S2V5ZnJhbWUgPSBuZXcgRXZlbnRLZXlmcmFtZSgpLmxvYWQoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5taW5fdGltZSA9IE1hdGgubWluKHRoaXMubWluX3RpbWUsIGV2ZW50X2tleWZyYW1lLnRpbWUpO1xuICAgICAgICAgICAgdGhpcy5tYXhfdGltZSA9IE1hdGgubWF4KHRoaXMubWF4X3RpbWUsIGV2ZW50X2tleWZyYW1lLnRpbWUpO1xuICAgICAgICAgICAgdGhpcy5ldmVudF9rZXlmcmFtZXMucHVzaChldmVudF9rZXlmcmFtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5ldmVudF9rZXlmcmFtZXMuc29ydChLZXlmcmFtZS5jb21wYXJlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRyYXdPcmRlclwiOlxuICAgICAgICBjYXNlIFwiZHJhd29yZGVyXCI6XG4gICAgICAgICAgdGhpcy5vcmRlcl9rZXlmcmFtZXMgPSBbXTtcbiAgICAgICAgICBqc29uW2tleV0uZm9yRWFjaCgob3JkZXI6IGFueSk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3JkZXJfa2V5ZnJhbWU6IE9yZGVyS2V5ZnJhbWUgPSBuZXcgT3JkZXJLZXlmcmFtZSgpLmxvYWQob3JkZXIpO1xuICAgICAgICAgICAgdGhpcy5taW5fdGltZSA9IE1hdGgubWluKHRoaXMubWluX3RpbWUsIG9yZGVyX2tleWZyYW1lLnRpbWUpO1xuICAgICAgICAgICAgdGhpcy5tYXhfdGltZSA9IE1hdGgubWF4KHRoaXMubWF4X3RpbWUsIG9yZGVyX2tleWZyYW1lLnRpbWUpO1xuICAgICAgICAgICAgdGhpcy5vcmRlcl9rZXlmcmFtZXMucHVzaChvcmRlcl9rZXlmcmFtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5vcmRlcl9rZXlmcmFtZXMuc29ydChLZXlmcmFtZS5jb21wYXJlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlrXCI6XG4gICAgICAgICAgT2JqZWN0LmtleXMoanNvbltrZXldKS5mb3JFYWNoKChpa2Nfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1faWtjOiBBbmltSWtjID0gbmV3IEFuaW1Ja2MoKS5sb2FkKGpzb25ba2V5XVtpa2Nfa2V5XSk7XG4gICAgICAgICAgICB0aGlzLm1pbl90aW1lID0gTWF0aC5taW4odGhpcy5taW5fdGltZSwgYW5pbV9pa2MubWluX3RpbWUpO1xuICAgICAgICAgICAgdGhpcy5tYXhfdGltZSA9IE1hdGgubWF4KHRoaXMubWF4X3RpbWUsIGFuaW1faWtjLm1heF90aW1lKTtcbiAgICAgICAgICAgIHRoaXMuaWtjc1tpa2Nfa2V5XSA9IGFuaW1faWtjO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZmZkXCI6XG4gICAgICAgICAgT2JqZWN0LmtleXMoanNvbltrZXldKS5mb3JFYWNoKChmZmRfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1fZmZkOiBBbmltRmZkID0gbmV3IEFuaW1GZmQoKS5sb2FkKGpzb25ba2V5XVtmZmRfa2V5XSk7XG4gICAgICAgICAgICB0aGlzLm1pbl90aW1lID0gTWF0aC5taW4odGhpcy5taW5fdGltZSwgYW5pbV9mZmQubWluX3RpbWUpO1xuICAgICAgICAgICAgdGhpcy5tYXhfdGltZSA9IE1hdGgubWF4KHRoaXMubWF4X3RpbWUsIGFuaW1fZmZkLm1heF90aW1lKTtcbiAgICAgICAgICAgIHRoaXMuZmZkc1tmZmRfa2V5XSA9IGFuaW1fZmZkO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVE9ETzogQW5pbWF0aW9uOjpsb2FkXCIsIGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLm1heF90aW1lIC0gdGhpcy5taW5fdGltZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2tlbGV0b24ge1xuICBwdWJsaWMgaGFzaDogc3RyaW5nID0gXCJcIjtcbiAgcHVibGljIHNwaW5lOiBzdHJpbmcgPSBcIlwiO1xuICBwdWJsaWMgd2lkdGg6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBoZWlnaHQ6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBpbWFnZXM6IHN0cmluZyA9IFwiXCI7XG4gIHB1YmxpYyBsb2FkKGpzb246IGFueSk6IFNrZWxldG9uIHtcbiAgICB0aGlzLmhhc2ggPSBsb2FkU3RyaW5nKGpzb24sIFwiaGFzaFwiLCBcIlwiKTtcbiAgICB0aGlzLnNwaW5lID0gbG9hZFN0cmluZyhqc29uLCBcInNwaW5lXCIsIFwiXCIpO1xuICAgIHRoaXMud2lkdGggPSBsb2FkSW50KGpzb24sIFwid2lkdGhcIiwgMCk7XG4gICAgdGhpcy5oZWlnaHQgPSBsb2FkSW50KGpzb24sIFwiaGVpZ2h0XCIsIDApO1xuICAgIHRoaXMuaW1hZ2VzID0gbG9hZFN0cmluZyhqc29uLCBcImltYWdlc1wiLCBcIlwiKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0YSB7XG4gIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBwdWJsaWMgc2tlbGV0b246IFNrZWxldG9uID0gbmV3IFNrZWxldG9uKCk7XG4gIHB1YmxpYyBib25lczogeyBba2V5OiBzdHJpbmddOiBCb25lIH0gPSB7fTtcbiAgcHVibGljIGJvbmVfa2V5czogc3RyaW5nW10gPSBbXTtcbiAgcHVibGljIGlrY3M6IHsgW2tleTogc3RyaW5nXTogSWtjIH0gPSB7fTtcbiAgcHVibGljIGlrY19rZXlzOiBzdHJpbmdbXSA9IFtdO1xuICBwdWJsaWMgc2xvdHM6IHsgW2tleTogc3RyaW5nXTogU2xvdCB9ID0ge307XG4gIHB1YmxpYyBzbG90X2tleXM6IHN0cmluZ1tdID0gW107XG4gIHB1YmxpYyBza2luczogeyBba2V5OiBzdHJpbmddOiBTa2luIH0gPSB7fTtcbiAgcHVibGljIHNraW5fa2V5czogc3RyaW5nW10gPSBbXTtcbiAgcHVibGljIGV2ZW50czogeyBba2V5OiBzdHJpbmddOiBFdmVudCB9ID0ge307XG4gIHB1YmxpYyBldmVudF9rZXlzOiBzdHJpbmdbXSA9IFtdO1xuICBwdWJsaWMgYW5pbXM6IHsgW2tleTogc3RyaW5nXTogQW5pbWF0aW9uIH0gPSB7fTtcbiAgcHVibGljIGFuaW1fa2V5czogc3RyaW5nW10gPSBbXTtcbiAgcHVibGljIGxvYWQoanNvbjogYW55KTogRGF0YSB7XG4gICAgdGhpcy5ib25lcyA9IHt9O1xuICAgIHRoaXMuYm9uZV9rZXlzID0gW107XG4gICAgdGhpcy5pa2NzID0ge307XG4gICAgdGhpcy5pa2Nfa2V5cyA9IFtdO1xuICAgIHRoaXMuc2xvdHMgPSB7fTtcbiAgICB0aGlzLnNsb3Rfa2V5cyA9IFtdO1xuICAgIHRoaXMuc2tpbnMgPSB7fTtcbiAgICB0aGlzLnNraW5fa2V5cyA9IFtdO1xuICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgdGhpcy5ldmVudF9rZXlzID0gW107XG4gICAgdGhpcy5hbmltcyA9IHt9O1xuICAgIHRoaXMuYW5pbV9rZXlzID0gW107XG4gICAgT2JqZWN0LmtleXMoanNvbikuZm9yRWFjaCgoa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJza2VsZXRvblwiOlxuICAgICAgICAgIHRoaXMuc2tlbGV0b24ubG9hZChqc29uW2tleV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm9uZXNcIjpcbiAgICAgICAgICBjb25zdCBqc29uX2JvbmVzID0ganNvbltrZXldO1xuICAgICAgICAgIGpzb25fYm9uZXMuZm9yRWFjaCgoYm9uZTogYW55LCBib25lX2luZGV4OiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIHRoaXMuYm9uZXNbYm9uZS5uYW1lXSA9IG5ldyBCb25lKCkubG9hZChib25lKTtcbiAgICAgICAgICAgIHRoaXMuYm9uZV9rZXlzW2JvbmVfaW5kZXhdID0gYm9uZS5uYW1lO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaWtcIjpcbiAgICAgICAgICBjb25zdCBqc29uX2lrID0ganNvbltrZXldO1xuICAgICAgICAgIGpzb25faWsuZm9yRWFjaCgoaWtjOiBhbnksIGlrY19pbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgICAgICAgICB0aGlzLmlrY3NbaWtjLm5hbWVdID0gbmV3IElrYygpLmxvYWQoaWtjKTtcbiAgICAgICAgICAgIHRoaXMuaWtjX2tleXNbaWtjX2luZGV4XSA9IGlrYy5uYW1lO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2xvdHNcIjpcbiAgICAgICAgICBjb25zdCBqc29uX3Nsb3RzID0ganNvbltrZXldO1xuICAgICAgICAgIGpzb25fc2xvdHMuZm9yRWFjaCgoc2xvdDogYW55LCBzbG90X2luZGV4OiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2xvdHNbc2xvdC5uYW1lXSA9IG5ldyBTbG90KCkubG9hZChzbG90KTtcbiAgICAgICAgICAgIHRoaXMuc2xvdF9rZXlzW3Nsb3RfaW5kZXhdID0gc2xvdC5uYW1lO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2tpbnNcIjpcbiAgICAgICAgICBjb25zdCBqc29uX3NraW5zID0ganNvbltrZXldO1xuICAgICAgICAgIHRoaXMuc2tpbl9rZXlzID0gT2JqZWN0LmtleXMoanNvbl9za2lucyk7XG4gICAgICAgICAgdGhpcy5za2luX2tleXMuZm9yRWFjaCgoc2tpbl9rZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2tpbjogU2tpbiA9IHRoaXMuc2tpbnNbc2tpbl9rZXldID0gbmV3IFNraW4oKS5sb2FkKGpzb25fc2tpbnNbc2tpbl9rZXldKTtcbiAgICAgICAgICAgIHNraW4ubmFtZSA9IHNraW4ubmFtZSB8fCBza2luX2tleTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImV2ZW50c1wiOlxuICAgICAgICAgIGNvbnN0IGpzb25fZXZlbnRzID0ganNvbltrZXldO1xuICAgICAgICAgIHRoaXMuZXZlbnRfa2V5cyA9IE9iamVjdC5rZXlzKGpzb25fZXZlbnRzKTtcbiAgICAgICAgICB0aGlzLmV2ZW50X2tleXMuZm9yRWFjaCgoZXZlbnRfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50OiBFdmVudCA9IHRoaXMuZXZlbnRzW2V2ZW50X2tleV0gPSBuZXcgRXZlbnQoKS5sb2FkKGpzb25fZXZlbnRzW2V2ZW50X2tleV0pO1xuICAgICAgICAgICAgZXZlbnQubmFtZSA9IGV2ZW50Lm5hbWUgfHwgZXZlbnRfa2V5O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYW5pbWF0aW9uc1wiOlxuICAgICAgICAgIGNvbnN0IGpzb25fYW5pbWF0aW9ucyA9IGpzb25ba2V5XTtcbiAgICAgICAgICB0aGlzLmFuaW1fa2V5cyA9IE9iamVjdC5rZXlzKGpzb25fYW5pbWF0aW9ucyk7XG4gICAgICAgICAgdGhpcy5hbmltX2tleXMuZm9yRWFjaCgoYW5pbV9rZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgY29uc3QgYW5pbTogQW5pbWF0aW9uID0gdGhpcy5hbmltc1thbmltX2tleV0gPSBuZXcgQW5pbWF0aW9uKCkubG9hZChqc29uX2FuaW1hdGlvbnNbYW5pbV9rZXldKTtcbiAgICAgICAgICAgIGFuaW0ubmFtZSA9IGFuaW0ubmFtZSB8fCBhbmltX2tleTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE86IFNrZWxldG9uOjpsb2FkXCIsIGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLml0ZXJhdGVCb25lcygoYm9uZV9rZXk6IHN0cmluZywgYm9uZTogQm9uZSk6IHZvaWQgPT4ge1xuICAgICAgQm9uZS5mbGF0dGVuKGJvbmUsIHRoaXMuYm9uZXMpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBsb2FkU2tlbGV0b24oanNvbjogYW55KTogRGF0YSB7XG4gICAgdGhpcy5za2VsZXRvbi5sb2FkKGpzb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBsb2FkRXZlbnQobmFtZTogc3RyaW5nLCBqc29uOiBhbnkpOiBEYXRhIHtcbiAgICBjb25zdCBldmVudDogRXZlbnQgPSB0aGlzLmV2ZW50c1tuYW1lXSA9IG5ldyBFdmVudCgpLmxvYWQoanNvbik7XG4gICAgZXZlbnQubmFtZSA9IGV2ZW50Lm5hbWUgfHwgbmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgbG9hZEFuaW1hdGlvbihuYW1lOiBzdHJpbmcsIGpzb246IGFueSk6IERhdGEge1xuICAgIGNvbnN0IGFuaW06IEFuaW1hdGlvbiA9IHRoaXMuYW5pbXNbbmFtZV0gPSBuZXcgQW5pbWF0aW9uKCkubG9hZChqc29uKTtcbiAgICBhbmltLm5hbWUgPSBhbmltLm5hbWUgfHwgbmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgZ2V0U2tpbnMoKTogeyBba2V5OiBzdHJpbmddOiBTa2luIH0geyByZXR1cm4gdGhpcy5za2luczsgfVxuICBwdWJsaWMgZ2V0RXZlbnRzKCk6IHsgW2tleTogc3RyaW5nXTogRXZlbnQgfSB7IHJldHVybiB0aGlzLmV2ZW50czsgfVxuICBwdWJsaWMgZ2V0QW5pbXMoKTogeyBba2V5OiBzdHJpbmddOiBBbmltYXRpb24gfSB7IHJldHVybiB0aGlzLmFuaW1zOyB9XG4gIHB1YmxpYyBpdGVyYXRlQm9uZXMoY2FsbGJhY2spOiB2b2lkIHtcbiAgICB0aGlzLmJvbmVfa2V5cy5mb3JFYWNoKChib25lX2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBkYXRhX2JvbmU6IEJvbmUgPSB0aGlzLmJvbmVzW2JvbmVfa2V5XTtcbiAgICAgIGNhbGxiYWNrKGJvbmVfa2V5LCBkYXRhX2JvbmUpO1xuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBpdGVyYXRlQXR0YWNobWVudHMoc2tpbl9rZXksIGNhbGxiYWNrOiAoc2xvdF9rZXk6IHN0cmluZywgZGF0YV9zbG90OiBTbG90LCBza2luX3Nsb3Q6IFNraW5TbG90LCBhdHRhY2htZW50X2tleTogc3RyaW5nLCBhdHRhY2htZW50OiBBdHRhY2htZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3Qgc2tpbjogU2tpbiA9IHRoaXMuc2tpbnNbc2tpbl9rZXldO1xuICAgIGNvbnN0IGRlZmF1bHRfc2tpbjogU2tpbiA9IHRoaXMuc2tpbnNbXCJkZWZhdWx0XCJdO1xuICAgIHRoaXMuc2xvdF9rZXlzLmZvckVhY2goKHNsb3Rfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IGRhdGFfc2xvdDogU2xvdCA9IHRoaXMuc2xvdHNbc2xvdF9rZXldO1xuICAgICAgY29uc3Qgc2tpbl9zbG90OiBTa2luU2xvdCA9IHNraW4gJiYgKHNraW4uc2xvdHNbc2xvdF9rZXldIHx8IGRlZmF1bHRfc2tpbi5zbG90c1tzbG90X2tleV0pO1xuICAgICAgY29uc3QgYXR0YWNobWVudDogQXR0YWNobWVudCA9IHNraW5fc2xvdCAmJiBza2luX3Nsb3QuYXR0YWNobWVudHNbZGF0YV9zbG90LmF0dGFjaG1lbnRfa2V5XTtcbiAgICAgIGNvbnN0IGF0dGFjaG1lbnRfa2V5OiBzdHJpbmcgPSAoYXR0YWNobWVudCAmJiAoYXR0YWNobWVudC5wYXRoIHx8IGF0dGFjaG1lbnQubmFtZSkpIHx8IGRhdGFfc2xvdC5hdHRhY2htZW50X2tleTtcbiAgICAgIGNhbGxiYWNrKHNsb3Rfa2V5LCBkYXRhX3Nsb3QsIHNraW5fc2xvdCwgYXR0YWNobWVudF9rZXksIGF0dGFjaG1lbnQpO1xuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBpdGVyYXRlU2tpbnMoY2FsbGJhY2s6IChza2luX2tleTogc3RyaW5nLCBza2luOiBTa2luKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5za2luX2tleXMuZm9yRWFjaCgoc2tpbl9rZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3Qgc2tpbjogU2tpbiA9IHRoaXMuc2tpbnNbc2tpbl9rZXldO1xuICAgICAgY2FsbGJhY2soc2tpbl9rZXksIHNraW4pO1xuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBpdGVyYXRlRXZlbnRzKGNhbGxiYWNrOiAoZXZlbnRfa2V5OiBzdHJpbmcsIGV2ZW50OiBFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuZXZlbnRfa2V5cy5mb3JFYWNoKChldmVudF9rZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgZXZlbnQ6IEV2ZW50ID0gdGhpcy5ldmVudHNbZXZlbnRfa2V5XTtcbiAgICAgIGNhbGxiYWNrKGV2ZW50X2tleSwgZXZlbnQpO1xuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBpdGVyYXRlQW5pbXMoY2FsbGJhY2s6IChhbmltX2tleTogc3RyaW5nLCBhbmltOiBBbmltYXRpb24pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmFuaW1fa2V5cy5mb3JFYWNoKChhbmltX2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBhbmltOiBBbmltYXRpb24gPSB0aGlzLmFuaW1zW2FuaW1fa2V5XTtcbiAgICAgIGNhbGxiYWNrKGFuaW1fa2V5LCBhbmltKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9zZSB7XG4gIHB1YmxpYyBkYXRhOiBEYXRhO1xuICBwdWJsaWMgc2tpbl9rZXk6IHN0cmluZyA9IFwiXCI7XG4gIHB1YmxpYyBhbmltX2tleTogc3RyaW5nID0gXCJcIjtcbiAgcHVibGljIHRpbWU6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBlbGFwc2VkX3RpbWU6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBkaXJ0eTogYm9vbGVhbiA9IHRydWU7XG4gIHB1YmxpYyBib25lczogeyBba2V5OiBzdHJpbmddOiBCb25lIH0gPSB7fTtcbiAgcHVibGljIGJvbmVfa2V5czogc3RyaW5nW10gPSBbXTtcbiAgcHVibGljIHNsb3RzOiB7IFtrZXk6IHN0cmluZ106IFNsb3QgfSA9IHt9O1xuICBwdWJsaWMgc2xvdF9rZXlzOiBzdHJpbmdbXSA9IFtdO1xuICBwdWJsaWMgZXZlbnRzOiBFdmVudFtdID0gW107XG4gIHB1YmxpYyBvbkNvbXBsZXRlOiBQaGFzZXIuU2lnbmFsID0gbmV3IFBoYXNlci5TaWduYWwoKTtcblxuICBjb25zdHJ1Y3RvcihkYXRhPzogRGF0YSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbiAgcHVibGljIGN1clNrZWwoKTogU2tlbGV0b24ge1xuICAgIGNvbnN0IHBvc2U6IFBvc2UgPSB0aGlzO1xuICAgIGNvbnN0IGRhdGE6IERhdGEgPSBwb3NlLmRhdGE7XG4gICAgcmV0dXJuIGRhdGEgJiYgZGF0YS5za2VsZXRvbjtcbiAgfVxuICBwdWJsaWMgZ2V0U2tpbnMoKTogeyBba2V5OiBzdHJpbmddOiBTa2luIH0ge1xuICAgIGNvbnN0IHBvc2U6IFBvc2UgPSB0aGlzO1xuICAgIGNvbnN0IGRhdGE6IERhdGEgPSBwb3NlLmRhdGE7XG4gICAgcmV0dXJuIGRhdGEgJiYgZGF0YS5za2lucztcbiAgfVxuICBwdWJsaWMgY3VyU2tpbigpOiBTa2luIHtcbiAgICBjb25zdCBwb3NlOiBQb3NlID0gdGhpcztcbiAgICBjb25zdCBkYXRhOiBEYXRhID0gcG9zZS5kYXRhO1xuICAgIHJldHVybiBkYXRhICYmIGRhdGEuc2tpbnNbcG9zZS5za2luX2tleV07XG4gIH1cbiAgcHVibGljIGdldFNraW4oKTogc3RyaW5nIHtcbiAgICBjb25zdCBwb3NlOiBQb3NlID0gdGhpcztcbiAgICByZXR1cm4gcG9zZS5za2luX2tleTtcbiAgfVxuICBwdWJsaWMgc2V0U2tpbihza2luX2tleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgcG9zZTogUG9zZSA9IHRoaXM7XG4gICAgaWYgKHBvc2Uuc2tpbl9rZXkgIT09IHNraW5fa2V5KSB7XG4gICAgICBwb3NlLnNraW5fa2V5ID0gc2tpbl9rZXk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXRFdmVudHMoKTogeyBba2V5OiBzdHJpbmddOiBFdmVudCB9IHtcbiAgICBjb25zdCBwb3NlOiBQb3NlID0gdGhpcztcbiAgICBjb25zdCBkYXRhOiBEYXRhID0gcG9zZS5kYXRhO1xuICAgIHJldHVybiBkYXRhICYmIGRhdGEuZXZlbnRzO1xuICB9XG4gIHB1YmxpYyBnZXRBbmltcygpOiB7IFtrZXk6IHN0cmluZ106IEFuaW1hdGlvbiB9IHtcbiAgICBjb25zdCBwb3NlOiBQb3NlID0gdGhpcztcbiAgICBjb25zdCBkYXRhOiBEYXRhID0gcG9zZS5kYXRhO1xuICAgIHJldHVybiBkYXRhICYmIGRhdGEuYW5pbXM7XG4gIH1cbiAgcHVibGljIGN1ckFuaW0oKTogQW5pbWF0aW9uIHtcbiAgICBjb25zdCBwb3NlOiBQb3NlID0gdGhpcztcbiAgICBjb25zdCBkYXRhOiBEYXRhID0gcG9zZS5kYXRhO1xuICAgIHJldHVybiBkYXRhICYmIGRhdGEuYW5pbXNbcG9zZS5hbmltX2tleV07XG4gIH1cbiAgcHVibGljIGN1ckFuaW1MZW5ndGgoKTogbnVtYmVyIHtcbiAgICBjb25zdCBwb3NlOiBQb3NlID0gdGhpcztcbiAgICBjb25zdCBkYXRhOiBEYXRhID0gcG9zZS5kYXRhO1xuICAgIGNvbnN0IGFuaW06IEFuaW1hdGlvbiA9IGRhdGEgJiYgZGF0YS5hbmltc1twb3NlLmFuaW1fa2V5XTtcbiAgICByZXR1cm4gKGFuaW0gJiYgYW5pbS5sZW5ndGgpIHx8IDA7XG4gIH1cbiAgcHVibGljIGdldEFuaW0oKTogc3RyaW5nIHtcbiAgICBjb25zdCBwb3NlOiBQb3NlID0gdGhpcztcbiAgICByZXR1cm4gcG9zZS5hbmltX2tleTtcbiAgfVxuICBwdWJsaWMgc2V0QW5pbShhbmltX2tleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgcG9zZTogUG9zZSA9IHRoaXM7XG4gICAgaWYgKHBvc2UuYW5pbV9rZXkgIT09IGFuaW1fa2V5KSB7XG4gICAgICBwb3NlLmFuaW1fa2V5ID0gYW5pbV9rZXk7XG4gICAgICBjb25zdCBkYXRhOiBEYXRhID0gcG9zZS5kYXRhO1xuICAgICAgY29uc3QgYW5pbTogQW5pbWF0aW9uID0gZGF0YSAmJiBkYXRhLmFuaW1zW3Bvc2UuYW5pbV9rZXldO1xuICAgICAgaWYgKGFuaW0pIHtcbiAgICAgICAgcG9zZS50aW1lID0gd3JhcChwb3NlLnRpbWUsIGFuaW0ubWluX3RpbWUsIGFuaW0ubWF4X3RpbWUpO1xuICAgICAgfVxuICAgICAgcG9zZS5lbGFwc2VkX3RpbWUgPSAwO1xuICAgICAgcG9zZS5kaXJ0eSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXRUaW1lKCk6IG51bWJlciB7XG4gICAgY29uc3QgcG9zZTogUG9zZSA9IHRoaXM7XG4gICAgcmV0dXJuIHBvc2UudGltZTtcbiAgfVxuICBwdWJsaWMgc2V0VGltZSh0aW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBwb3NlOiBQb3NlID0gdGhpcztcbiAgICBjb25zdCBkYXRhOiBEYXRhID0gcG9zZS5kYXRhO1xuICAgIGNvbnN0IGFuaW06IEFuaW1hdGlvbiA9IGRhdGEgJiYgZGF0YS5hbmltc1twb3NlLmFuaW1fa2V5XTtcbiAgICBpZiAoYW5pbSkge1xuICAgICAgdGltZSA9IHdyYXAodGltZSwgYW5pbS5taW5fdGltZSwgYW5pbS5tYXhfdGltZSk7XG4gICAgfVxuICAgIGlmIChwb3NlLnRpbWUgIT09IHRpbWUpIHtcbiAgICAgIHBvc2UudGltZSA9IHRpbWU7XG4gICAgICBwb3NlLmVsYXBzZWRfdGltZSA9IDA7XG4gICAgICBwb3NlLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHVwZGF0ZShlbGFwc2VkX3RpbWU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBvc2U6IFBvc2UgPSB0aGlzO1xuICAgIHBvc2UuZWxhcHNlZF90aW1lICs9IGVsYXBzZWRfdGltZTtcbiAgICBwb3NlLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuICBwdWJsaWMgc3RyaWtlKCk6IHZvaWQge1xuICAgIGNvbnN0IHBvc2U6IFBvc2UgPSB0aGlzO1xuICAgIGlmICghcG9zZS5kaXJ0eSkgeyByZXR1cm47IH1cbiAgICBwb3NlLmRpcnR5ID0gZmFsc2U7XG5cbiAgICBjb25zdCBkYXRhOiBEYXRhID0gcG9zZS5kYXRhO1xuXG4gICAgY29uc3QgYW5pbTogQW5pbWF0aW9uID0gZGF0YSAmJiBkYXRhLmFuaW1zW3Bvc2UuYW5pbV9rZXldO1xuXG4gICAgY29uc3QgcHJldl90aW1lOiBudW1iZXIgPSBwb3NlLnRpbWU7XG4gICAgY29uc3QgZWxhcHNlZF90aW1lOiBudW1iZXIgPSBwb3NlLmVsYXBzZWRfdGltZTtcblxuICAgIHBvc2UudGltZSA9IHBvc2UudGltZSArIHBvc2UuZWxhcHNlZF90aW1lOyAvLyBhY2N1bXVsYXRlIGVsYXBzZWQgdGltZVxuICAgIHBvc2UuZWxhcHNlZF90aW1lID0gMDsgLy8gcmVzZXQgZWxhcHNlZCB0aW1lIGZvciBuZXh0IHN0cmlrZVxuXG4gICAgbGV0IHdyYXBwZWRfbWluOiBib29sZWFuID0gZmFsc2U7XG4gICAgbGV0IHdyYXBwZWRfbWF4OiBib29sZWFuID0gZmFsc2U7XG4gICAgaWYgKGFuaW0pIHtcbiAgICAgIHdyYXBwZWRfbWluID0gKGVsYXBzZWRfdGltZSA8IDApICYmIChwb3NlLnRpbWUgPD0gYW5pbS5taW5fdGltZSk7XG4gICAgICB3cmFwcGVkX21heCA9IChlbGFwc2VkX3RpbWUgPiAwKSAmJiAocG9zZS50aW1lID49IGFuaW0ubWF4X3RpbWUpO1xuICAgICAgaWYgKHdyYXBwZWRfbWF4KSB7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCgpO1xuICAgICAgfVxuICAgICAgcG9zZS50aW1lID0gd3JhcChwb3NlLnRpbWUsIGFuaW0ubWluX3RpbWUsIGFuaW0ubWF4X3RpbWUpO1xuICAgIH1cblxuICAgIGNvbnN0IHRpbWU6IG51bWJlciA9IHBvc2UudGltZTtcbiAgICBsZXQga2V5ZnJhbWVfaW5kZXg6IG51bWJlcjtcblxuICAgIGRhdGEuYm9uZV9rZXlzLmZvckVhY2goKGJvbmVfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IGRhdGFfYm9uZTogQm9uZSA9IGRhdGEuYm9uZXNbYm9uZV9rZXldO1xuICAgICAgY29uc3QgcG9zZV9ib25lOiBCb25lID0gcG9zZS5ib25lc1tib25lX2tleV0gfHwgKHBvc2UuYm9uZXNbYm9uZV9rZXldID0gbmV3IEJvbmUoKSk7XG5cbiAgICAgIC8vIHN0YXJ0IHdpdGggYSBjb3B5IG9mIHRoZSBkYXRhIGJvbmVcbiAgICAgIHBvc2VfYm9uZS5jb3B5KGRhdGFfYm9uZSk7XG5cbiAgICAgIC8vIHR3ZWVuIGFuaW0gYm9uZSBpZiBrZXlmcmFtZXMgYXJlIGF2YWlsYWJsZVxuICAgICAgY29uc3QgYW5pbV9ib25lOiBBbmltQm9uZSA9IGFuaW0gJiYgYW5pbS5ib25lc1tib25lX2tleV07XG4gICAgICBpZiAoYW5pbV9ib25lKSB7XG4gICAgICAgIGtleWZyYW1lX2luZGV4ID0gS2V5ZnJhbWUuZmluZChhbmltX2JvbmUudHJhbnNsYXRlX2tleWZyYW1lcywgdGltZSk7XG4gICAgICAgIGlmIChrZXlmcmFtZV9pbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBjb25zdCB0cmFuc2xhdGVfa2V5ZnJhbWUwOiBUcmFuc2xhdGVLZXlmcmFtZSA9IGFuaW1fYm9uZS50cmFuc2xhdGVfa2V5ZnJhbWVzW2tleWZyYW1lX2luZGV4XTtcbiAgICAgICAgICBjb25zdCB0cmFuc2xhdGVfa2V5ZnJhbWUxOiBUcmFuc2xhdGVLZXlmcmFtZSA9IGFuaW1fYm9uZS50cmFuc2xhdGVfa2V5ZnJhbWVzW2tleWZyYW1lX2luZGV4ICsgMV07XG4gICAgICAgICAgaWYgKHRyYW5zbGF0ZV9rZXlmcmFtZTEpIHtcbiAgICAgICAgICAgIGNvbnN0IHBjdDogbnVtYmVyID0gdHJhbnNsYXRlX2tleWZyYW1lMC5jdXJ2ZS5ldmFsdWF0ZSgodGltZSAtIHRyYW5zbGF0ZV9rZXlmcmFtZTAudGltZSkgLyAodHJhbnNsYXRlX2tleWZyYW1lMS50aW1lIC0gdHJhbnNsYXRlX2tleWZyYW1lMC50aW1lKSk7XG4gICAgICAgICAgICBwb3NlX2JvbmUubG9jYWxfc3BhY2UucG9zaXRpb24ueCArPSB0d2Vlbih0cmFuc2xhdGVfa2V5ZnJhbWUwLnBvc2l0aW9uLngsIHRyYW5zbGF0ZV9rZXlmcmFtZTEucG9zaXRpb24ueCwgcGN0KTtcbiAgICAgICAgICAgIHBvc2VfYm9uZS5sb2NhbF9zcGFjZS5wb3NpdGlvbi55ICs9IHR3ZWVuKHRyYW5zbGF0ZV9rZXlmcmFtZTAucG9zaXRpb24ueSwgdHJhbnNsYXRlX2tleWZyYW1lMS5wb3NpdGlvbi55LCBwY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NlX2JvbmUubG9jYWxfc3BhY2UucG9zaXRpb24ueCArPSB0cmFuc2xhdGVfa2V5ZnJhbWUwLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBwb3NlX2JvbmUubG9jYWxfc3BhY2UucG9zaXRpb24ueSArPSB0cmFuc2xhdGVfa2V5ZnJhbWUwLnBvc2l0aW9uLnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5ZnJhbWVfaW5kZXggPSBLZXlmcmFtZS5maW5kKGFuaW1fYm9uZS5yb3RhdGVfa2V5ZnJhbWVzLCB0aW1lKTtcbiAgICAgICAgaWYgKGtleWZyYW1lX2luZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGNvbnN0IHJvdGF0ZV9rZXlmcmFtZTA6IFJvdGF0ZUtleWZyYW1lID0gYW5pbV9ib25lLnJvdGF0ZV9rZXlmcmFtZXNba2V5ZnJhbWVfaW5kZXhdO1xuICAgICAgICAgIGNvbnN0IHJvdGF0ZV9rZXlmcmFtZTE6IFJvdGF0ZUtleWZyYW1lID0gYW5pbV9ib25lLnJvdGF0ZV9rZXlmcmFtZXNba2V5ZnJhbWVfaW5kZXggKyAxXTtcbiAgICAgICAgICBpZiAocm90YXRlX2tleWZyYW1lMSkge1xuICAgICAgICAgICAgY29uc3QgcGN0OiBudW1iZXIgPSByb3RhdGVfa2V5ZnJhbWUwLmN1cnZlLmV2YWx1YXRlKCh0aW1lIC0gcm90YXRlX2tleWZyYW1lMC50aW1lKSAvIChyb3RhdGVfa2V5ZnJhbWUxLnRpbWUgLSByb3RhdGVfa2V5ZnJhbWUwLnRpbWUpKTtcbiAgICAgICAgICAgIHBvc2VfYm9uZS5sb2NhbF9zcGFjZS5yb3RhdGlvbi5yYWQgKz0gdHdlZW5BbmdsZShyb3RhdGVfa2V5ZnJhbWUwLnJvdGF0aW9uLnJhZCwgcm90YXRlX2tleWZyYW1lMS5yb3RhdGlvbi5yYWQsIHBjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvc2VfYm9uZS5sb2NhbF9zcGFjZS5yb3RhdGlvbi5yYWQgKz0gcm90YXRlX2tleWZyYW1lMC5yb3RhdGlvbi5yYWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5ZnJhbWVfaW5kZXggPSBLZXlmcmFtZS5maW5kKGFuaW1fYm9uZS5zY2FsZV9rZXlmcmFtZXMsIHRpbWUpO1xuICAgICAgICBpZiAoa2V5ZnJhbWVfaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgY29uc3Qgc2NhbGVfa2V5ZnJhbWUwOiBTY2FsZUtleWZyYW1lID0gYW5pbV9ib25lLnNjYWxlX2tleWZyYW1lc1trZXlmcmFtZV9pbmRleF07XG4gICAgICAgICAgY29uc3Qgc2NhbGVfa2V5ZnJhbWUxOiBTY2FsZUtleWZyYW1lID0gYW5pbV9ib25lLnNjYWxlX2tleWZyYW1lc1trZXlmcmFtZV9pbmRleCArIDFdO1xuICAgICAgICAgIGlmIChzY2FsZV9rZXlmcmFtZTEpIHtcbiAgICAgICAgICAgIGNvbnN0IHBjdDogbnVtYmVyID0gc2NhbGVfa2V5ZnJhbWUwLmN1cnZlLmV2YWx1YXRlKCh0aW1lIC0gc2NhbGVfa2V5ZnJhbWUwLnRpbWUpIC8gKHNjYWxlX2tleWZyYW1lMS50aW1lIC0gc2NhbGVfa2V5ZnJhbWUwLnRpbWUpKTtcbiAgICAgICAgICAgIHBvc2VfYm9uZS5sb2NhbF9zcGFjZS5zY2FsZS54ICs9IHR3ZWVuKHNjYWxlX2tleWZyYW1lMC5zY2FsZS54LCBzY2FsZV9rZXlmcmFtZTEuc2NhbGUueCwgcGN0KSAtIDE7XG4gICAgICAgICAgICBwb3NlX2JvbmUubG9jYWxfc3BhY2Uuc2NhbGUueSArPSB0d2VlbihzY2FsZV9rZXlmcmFtZTAuc2NhbGUueSwgc2NhbGVfa2V5ZnJhbWUxLnNjYWxlLnksIHBjdCkgLSAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NlX2JvbmUubG9jYWxfc3BhY2Uuc2NhbGUueCArPSBzY2FsZV9rZXlmcmFtZTAuc2NhbGUueCAtIDE7XG4gICAgICAgICAgICBwb3NlX2JvbmUubG9jYWxfc3BhY2Uuc2NhbGUueSArPSBzY2FsZV9rZXlmcmFtZTAuc2NhbGUueSAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBwb3NlLmJvbmVfa2V5cyA9IGRhdGEuYm9uZV9rZXlzO1xuXG4gICAgLy8gaWsgY29uc3RyYWludHNcblxuICAgIGRhdGEuaWtjX2tleXMuZm9yRWFjaCgoaWtjX2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBmdW5jdGlvbiBjbGFtcChuOiBudW1iZXIsIGxvOiBudW1iZXIsIGhpOiBudW1iZXIpOiBudW1iZXIgeyByZXR1cm4gKG4gPCBsbykgPyBsbyA6ICgobiA+IGhpKSA/IGhpIDogbik7IH1cblxuICAgICAgY29uc3QgaWtjOiBJa2MgPSBkYXRhLmlrY3NbaWtjX2tleV07XG4gICAgICBsZXQgaWtjX21peDogbnVtYmVyID0gaWtjLm1peDtcbiAgICAgIGxldCBpa2NfYmVuZF9wb3NpdGl2ZTogYm9vbGVhbiA9IGlrYy5iZW5kX3Bvc2l0aXZlO1xuXG4gICAgICBjb25zdCBhbmltX2lrYzogQW5pbUlrYyA9IGFuaW0gJiYgYW5pbS5pa2NzW2lrY19rZXldO1xuICAgICAgaWYgKGFuaW1faWtjKSB7XG4gICAgICAgIGtleWZyYW1lX2luZGV4ID0gS2V5ZnJhbWUuZmluZChhbmltX2lrYy5pa2Nfa2V5ZnJhbWVzLCB0aW1lKTtcbiAgICAgICAgaWYgKGtleWZyYW1lX2luZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGNvbnN0IGlrY19rZXlmcmFtZTA6IElrY0tleWZyYW1lID0gYW5pbV9pa2MuaWtjX2tleWZyYW1lc1trZXlmcmFtZV9pbmRleF07XG4gICAgICAgICAgY29uc3QgaWtjX2tleWZyYW1lMTogSWtjS2V5ZnJhbWUgPSBhbmltX2lrYy5pa2Nfa2V5ZnJhbWVzW2tleWZyYW1lX2luZGV4ICsgMV07XG4gICAgICAgICAgaWYgKGlrY19rZXlmcmFtZTEpIHtcbiAgICAgICAgICAgIGNvbnN0IHBjdDogbnVtYmVyID0gaWtjX2tleWZyYW1lMC5jdXJ2ZS5ldmFsdWF0ZSgodGltZSAtIGlrY19rZXlmcmFtZTAudGltZSkgLyAoaWtjX2tleWZyYW1lMS50aW1lIC0gaWtjX2tleWZyYW1lMC50aW1lKSk7XG4gICAgICAgICAgICBpa2NfbWl4ID0gdHdlZW4oaWtjX2tleWZyYW1lMC5taXgsIGlrY19rZXlmcmFtZTEubWl4LCBwY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpa2NfbWl4ID0gaWtjX2tleWZyYW1lMC5taXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG5vIHR3ZWVuaW5nIGlrIGJlbmQgZGlyZWN0aW9uXG4gICAgICAgICAgaWtjX2JlbmRfcG9zaXRpdmUgPSBpa2Nfa2V5ZnJhbWUwLmJlbmRfcG9zaXRpdmU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0OiBCb25lID0gcG9zZS5ib25lc1tpa2MudGFyZ2V0X2tleV07XG4gICAgICBCb25lLmZsYXR0ZW4odGFyZ2V0LCBwb3NlLmJvbmVzKTtcbiAgICAgIGxldCB0YXJnZXRfeDogbnVtYmVyID0gdGFyZ2V0LndvcmxkX3NwYWNlLnBvc2l0aW9uLng7XG4gICAgICBsZXQgdGFyZ2V0X3k6IG51bWJlciA9IHRhcmdldC53b3JsZF9zcGFjZS5wb3NpdGlvbi55O1xuICAgICAgY29uc3QgYWxwaGE6IG51bWJlciA9IGlrY19taXg7XG4gICAgICBjb25zdCBiZW5kX2RpcmVjdGlvbjogbnVtYmVyID0gaWtjX2JlbmRfcG9zaXRpdmUgPyAxIDogLTE7XG5cbiAgICAgIGlmIChhbHBoYSA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgICAgc3dpdGNoIChpa2MuYm9uZV9rZXlzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgY29uc3QgYm9uZTogQm9uZSA9IHBvc2UuYm9uZXNbaWtjLmJvbmVfa2V5c1swXV07XG4gICAgICAgICAgQm9uZS5mbGF0dGVuKGJvbmUsIHBvc2UuYm9uZXMpO1xuICAgICAgICAgIGxldCBwYXJlbnRfcm90YXRpb246IG51bWJlciA9IDA7XG4gICAgICAgICAgY29uc3QgYm9uZV9wYXJlbnQ6IEJvbmUgPSBwb3NlLmJvbmVzW2JvbmUucGFyZW50X2tleV07XG4gICAgICAgICAgaWYgKGJvbmVfcGFyZW50ICYmIGJvbmUuaW5oZXJpdF9yb3RhdGlvbikge1xuICAgICAgICAgICAgQm9uZS5mbGF0dGVuKGJvbmVfcGFyZW50LCBwb3NlLmJvbmVzKTtcbiAgICAgICAgICAgIHBhcmVudF9yb3RhdGlvbiA9IGJvbmVfcGFyZW50LndvcmxkX3NwYWNlLnJvdGF0aW9uLnJhZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGFyZ2V0X3ggLT0gYm9uZS53b3JsZF9zcGFjZS5wb3NpdGlvbi54O1xuICAgICAgICAgIHRhcmdldF95IC09IGJvbmUud29ybGRfc3BhY2UucG9zaXRpb24ueTtcbiAgICAgICAgICBib25lLmxvY2FsX3NwYWNlLnJvdGF0aW9uLnJhZCA9IHR3ZWVuQW5nbGUoYm9uZS5sb2NhbF9zcGFjZS5yb3RhdGlvbi5yYWQsIE1hdGguYXRhbjIodGFyZ2V0X3ksIHRhcmdldF94KSAtIHBhcmVudF9yb3RhdGlvbiwgYWxwaGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgY29uc3QgcGFyZW50OiBCb25lID0gcG9zZS5ib25lc1tpa2MuYm9uZV9rZXlzWzBdXTtcbiAgICAgICAgICBCb25lLmZsYXR0ZW4ocGFyZW50LCBwb3NlLmJvbmVzKTtcbiAgICAgICAgICBjb25zdCBjaGlsZDogQm9uZSA9IHBvc2UuYm9uZXNbaWtjLmJvbmVfa2V5c1sxXV07XG4gICAgICAgICAgQm9uZS5mbGF0dGVuKGNoaWxkLCBwb3NlLmJvbmVzKTtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvbjogVmVjdG9yID0gbmV3IFZlY3RvcigpO1xuICAgICAgICAgIGNvbnN0IHBhcmVudF9wYXJlbnQ6IEJvbmUgPSBwb3NlLmJvbmVzW3BhcmVudC5wYXJlbnRfa2V5XTtcbiAgICAgICAgICBpZiAocGFyZW50X3BhcmVudCkge1xuICAgICAgICAgICAgcG9zaXRpb24ueCA9IHRhcmdldF94O1xuICAgICAgICAgICAgcG9zaXRpb24ueSA9IHRhcmdldF95O1xuICAgICAgICAgICAgQm9uZS5mbGF0dGVuKHBhcmVudF9wYXJlbnQsIHBvc2UuYm9uZXMpO1xuICAgICAgICAgICAgU3BhY2UudW50cmFuc2Zvcm0ocGFyZW50X3BhcmVudC53b3JsZF9zcGFjZSwgcG9zaXRpb24sIHBvc2l0aW9uKTsgLy8gd29ybGQgdG8gbG9jYWxcbiAgICAgICAgICAgIHRhcmdldF94ID0gKHBvc2l0aW9uLnggLSBwYXJlbnQubG9jYWxfc3BhY2UucG9zaXRpb24ueCkgKiBwYXJlbnRfcGFyZW50LndvcmxkX3NwYWNlLnNjYWxlLng7XG4gICAgICAgICAgICB0YXJnZXRfeSA9IChwb3NpdGlvbi55IC0gcGFyZW50LmxvY2FsX3NwYWNlLnBvc2l0aW9uLnkpICogcGFyZW50X3BhcmVudC53b3JsZF9zcGFjZS5zY2FsZS55O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRfeCAtPSBwYXJlbnQubG9jYWxfc3BhY2UucG9zaXRpb24ueDtcbiAgICAgICAgICAgIHRhcmdldF95IC09IHBhcmVudC5sb2NhbF9zcGFjZS5wb3NpdGlvbi55O1xuICAgICAgICAgIH1cbiAgICAgICAgICBwb3NpdGlvbi5jb3B5KGNoaWxkLmxvY2FsX3NwYWNlLnBvc2l0aW9uKTtcbiAgICAgICAgICBjb25zdCBjaGlsZF9wYXJlbnQ6IEJvbmUgPSBwb3NlLmJvbmVzW2NoaWxkLnBhcmVudF9rZXldO1xuICAgICAgICAgIGlmIChjaGlsZF9wYXJlbnQgIT09IHBhcmVudCkge1xuICAgICAgICAgICAgQm9uZS5mbGF0dGVuKGNoaWxkX3BhcmVudCwgcG9zZS5ib25lcyk7XG4gICAgICAgICAgICBTcGFjZS50cmFuc2Zvcm0oY2hpbGRfcGFyZW50LndvcmxkX3NwYWNlLCBwb3NpdGlvbiwgcG9zaXRpb24pOyAvLyBsb2NhbCB0byB3b3JsZFxuICAgICAgICAgICAgU3BhY2UudW50cmFuc2Zvcm0ocGFyZW50LndvcmxkX3NwYWNlLCBwb3NpdGlvbiwgcG9zaXRpb24pOyAvLyB3b3JsZCB0byBsb2NhbFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjaGlsZF94OiBudW1iZXIgPSBwb3NpdGlvbi54ICogcGFyZW50LndvcmxkX3NwYWNlLnNjYWxlLng7XG4gICAgICAgICAgY29uc3QgY2hpbGRfeTogbnVtYmVyID0gcG9zaXRpb24ueSAqIHBhcmVudC53b3JsZF9zcGFjZS5zY2FsZS55O1xuICAgICAgICAgIGNvbnN0IG9mZnNldDogbnVtYmVyID0gTWF0aC5hdGFuMihjaGlsZF95LCBjaGlsZF94KTtcbiAgICAgICAgICBjb25zdCBsZW4xOiBudW1iZXIgPSBNYXRoLnNxcnQoY2hpbGRfeCAqIGNoaWxkX3ggKyBjaGlsZF95ICogY2hpbGRfeSk7XG4gICAgICAgICAgY29uc3QgbGVuMjogbnVtYmVyID0gY2hpbGQubGVuZ3RoICogY2hpbGQud29ybGRfc3BhY2Uuc2NhbGUueDtcbiAgICAgICAgICBjb25zdCBjb3NfZGVub206IG51bWJlciA9IDIgKiBsZW4xICogbGVuMjtcbiAgICAgICAgICBpZiAoY29zX2Rlbm9tIDwgMC4wMDAxKSB7XG4gICAgICAgICAgICBjaGlsZC5sb2NhbF9zcGFjZS5yb3RhdGlvbi5yYWQgPSB0d2VlbkFuZ2xlKGNoaWxkLmxvY2FsX3NwYWNlLnJvdGF0aW9uLnJhZCwgTWF0aC5hdGFuMih0YXJnZXRfeSwgdGFyZ2V0X3gpIC0gcGFyZW50LmxvY2FsX3NwYWNlLnJvdGF0aW9uLnJhZCwgYWxwaGEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjb3M6IG51bWJlciA9IGNsYW1wKCh0YXJnZXRfeCAqIHRhcmdldF94ICsgdGFyZ2V0X3kgKiB0YXJnZXRfeSAtIGxlbjEgKiBsZW4xIC0gbGVuMiAqIGxlbjIpIC8gY29zX2Rlbm9tLCAtMSwgMSk7XG4gICAgICAgICAgY29uc3QgcmFkOiBudW1iZXIgPSBNYXRoLmFjb3MoY29zKSAqIGJlbmRfZGlyZWN0aW9uO1xuICAgICAgICAgIGNvbnN0IHNpbjogbnVtYmVyID0gTWF0aC5zaW4ocmFkKTtcbiAgICAgICAgICBjb25zdCBhZGphY2VudDogbnVtYmVyID0gbGVuMiAqIGNvcyArIGxlbjE7XG4gICAgICAgICAgY29uc3Qgb3Bwb3NpdGU6IG51bWJlciA9IGxlbjIgKiBzaW47XG4gICAgICAgICAgY29uc3QgcGFyZW50X2FuZ2xlOiBudW1iZXIgPSBNYXRoLmF0YW4yKHRhcmdldF95ICogYWRqYWNlbnQgLSB0YXJnZXRfeCAqIG9wcG9zaXRlLCB0YXJnZXRfeCAqIGFkamFjZW50ICsgdGFyZ2V0X3kgKiBvcHBvc2l0ZSk7XG4gICAgICAgICAgcGFyZW50LmxvY2FsX3NwYWNlLnJvdGF0aW9uLnJhZCA9IHR3ZWVuQW5nbGUocGFyZW50LmxvY2FsX3NwYWNlLnJvdGF0aW9uLnJhZCwgKHBhcmVudF9hbmdsZSAtIG9mZnNldCksIGFscGhhKTtcbiAgICAgICAgICBsZXQgY2hpbGRfYW5nbGU6IG51bWJlciA9IHJhZDtcbiAgICAgICAgICBpZiAoY2hpbGRfcGFyZW50ICE9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkX2FuZ2xlICs9IHBhcmVudC53b3JsZF9zcGFjZS5yb3RhdGlvbi5yYWQgLSBjaGlsZF9wYXJlbnQud29ybGRfc3BhY2Uucm90YXRpb24ucmFkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGlsZC5sb2NhbF9zcGFjZS5yb3RhdGlvbi5yYWQgPSB0d2VlbkFuZ2xlKGNoaWxkLmxvY2FsX3NwYWNlLnJvdGF0aW9uLnJhZCwgKGNoaWxkX2FuZ2xlICsgb2Zmc2V0KSwgYWxwaGEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcG9zZS5pdGVyYXRlQm9uZXMoKGJvbmVfa2V5OiBzdHJpbmcsIGJvbmU6IEJvbmUpOiB2b2lkID0+IHtcbiAgICAgIEJvbmUuZmxhdHRlbihib25lLCBwb3NlLmJvbmVzKTtcbiAgICB9KTtcblxuICAgIGRhdGEuc2xvdF9rZXlzLmZvckVhY2goKHNsb3Rfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IGRhdGFfc2xvdDogU2xvdCA9IGRhdGEuc2xvdHNbc2xvdF9rZXldO1xuICAgICAgY29uc3QgcG9zZV9zbG90OiBTbG90ID0gcG9zZS5zbG90c1tzbG90X2tleV0gfHwgKHBvc2Uuc2xvdHNbc2xvdF9rZXldID0gbmV3IFNsb3QoKSk7XG5cbiAgICAgIC8vIHN0YXJ0IHdpdGggYSBjb3B5IG9mIHRoZSBkYXRhIHNsb3RcbiAgICAgIHBvc2Vfc2xvdC5jb3B5KGRhdGFfc2xvdCk7XG5cbiAgICAgIC8vIHR3ZWVuIGFuaW0gc2xvdCBpZiBrZXlmcmFtZXMgYXJlIGF2YWlsYWJsZVxuICAgICAgY29uc3QgYW5pbV9zbG90OiBBbmltU2xvdCA9IGFuaW0gJiYgYW5pbS5zbG90c1tzbG90X2tleV07XG4gICAgICBpZiAoYW5pbV9zbG90KSB7XG4gICAgICAgIGtleWZyYW1lX2luZGV4ID0gS2V5ZnJhbWUuZmluZChhbmltX3Nsb3QuY29sb3Jfa2V5ZnJhbWVzLCB0aW1lKTtcbiAgICAgICAgaWYgKGtleWZyYW1lX2luZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGNvbnN0IGNvbG9yX2tleWZyYW1lMDogQ29sb3JLZXlmcmFtZSA9IGFuaW1fc2xvdC5jb2xvcl9rZXlmcmFtZXNba2V5ZnJhbWVfaW5kZXhdO1xuICAgICAgICAgIGNvbnN0IGNvbG9yX2tleWZyYW1lMTogQ29sb3JLZXlmcmFtZSA9IGFuaW1fc2xvdC5jb2xvcl9rZXlmcmFtZXNba2V5ZnJhbWVfaW5kZXggKyAxXTtcbiAgICAgICAgICBpZiAoY29sb3Jfa2V5ZnJhbWUxKSB7XG4gICAgICAgICAgICBjb25zdCBwY3Q6IG51bWJlciA9IGNvbG9yX2tleWZyYW1lMC5jdXJ2ZS5ldmFsdWF0ZSgodGltZSAtIGNvbG9yX2tleWZyYW1lMC50aW1lKSAvIChjb2xvcl9rZXlmcmFtZTEudGltZSAtIGNvbG9yX2tleWZyYW1lMC50aW1lKSk7XG4gICAgICAgICAgICBwb3NlX3Nsb3QuY29sb3IuciA9IHR3ZWVuKGNvbG9yX2tleWZyYW1lMC5jb2xvci5yLCBjb2xvcl9rZXlmcmFtZTEuY29sb3IuciwgcGN0KTtcbiAgICAgICAgICAgIHBvc2Vfc2xvdC5jb2xvci5nID0gdHdlZW4oY29sb3Jfa2V5ZnJhbWUwLmNvbG9yLmcsIGNvbG9yX2tleWZyYW1lMS5jb2xvci5nLCBwY3QpO1xuICAgICAgICAgICAgcG9zZV9zbG90LmNvbG9yLmIgPSB0d2Vlbihjb2xvcl9rZXlmcmFtZTAuY29sb3IuYiwgY29sb3Jfa2V5ZnJhbWUxLmNvbG9yLmIsIHBjdCk7XG4gICAgICAgICAgICBwb3NlX3Nsb3QuY29sb3IuYSA9IHR3ZWVuKGNvbG9yX2tleWZyYW1lMC5jb2xvci5hLCBjb2xvcl9rZXlmcmFtZTEuY29sb3IuYSwgcGN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zZV9zbG90LmNvbG9yLnIgPSBjb2xvcl9rZXlmcmFtZTAuY29sb3IucjtcbiAgICAgICAgICAgIHBvc2Vfc2xvdC5jb2xvci5nID0gY29sb3Jfa2V5ZnJhbWUwLmNvbG9yLmc7XG4gICAgICAgICAgICBwb3NlX3Nsb3QuY29sb3IuYiA9IGNvbG9yX2tleWZyYW1lMC5jb2xvci5iO1xuICAgICAgICAgICAgcG9zZV9zbG90LmNvbG9yLmEgPSBjb2xvcl9rZXlmcmFtZTAuY29sb3IuYTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBrZXlmcmFtZV9pbmRleCA9IEtleWZyYW1lLmZpbmQoYW5pbV9zbG90LmF0dGFjaG1lbnRfa2V5ZnJhbWVzLCB0aW1lKTtcbiAgICAgICAgaWYgKGtleWZyYW1lX2luZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGNvbnN0IGF0dGFjaG1lbnRfa2V5ZnJhbWUwOiBBdHRhY2htZW50S2V5ZnJhbWUgPSBhbmltX3Nsb3QuYXR0YWNobWVudF9rZXlmcmFtZXNba2V5ZnJhbWVfaW5kZXhdO1xuICAgICAgICAgIC8vIG5vIHR3ZWVuaW5nIGF0dGFjaG1lbnRzXG4gICAgICAgICAgcG9zZV9zbG90LmF0dGFjaG1lbnRfa2V5ID0gYXR0YWNobWVudF9rZXlmcmFtZTAubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcG9zZS5zbG90X2tleXMgPSBkYXRhLnNsb3Rfa2V5cztcblxuICAgIGlmIChhbmltKSB7XG4gICAgICBrZXlmcmFtZV9pbmRleCA9IEtleWZyYW1lLmZpbmQoYW5pbS5vcmRlcl9rZXlmcmFtZXMsIHRpbWUpO1xuICAgICAgaWYgKGtleWZyYW1lX2luZGV4ICE9PSAtMSkge1xuICAgICAgICBjb25zdCBvcmRlcl9rZXlmcmFtZTogT3JkZXJLZXlmcmFtZSA9IGFuaW0ub3JkZXJfa2V5ZnJhbWVzW2tleWZyYW1lX2luZGV4XTtcbiAgICAgICAgcG9zZS5zbG90X2tleXMgPSBkYXRhLnNsb3Rfa2V5cy5zbGljZSgwKTsgLy8gY29weSBhcnJheSBiZWZvcmUgcmVvcmRlcmluZ1xuICAgICAgICBvcmRlcl9rZXlmcmFtZS5zbG90X29mZnNldHMuZm9yRWFjaCgoc2xvdF9vZmZzZXQ6IFNsb3RPZmZzZXQpOiB2b2lkID0+IHtcbiAgICAgICAgICBjb25zdCBzbG90X2luZGV4OiBudW1iZXIgPSBwb3NlLnNsb3Rfa2V5cy5pbmRleE9mKHNsb3Rfb2Zmc2V0LnNsb3Rfa2V5KTtcbiAgICAgICAgICBpZiAoc2xvdF9pbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBvbGQgcG9zaXRpb25cbiAgICAgICAgICAgIHBvc2Uuc2xvdF9rZXlzLnNwbGljZShzbG90X2luZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIGluc2VydCBuZXcgcG9zaXRpb25cbiAgICAgICAgICAgIHBvc2Uuc2xvdF9rZXlzLnNwbGljZShzbG90X2luZGV4ICsgc2xvdF9vZmZzZXQub2Zmc2V0LCAwLCBzbG90X29mZnNldC5zbG90X2tleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwb3NlLmV2ZW50cy5sZW5ndGggPSAwO1xuXG4gICAgaWYgKGFuaW0gJiYgYW5pbS5ldmVudF9rZXlmcmFtZXMpIHtcbiAgICAgIGNvbnN0IGFkZF9ldmVudCA9IGZ1bmN0aW9uIChldmVudF9rZXlmcmFtZTogRXZlbnRLZXlmcmFtZSk6IHZvaWQge1xuICAgICAgICBjb25zdCBwb3NlX2V2ZW50OiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgICAgICBjb25zdCBkYXRhX2V2ZW50OiBFdmVudCA9IGRhdGEuZXZlbnRzW2V2ZW50X2tleWZyYW1lLm5hbWVdO1xuICAgICAgICBpZiAoZGF0YV9ldmVudCkge1xuICAgICAgICAgIHBvc2VfZXZlbnQuY29weShkYXRhX2V2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBwb3NlX2V2ZW50LmludF92YWx1ZSA9IGV2ZW50X2tleWZyYW1lLmludF92YWx1ZSB8fCBwb3NlX2V2ZW50LmludF92YWx1ZTtcbiAgICAgICAgcG9zZV9ldmVudC5mbG9hdF92YWx1ZSA9IGV2ZW50X2tleWZyYW1lLmZsb2F0X3ZhbHVlIHx8IHBvc2VfZXZlbnQuZmxvYXRfdmFsdWU7XG4gICAgICAgIHBvc2VfZXZlbnQuc3RyaW5nX3ZhbHVlID0gZXZlbnRfa2V5ZnJhbWUuc3RyaW5nX3ZhbHVlIHx8IHBvc2VfZXZlbnQuc3RyaW5nX3ZhbHVlO1xuICAgICAgICBwb3NlLmV2ZW50cy5wdXNoKHBvc2VfZXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgaWYgKGVsYXBzZWRfdGltZSA8IDApIHtcbiAgICAgICAgaWYgKHdyYXBwZWRfbWluKSB7XG4gICAgICAgICAgLy8gbWluICAgIHByZXZfdGltZSAgICAgICAgICAgdGltZSAgICAgIG1heFxuICAgICAgICAgIC8vICB8ICAgICAgICAgfCAgICAgICAgICAgICAgICB8ICAgICAgICAgfFxuICAgICAgICAgIC8vICAtLS0tLS0tLS0teCAgICAgICAgICAgICAgICBvPC0tLS0tLS0tLVxuICAgICAgICAgIC8vIGFsbCBldmVudHMgYmV0d2VlbiBtaW5fdGltZSBhbmQgcHJldl90aW1lLCBub3QgaW5jbHVkaW5nIHByZXZfdGltZVxuICAgICAgICAgIC8vIGFsbCBldmVudHMgYmV0d2VlbiBtYXhfdGltZSBhbmQgdGltZVxuICAgICAgICAgIGFuaW0uZXZlbnRfa2V5ZnJhbWVzLmZvckVhY2goKGV2ZW50X2tleWZyYW1lOiBFdmVudEtleWZyYW1lKTogdm9pZCA9PiB7XG4gICAgICAgICAgICBpZiAoKChhbmltLm1pbl90aW1lIDw9IGV2ZW50X2tleWZyYW1lLnRpbWUpICYmIChldmVudF9rZXlmcmFtZS50aW1lIDwgcHJldl90aW1lKSkgfHxcbiAgICAgICAgICAgICAgKCh0aW1lIDw9IGV2ZW50X2tleWZyYW1lLnRpbWUpICYmIChldmVudF9rZXlmcmFtZS50aW1lIDw9IGFuaW0ubWF4X3RpbWUpKSkge1xuICAgICAgICAgICAgICBhZGRfZXZlbnQoZXZlbnRfa2V5ZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG1pbiAgICAgICB0aW1lICAgICAgICAgIHByZXZfdGltZSAgICBtYXhcbiAgICAgICAgICAvLyAgfCAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgIHxcbiAgICAgICAgICAvLyAgICAgICAgICAgIG88LS0tLS0tLS0tLS0tLS0teFxuICAgICAgICAgIC8vIGFsbCBldmVudHMgYmV0d2VlbiB0aW1lIGFuZCBwcmV2X3RpbWUsIG5vdCBpbmNsdWRpbmcgcHJldl90aW1lXG4gICAgICAgICAgYW5pbS5ldmVudF9rZXlmcmFtZXMuZm9yRWFjaCgoZXZlbnRfa2V5ZnJhbWU6IEV2ZW50S2V5ZnJhbWUpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGlmICgodGltZSA8PSBldmVudF9rZXlmcmFtZS50aW1lKSAmJiAoZXZlbnRfa2V5ZnJhbWUudGltZSA8IHByZXZfdGltZSkpIHtcbiAgICAgICAgICAgICAgYWRkX2V2ZW50KGV2ZW50X2tleWZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHdyYXBwZWRfbWF4KSB7XG4gICAgICAgICAgLy8gbWluICAgICAgIHRpbWUgICAgICAgICAgcHJldl90aW1lICAgIG1heFxuICAgICAgICAgIC8vICB8ICAgICAgICAgfCAgICAgICAgICAgICAgICB8ICAgICAgICAgfFxuICAgICAgICAgIC8vICAtLS0tLS0tLS0+byAgICAgICAgICAgICAgICB4LS0tLS0tLS0tLVxuICAgICAgICAgIC8vIGFsbCBldmVudHMgYmV0d2VlbiBwcmV2X3RpbWUgYW5kIG1heF90aW1lLCBub3QgaW5jbHVkaW5nIHByZXZfdGltZVxuICAgICAgICAgIC8vIGFsbCBldmVudHMgYmV0d2VlbiBtaW5fdGltZSBhbmQgdGltZVxuICAgICAgICAgIGFuaW0uZXZlbnRfa2V5ZnJhbWVzLmZvckVhY2goKGV2ZW50X2tleWZyYW1lOiBFdmVudEtleWZyYW1lKTogdm9pZCA9PiB7XG4gICAgICAgICAgICBpZiAoKChhbmltLm1pbl90aW1lIDw9IGV2ZW50X2tleWZyYW1lLnRpbWUpICYmIChldmVudF9rZXlmcmFtZS50aW1lIDw9IHRpbWUpKSB8fFxuICAgICAgICAgICAgICAoKHByZXZfdGltZSA8IGV2ZW50X2tleWZyYW1lLnRpbWUpICYmIChldmVudF9rZXlmcmFtZS50aW1lIDw9IGFuaW0ubWF4X3RpbWUpKSkge1xuICAgICAgICAgICAgICBhZGRfZXZlbnQoZXZlbnRfa2V5ZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG1pbiAgICBwcmV2X3RpbWUgICAgICAgICAgIHRpbWUgICAgICBtYXhcbiAgICAgICAgICAvLyAgfCAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgIHxcbiAgICAgICAgICAvLyAgICAgICAgICAgIHgtLS0tLS0tLS0tLS0tLS0+b1xuICAgICAgICAgIC8vIGFsbCBldmVudHMgYmV0d2VlbiBwcmV2X3RpbWUgYW5kIHRpbWUsIG5vdCBpbmNsdWRpbmcgcHJldl90aW1lXG4gICAgICAgICAgYW5pbS5ldmVudF9rZXlmcmFtZXMuZm9yRWFjaCgoZXZlbnRfa2V5ZnJhbWU6IEV2ZW50S2V5ZnJhbWUpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIGlmICgocHJldl90aW1lIDwgZXZlbnRfa2V5ZnJhbWUudGltZSkgJiYgKGV2ZW50X2tleWZyYW1lLnRpbWUgPD0gdGltZSkpIHtcbiAgICAgICAgICAgICAgYWRkX2V2ZW50KGV2ZW50X2tleWZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpdGVyYXRlQm9uZXMoY2FsbGJhY2s6IChib25lX2tleTogc3RyaW5nLCBib25lOiBCb25lKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3QgcG9zZTogUG9zZSA9IHRoaXM7XG4gICAgcG9zZS5ib25lX2tleXMuZm9yRWFjaCgoYm9uZV9rZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgYm9uZTogQm9uZSA9IHBvc2UuYm9uZXNbYm9uZV9rZXldO1xuICAgICAgY2FsbGJhY2soYm9uZV9rZXksIGJvbmUpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGl0ZXJhdGVBdHRhY2htZW50cyhjYWxsYmFjazogKHNsb3Rfa2V5OiBzdHJpbmcsIHBvc2Vfc2xvdDogU2xvdCwgc2tpbl9zbG90OiBTa2luU2xvdCwgYXR0YWNobWVudF9rZXk6IHN0cmluZywgYXR0YWNobWVudDogQXR0YWNobWVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNvbnN0IHBvc2U6IFBvc2UgPSB0aGlzO1xuICAgIGNvbnN0IGRhdGE6IERhdGEgPSBwb3NlLmRhdGE7XG4gICAgY29uc3Qgc2tpbjogU2tpbiA9IGRhdGEgJiYgZGF0YS5za2luc1twb3NlLnNraW5fa2V5XTtcbiAgICBjb25zdCBkZWZhdWx0X3NraW46IFNraW4gPSBkYXRhICYmIGRhdGEuc2tpbnNbXCJkZWZhdWx0XCJdO1xuICAgIHBvc2Uuc2xvdF9rZXlzLmZvckVhY2goKHNsb3Rfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IHBvc2Vfc2xvdDogU2xvdCA9IHBvc2Uuc2xvdHNbc2xvdF9rZXldO1xuICAgICAgY29uc3Qgc2tpbl9zbG90OiBTa2luU2xvdCA9IHNraW4gJiYgKHNraW4uc2xvdHNbc2xvdF9rZXldIHx8IGRlZmF1bHRfc2tpbi5zbG90c1tzbG90X2tleV0pO1xuICAgICAgY29uc3QgYXR0YWNobWVudDogQXR0YWNobWVudCA9IHNraW5fc2xvdCAmJiBza2luX3Nsb3QuYXR0YWNobWVudHNbcG9zZV9zbG90LmF0dGFjaG1lbnRfa2V5XTtcbiAgICAgIGNvbnN0IGF0dGFjaG1lbnRfa2V5OiBzdHJpbmcgPSAoYXR0YWNobWVudCAmJiAoYXR0YWNobWVudC5wYXRoIHx8IGF0dGFjaG1lbnQubmFtZSkpIHx8IHBvc2Vfc2xvdC5hdHRhY2htZW50X2tleTtcbiAgICAgIGNhbGxiYWNrKHNsb3Rfa2V5LCBwb3NlX3Nsb3QsIHNraW5fc2xvdCwgYXR0YWNobWVudF9rZXksIGF0dGFjaG1lbnQpO1xuICAgIH0pO1xuICB9XG59XG4iLCJmdW5jdGlvbiB0cmltKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2Uge1xuICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJcIjtcbiAgcHVibGljIHc6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBoOiBudW1iZXIgPSAwO1xuICBwdWJsaWMgZm9ybWF0OiBzdHJpbmcgPSAnUkdCQTg4ODgnO1xuICBwdWJsaWMgbWluX2ZpbHRlcjogc3RyaW5nID0gJ2xpbmVhcic7XG4gIHB1YmxpYyBtYWdfZmlsdGVyOiBzdHJpbmcgPSAnbGluZWFyJztcbiAgcHVibGljIHdyYXBfczogc3RyaW5nID0gJ2NsYW1wLXRvLWVkZ2UnO1xuICBwdWJsaWMgd3JhcF90OiBzdHJpbmcgPSAnY2xhbXAtdG8tZWRnZSc7XG59XG5cbmV4cG9ydCBjbGFzcyBTaXRlIHtcbiAgcHVibGljIHBhZ2U6IFBhZ2UgPSBudWxsO1xuICBwdWJsaWMgeDogbnVtYmVyID0gMDtcbiAgcHVibGljIHk6IG51bWJlciA9IDA7XG4gIHB1YmxpYyB3OiBudW1iZXIgPSAwO1xuICBwdWJsaWMgaDogbnVtYmVyID0gMDtcbiAgcHVibGljIHJvdGF0ZTogbnVtYmVyID0gMDtcbiAgcHVibGljIG9mZnNldF94OiBudW1iZXIgPSAwO1xuICBwdWJsaWMgb2Zmc2V0X3k6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBvcmlnaW5hbF93OiBudW1iZXIgPSAwO1xuICBwdWJsaWMgb3JpZ2luYWxfaDogbnVtYmVyID0gMDtcbiAgcHVibGljIGluZGV4OiBudW1iZXIgPSAtMTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGEge1xuICBwdWJsaWMgcGFnZXM6IFBhZ2VbXSA9IFtdO1xuICBwdWJsaWMgc2l0ZXM6IHtba2V5OiBzdHJpbmddOiBTaXRlfSA9IHt9O1xuICBwdWJsaWMgZHJvcCgpOiBEYXRhIHtcbiAgICBjb25zdCBkYXRhOiBEYXRhID0gdGhpcztcbiAgICBkYXRhLnBhZ2VzID0gW107XG4gICAgZGF0YS5zaXRlcyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBpbXBvcnQodGV4dDogc3RyaW5nKTogRGF0YSB7XG4gICAgcmV0dXJuIHRoaXMuaW1wb3J0QXRsYXNUZXh0KHRleHQpO1xuICB9XG4gIHB1YmxpYyBleHBvcnQodGV4dDogc3RyaW5nID0gXCJcIik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZXhwb3J0QXRsYXNUZXh0KHRleHQpO1xuICB9XG4gIHB1YmxpYyBpbXBvcnRBdGxhc1RleHQodGV4dDogc3RyaW5nKTogRGF0YSB7XG4gICAgY29uc3QgbGluZXM6IHN0cmluZ1tdID0gdGV4dC5zcGxpdCgvXFxufFxcclxcbi8pO1xuICAgIHJldHVybiB0aGlzLmltcG9ydEF0bGFzVGV4dExpbmVzKGxpbmVzKTtcbiAgfVxuICBwdWJsaWMgZXhwb3J0QXRsYXNUZXh0KHRleHQ6IHN0cmluZyA9IFwiXCIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGxpbmVzOiBzdHJpbmdbXSA9IHRoaXMuZXhwb3J0QXRsYXNUZXh0TGluZXMoW10pO1xuICAgIHJldHVybiB0ZXh0ICsgbGluZXMuam9pbignXFxuJyk7XG4gIH1cbiAgcHVibGljIGltcG9ydEF0bGFzVGV4dExpbmVzKGxpbmVzOiBzdHJpbmdbXSk6IERhdGEge1xuICAgIGNvbnN0IGRhdGE6IERhdGEgPSB0aGlzO1xuICAgIGRhdGEucGFnZXMgPSBbXTtcbiAgICBkYXRhLnNpdGVzID0ge307XG4gICAgbGV0IHBhZ2U6IFBhZ2UgPSBudWxsO1xuICAgIGxldCBzaXRlOiBTaXRlID0gbnVsbDtcbiAgICBsZXQgbWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgPSBudWxsO1xuICAgIGxpbmVzLmZvckVhY2goKGxpbmU6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgaWYgKHRyaW0obGluZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHBhZ2UgPSBudWxsO1xuICAgICAgICBzaXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gbGluZS5tYXRjaCgvXnNpemU6ICguKiksKC4qKSQvKSkpIHtcbiAgICAgICAgcGFnZS53ID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgcGFnZS5oID0gcGFyc2VJbnQobWF0Y2hbMl0sIDEwKTtcbiAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gbGluZS5tYXRjaCgvXmZvcm1hdDogKC4qKSQvKSkpIHtcbiAgICAgICAgcGFnZS5mb3JtYXQgPSBtYXRjaFsxXTtcbiAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gbGluZS5tYXRjaCgvXmZpbHRlcjogKC4qKSwoLiopJC8pKSkge1xuICAgICAgICBwYWdlLm1pbl9maWx0ZXIgPSBtYXRjaFsxXTtcbiAgICAgICAgcGFnZS5tYWdfZmlsdGVyID0gbWF0Y2hbMl07XG4gICAgICB9IGVsc2UgaWYgKChtYXRjaCA9IGxpbmUubWF0Y2goL15yZXBlYXQ6ICguKikkLykpKSB7XG4gICAgICAgIGNvbnN0IHJlcGVhdDogc3RyaW5nID0gbWF0Y2hbMV07XG4gICAgICAgIHBhZ2Uud3JhcF9zID0gKChyZXBlYXQgPT09ICd4JykgfHwgKHJlcGVhdCA9PT0gJ3h5JykpID8gKCdSZXBlYXQnKSA6ICgnQ2xhbXBUb0VkZ2UnKTtcbiAgICAgICAgcGFnZS53cmFwX3QgPSAoKHJlcGVhdCA9PT0gJ3knKSB8fCAocmVwZWF0ID09PSAneHknKSkgPyAoJ1JlcGVhdCcpIDogKCdDbGFtcFRvRWRnZScpO1xuICAgICAgfSBlbHNlIGlmICgobWF0Y2ggPSBsaW5lLm1hdGNoKC9eb3JpZzogKC4qKVssfCB4XSAoLiopJC8pKSkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbF93OiBudW1iZXIgPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICBjb25zdCBvcmlnaW5hbF9oOiBudW1iZXIgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgICAgICBjb25zb2xlLmxvZygncGFnZTpvcmlnJywgb3JpZ2luYWxfdywgb3JpZ2luYWxfaCk7XG4gICAgICB9IGVsc2UgaWYgKHBhZ2UgPT09IG51bGwpIHtcbiAgICAgICAgcGFnZSA9IG5ldyBQYWdlKCk7XG4gICAgICAgIHBhZ2UubmFtZSA9IGxpbmU7XG4gICAgICAgIGRhdGEucGFnZXMucHVzaChwYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgobWF0Y2ggPSBsaW5lLm1hdGNoKC9eIHsyfXJvdGF0ZTogKC4qKSQvKSkpIHtcbiAgICAgICAgICBzaXRlLnJvdGF0ZSA9IChtYXRjaFsxXSA9PT0gJ3RydWUnKSA/IC0xIDogMDsgLy8gLTkwIGRlZ3JlZXNcbiAgICAgICAgfSBlbHNlIGlmICgobWF0Y2ggPSBsaW5lLm1hdGNoKC9eIHsyfXh5OiAoLiopLCAoLiopJC8pKSkge1xuICAgICAgICAgIHNpdGUueCA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICAgICAgc2l0ZS55ID0gcGFyc2VJbnQobWF0Y2hbMl0sIDEwKTtcbiAgICAgICAgfSBlbHNlIGlmICgobWF0Y2ggPSBsaW5lLm1hdGNoKC9eIHsyfXNpemU6ICguKiksICguKikkLykpKSB7XG4gICAgICAgICAgc2l0ZS53ID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgICBzaXRlLmggPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgICAgICB9IGVsc2UgaWYgKChtYXRjaCA9IGxpbmUubWF0Y2goL14gezJ9b3JpZzogKC4qKSwgKC4qKSQvKSkpIHtcbiAgICAgICAgICBzaXRlLm9yaWdpbmFsX3cgPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgIHNpdGUub3JpZ2luYWxfaCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gbGluZS5tYXRjaCgvXiB7Mn1vZmZzZXQ6ICguKiksICguKikkLykpKSB7XG4gICAgICAgICAgc2l0ZS5vZmZzZXRfeCA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICAgICAgc2l0ZS5vZmZzZXRfeSA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gbGluZS5tYXRjaCgvXiB7Mn1pbmRleDogKC4qKSQvKSkpIHtcbiAgICAgICAgICBzaXRlLmluZGV4ID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoc2l0ZSkge1xuICAgICAgICAgICAgc2l0ZS5vcmlnaW5hbF93ID0gc2l0ZS5vcmlnaW5hbF93IHx8IHNpdGUudztcbiAgICAgICAgICAgIHNpdGUub3JpZ2luYWxfaCA9IHNpdGUub3JpZ2luYWxfaCB8fCBzaXRlLmg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNpdGUgPSBuZXcgU2l0ZSgpO1xuICAgICAgICAgIHNpdGUucGFnZSA9IHBhZ2U7XG4gICAgICAgICAgZGF0YS5zaXRlc1tsaW5lXSA9IHNpdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICBwdWJsaWMgZXhwb3J0QXRsYXNUZXh0TGluZXMobGluZXM6IHN0cmluZ1tdID0gW10pOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgZGF0YTogRGF0YSA9IHRoaXM7XG4gICAgZGF0YS5wYWdlcy5mb3JFYWNoKChwYWdlOiBQYWdlKTogdm9pZCA9PiB7XG4gICAgICBsaW5lcy5wdXNoKFwiXCIpOyAvLyBlbXB0eSBsaW5lIGRlbm90ZXMgbmV3IHBhZ2VcbiAgICAgIGxpbmVzLnB1c2gocGFnZS5uYW1lKTtcbiAgICAgIGxpbmVzLnB1c2goXCJzaXplOiBcIiArIHBhZ2UudyArIFwiLFwiICsgcGFnZS5oKTtcbiAgICAgIGxpbmVzLnB1c2goXCJmb3JtYXQ6IFwiICsgcGFnZS5mb3JtYXQpO1xuICAgICAgbGluZXMucHVzaChcImZpbHRlcjogXCIgKyBwYWdlLm1pbl9maWx0ZXIgKyBcIixcIiArIHBhZ2UubWFnX2ZpbHRlcik7XG4gICAgICBsZXQgcmVwZWF0OiBzdHJpbmcgPSAnbm9uZSc7XG4gICAgICBpZiAoKHBhZ2Uud3JhcF9zID09PSAnUmVwZWF0JykgJiYgKHBhZ2Uud3JhcF90ID09PSAnUmVwZWF0JykpIHsgcmVwZWF0ID0gXCJ4eVwiOyB9XG4gICAgICBlbHNlIGlmIChwYWdlLndyYXBfcyA9PT0gJ1JlcGVhdCcpIHsgcmVwZWF0ID0gJ3gnOyB9XG4gICAgICBlbHNlIGlmIChwYWdlLndyYXBfdCA9PT0gJ1JlcGVhdCcpIHsgcmVwZWF0ID0gJ3knOyB9XG4gICAgICBsaW5lcy5wdXNoKFwicmVwZWF0OiBcIiArIHJlcGVhdCk7XG4gICAgICBPYmplY3Qua2V5cyhkYXRhLnNpdGVzKS5mb3JFYWNoKChzaXRlX2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IHNpdGU6IFNpdGUgPSBkYXRhLnNpdGVzW3NpdGVfa2V5XTtcbiAgICAgICAgaWYgKHNpdGUucGFnZSAhPT0gcGFnZSkgeyByZXR1cm47IH1cbiAgICAgICAgbGluZXMucHVzaChzaXRlX2tleSk7XG4gICAgICAgIGxpbmVzLnB1c2goXCIgIHJvdGF0ZTogXCIgKyAoc2l0ZS5yb3RhdGUgPT09IDAgPyBcImZhbHNlXCIgOiBcInRydWVcIikpO1xuICAgICAgICBsaW5lcy5wdXNoKFwiICB4eTogXCIgKyBzaXRlLnggKyBcIiwgXCIgKyBzaXRlLnkpO1xuICAgICAgICBsaW5lcy5wdXNoKFwiICBzaXplOiBcIiArIHNpdGUudyArIFwiLCBcIiArIHNpdGUuaCk7XG4gICAgICAgIGxpbmVzLnB1c2goXCIgIG9yaWc6IFwiICsgc2l0ZS5vcmlnaW5hbF93ICsgXCIsIFwiICsgc2l0ZS5vcmlnaW5hbF9oKTtcbiAgICAgICAgbGluZXMucHVzaChcIiAgb2Zmc2V0OiBcIiArIHNpdGUub2Zmc2V0X3ggKyBcIiwgXCIgKyBzaXRlLm9mZnNldF95KTtcbiAgICAgICAgbGluZXMucHVzaChcIiAgaW5kZXg6IFwiICsgc2l0ZS5pbmRleCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gbGluZXM7XG4gIH1cbiAgcHVibGljIGltcG9ydFRwc1RleHQodHBzX3RleHQ6IHN0cmluZyk6IERhdGEge1xuICAgIGNvbnN0IGRhdGE6IERhdGEgPSB0aGlzO1xuICAgIGRhdGEucGFnZXMgPSBbXTtcbiAgICBkYXRhLnNpdGVzID0ge307XG4gICAgcmV0dXJuIGRhdGEuaW1wb3J0VHBzVGV4dFBhZ2UodHBzX3RleHQsIDApO1xuICB9XG4gIHB1YmxpYyBpbXBvcnRUcHNUZXh0UGFnZSh0cHNfdGV4dDogc3RyaW5nLCBwYWdlX2luZGV4OiBudW1iZXIgPSAwKTogRGF0YSB7XG4gICAgY29uc3QgZGF0YTogRGF0YSA9IHRoaXM7XG4gICAgY29uc3QgdHBzX2pzb246IGFueSA9IEpTT04ucGFyc2UodHBzX3RleHQpO1xuICAgIGNvbnN0IHBhZ2U6IFBhZ2UgPSBkYXRhLnBhZ2VzW3BhZ2VfaW5kZXhdID0gbmV3IFBhZ2UoKTtcbiAgICBpZiAodHBzX2pzb24ubWV0YSkge1xuICAgICAgLy8gVGV4dHVyZVBhY2tlciBvbmx5IHN1cHBvcnRzIG9uZSBwYWdlXG4gICAgICBwYWdlLncgPSB0cHNfanNvbi5tZXRhLnNpemUudztcbiAgICAgIHBhZ2UuaCA9IHRwc19qc29uLm1ldGEuc2l6ZS5oO1xuICAgICAgcGFnZS5uYW1lID0gdHBzX2pzb24ubWV0YS5pbWFnZTtcbiAgICB9XG4gICAgT2JqZWN0LmtleXModHBzX2pzb24uZnJhbWVzIHx8IHt9KS5mb3JFYWNoKChrZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgZnJhbWU6IGFueSA9IHRwc19qc29uLmZyYW1lc1trZXldO1xuICAgICAgY29uc3Qgc2l0ZTogU2l0ZSA9IGRhdGEuc2l0ZXNba2V5XSA9IG5ldyBTaXRlKCk7XG4gICAgICBzaXRlLnBhZ2UgPSBwYWdlO1xuICAgICAgc2l0ZS54ID0gZnJhbWUuZnJhbWUueDtcbiAgICAgIHNpdGUueSA9IGZyYW1lLmZyYW1lLnk7XG4gICAgICBzaXRlLncgPSBmcmFtZS5mcmFtZS53O1xuICAgICAgc2l0ZS5oID0gZnJhbWUuZnJhbWUuaDtcbiAgICAgIHNpdGUucm90YXRlID0gZnJhbWUucm90YXRlZCA/IDEgOiAwOyAvLyA5MCBkZWdyZWVzXG4gICAgICBzaXRlLm9mZnNldF94ID0gKGZyYW1lLnNwcml0ZVNvdXJjZVNpemUgJiYgZnJhbWUuc3ByaXRlU291cmNlU2l6ZS54KSB8fCAwO1xuICAgICAgc2l0ZS5vZmZzZXRfeSA9IChmcmFtZS5zcHJpdGVTb3VyY2VTaXplICYmIGZyYW1lLnNwcml0ZVNvdXJjZVNpemUueSkgfHwgMDtcbiAgICAgIHNpdGUub3JpZ2luYWxfdyA9IChmcmFtZS5zb3VyY2VTaXplICYmIGZyYW1lLnNvdXJjZVNpemUudykgfHwgc2l0ZS53O1xuICAgICAgc2l0ZS5vcmlnaW5hbF9oID0gKGZyYW1lLnNvdXJjZVNpemUgJiYgZnJhbWUuc291cmNlU2l6ZS5oKSB8fCBzaXRlLmg7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIHNwaW5lIGZyb20gJy4vc3BpbmUnO1xuaW1wb3J0ICogYXMgYXRsYXMgZnJvbSAnLi9hdGxhcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBlYXQoZm9ybWF0OiBzdHJpbmcsIGNvdW50OiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGFycmF5OiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7ICsraW5kZXgpIHtcbiAgICBhcnJheS5wdXNoKGZvcm1hdC5yZXBsYWNlKC97aW5kZXh9L2csIGluZGV4LnRvU3RyaW5nKCkpKTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuKGFycmF5OiBhbnlbXSwgb3V0OiBhbnlbXSA9IFtdKTogYW55W10ge1xuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsgZmxhdHRlbih2YWx1ZSwgb3V0KTsgfSBlbHNlIHsgb3V0LnB1c2godmFsdWUpOyB9XG4gIH0pO1xuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnQgY2xhc3MgZ2xTaGFkZXIge1xuICBwdWJsaWMgdnNfc3JjOiBzdHJpbmdbXTtcbiAgcHVibGljIGZzX3NyYzogc3RyaW5nW107XG4gIHB1YmxpYyB2czogV2ViR0xTaGFkZXI7XG4gIHB1YmxpYyBmczogV2ViR0xTaGFkZXI7XG4gIHB1YmxpYyBwcm9ncmFtOiBXZWJHTFByb2dyYW07XG4gIHB1YmxpYyB1bmlmb3Jtczoge1trZXk6IHN0cmluZ106IFdlYkdMVW5pZm9ybUxvY2F0aW9ufTtcbiAgcHVibGljIGF0dHJpYnM6IHtba2V5OiBzdHJpbmddOiBudW1iZXJ9O1xufVxuXG5leHBvcnQgY2xhc3MgZ2xWZXJ0ZXgge1xuICBwdWJsaWMgdHlwZTogbnVtYmVyOyAvLyBGTE9BVCwgQllURSwgVU5TSUdORURfQllURSwgU0hPUlQsIFVOU0lHTkVEX1NIT1JULCBJTlQsIFVOU0lHTkVEX0lOVFxuICBwdWJsaWMgc2l6ZTogbnVtYmVyOyAvLyBzaXplIGluIGVsZW1lbnRzIHBlciB2ZXJ0ZXhcbiAgcHVibGljIGNvdW50OiBudW1iZXI7IC8vIG51bWJlciBvZiB2ZXJ0aWNlc1xuICBwdWJsaWMgdHlwZV9hcnJheTogYW55OyAvLyBGbG9hdDMyQXJyYXksIEludDhBcnJheSwgVWludDhBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksIEludDMyQXJyYXksIFVpbnQzMkFycmF5XG4gIHB1YmxpYyBidWZmZXI6IFdlYkdMQnVmZmVyO1xuICBwdWJsaWMgYnVmZmVyX3R5cGU6IG51bWJlcjsgLy8gQVJSQVlfQlVGRkVSIG9yIEVMRU1FTlRfQVJSQVlfQlVGRkVSXG4gIHB1YmxpYyBidWZmZXJfZHJhdzogbnVtYmVyOyAvLyBTVFJFQU1fRFJBVywgU1RBVElDX0RSQVcgb3IgRFlOQU1JQ19EUkFXXG59XG5cbmV4cG9ydCBjbGFzcyBCb25lSW5mbyB7XG4gIHB1YmxpYyBzZXR1cF9zcGFjZTogc3BpbmUuU3BhY2U7XG59XG5cbmV4cG9ydCBjbGFzcyBTa2luSW5mbyB7XG4gIHB1YmxpYyBzbG90X2luZm9fbWFwOiB7W2tleTogc3RyaW5nXTogU2xvdEluZm99ID0ge307XG59XG5cbmV4cG9ydCBjbGFzcyBTbG90SW5mbyB7XG4gIHB1YmxpYyBhdHRhY2htZW50X2luZm9fbWFwOiB7W2tleTogc3RyaW5nXTogQXR0YWNobWVudEluZm99ID0ge307XG59XG5cbmV4cG9ydCBjbGFzcyBBdHRhY2htZW50SW5mbyB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmc7XG4gIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZykge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlZ2lvbkF0dGFjaG1lbnRJbmZvIGV4dGVuZHMgQXR0YWNobWVudEluZm8ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigncmVnaW9uJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvdW5kaW5nQm94QXR0YWNobWVudEluZm8gZXh0ZW5kcyBBdHRhY2htZW50SW5mbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdib3VuZGluZ2JveCcpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXNoQXR0YWNobWVudEluZm8gZXh0ZW5kcyBBdHRhY2htZW50SW5mbyB7XG4gIHB1YmxpYyBnbF92ZXJ0ZXhfcG9zaXRpb246IGdsVmVydGV4O1xuICBwdWJsaWMgZ2xfdmVydGV4X3RleGNvb3JkOiBnbFZlcnRleDtcbiAgcHVibGljIGdsX3ZlcnRleF90cmlhbmdsZTogZ2xWZXJ0ZXg7XG4gIHB1YmxpYyBhbmltX2ZmZF9hdHRhY2htZW50czogYW55O1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignbWVzaCcpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTa2lubmVkTWVzaEF0dGFjaG1lbnRJbmZvIGV4dGVuZHMgQXR0YWNobWVudEluZm8ge1xuICBwdWJsaWMgZ2xfdmVydGV4X3Bvc2l0aW9uOiBnbFZlcnRleDtcbiAgcHVibGljIGdsX3ZlcnRleF9ibGVuZGVyczogZ2xWZXJ0ZXg7XG4gIHB1YmxpYyBnbF92ZXJ0ZXhfdGV4Y29vcmQ6IGdsVmVydGV4O1xuICBwdWJsaWMgZ2xfdmVydGV4X3RyaWFuZ2xlOiBnbFZlcnRleDtcbiAgcHVibGljIGJsZW5kX2JvbmVfaW5kZXhfYXJyYXk6IG51bWJlcltdO1xuICBwdWJsaWMgYW5pbV9mZmRfYXR0YWNobWVudHM6IGFueTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3NraW5uZWRtZXNoJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbmRlcldlYkdMIHtcbiAgcHVibGljIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gIHB1YmxpYyBib25lX2luZm9fbWFwOiB7W2tleTogc3RyaW5nXTogQm9uZUluZm99ID0ge307XG4gIHB1YmxpYyBza2luX2luZm9fbWFwOiB7W2tleTogc3RyaW5nXTogU2tpbkluZm99ID0ge307XG4gIHB1YmxpYyBnbF90ZXh0dXJlczoge1trZXk6IHN0cmluZ106IFdlYkdMVGV4dHVyZX0gPSB7fTtcbiAgcHVibGljIGdsX3Byb2plY3Rpb246IEZsb2F0MzJBcnJheSA9IG1hdDR4NElkZW50aXR5KG5ldyBGbG9hdDMyQXJyYXkoMTYpKTtcbiAgcHVibGljIGdsX21vZGVsdmlldzogRmxvYXQzMkFycmF5ID0gbWF0M3gzSWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSg5KSk7XG4gIHB1YmxpYyBnbF90ZXhfbWF0cml4OiBGbG9hdDMyQXJyYXkgPSBtYXQzeDNJZGVudGl0eShuZXcgRmxvYXQzMkFycmF5KDkpKTtcbiAgcHVibGljIGdsX2NvbG9yOiBGbG9hdDMyQXJyYXkgPSB2ZWM0SWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSg0KSk7XG4gIHB1YmxpYyBnbF9tZXNoX3NoYWRlcjogZ2xTaGFkZXI7XG4gIHB1YmxpYyBnbF9mZmRfbWVzaF9zaGFkZXI6IGdsU2hhZGVyO1xuICBwdWJsaWMgZ2xfcmVnaW9uX3ZlcnRleF9wb3NpdGlvbjogZ2xWZXJ0ZXg7XG4gIHB1YmxpYyBnbF9yZWdpb25fdmVydGV4X3RleGNvb3JkOiBnbFZlcnRleDtcbiAgcHVibGljIGdsX3NraW5fc2hhZGVyX21vZGVsdmlld19jb3VudDogbnVtYmVyO1xuICBwdWJsaWMgZ2xfc2tpbl9zaGFkZXJfbW9kZWx2aWV3X2FycmF5OiBGbG9hdDMyQXJyYXk7XG4gIHB1YmxpYyBnbF9za2luX3NoYWRlcl9ibGVuZGVyc19jb3VudDogbnVtYmVyO1xuICBwdWJsaWMgZ2xfc2tpbl9zaGFkZXJfdnNfc3JjOiBzdHJpbmc7XG4gIHB1YmxpYyBnbF9mZmRfc2tpbl9zaGFkZXJfdnNfc3JjOiBzdHJpbmc7XG4gIHB1YmxpYyBnbF9za2luX3NoYWRlcjogZ2xTaGFkZXI7XG4gIHB1YmxpYyBnbF9mZmRfc2tpbl9zaGFkZXI6IGdsU2hhZGVyO1xuXG4gIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICBjb25zdCByZW5kZXI6IFJlbmRlcldlYkdMID0gdGhpcztcbiAgICByZW5kZXIuZ2wgPSBnbDtcbiAgICBpZiAoIWdsKSB7IHJldHVybjsgfVxuICAgIGNvbnN0IGdsX21lc2hfc2hhZGVyX3ZzX3NyYzogYW55ID0gW1xuICAgICAgXCJwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XCIsXG4gICAgICBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFxuICAgICAgXCJ1bmlmb3JtIG1hdDQgdVByb2plY3Rpb247XCIsXG4gICAgICBcInVuaWZvcm0gbWF0MyB1TW9kZWx2aWV3O1wiLFxuICAgICAgXCJ1bmlmb3JtIG1hdDMgdVRleE1hdHJpeDtcIixcbiAgICAgIFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLCAvLyBbIHgsIHkgXVxuICAgICAgXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4VGV4Q29vcmQ7XCIsIC8vIFsgdSwgdiBdXG4gICAgICBcInZhcnlpbmcgdmVjMyB2VGV4Q29vcmQ7XCIsXG4gICAgICBcInZvaWQgbWFpbih2b2lkKSB7XCIsXG4gICAgICBcIiB2VGV4Q29vcmQgPSB1VGV4TWF0cml4ICogdmVjMyhhVmVydGV4VGV4Q29vcmQsIDEuMCk7XCIsXG4gICAgICBcIiBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uICogdmVjNCh1TW9kZWx2aWV3ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCksIDEuMCk7XCIsXG4gICAgICBcIn1cIlxuICAgIF07XG4gICAgY29uc3QgZ2xfZmZkX21lc2hfc2hhZGVyX3ZzX3NyYzogYW55ID0gW1xuICAgICAgXCJwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XCIsXG4gICAgICBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFxuICAgICAgXCJ1bmlmb3JtIG1hdDQgdVByb2plY3Rpb247XCIsXG4gICAgICBcInVuaWZvcm0gbWF0MyB1TW9kZWx2aWV3O1wiLFxuICAgICAgXCJ1bmlmb3JtIG1hdDMgdVRleE1hdHJpeDtcIixcbiAgICAgIFwidW5pZm9ybSBmbG9hdCB1TW9ycGhXZWlnaHQ7XCIsXG4gICAgICBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIiwgLy8gWyB4LCB5IF1cbiAgICAgIFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFRleENvb3JkO1wiLCAvLyBbIHUsIHYgXVxuICAgICAgXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4TW9ycGgwUG9zaXRpb247XCIsIC8vIFsgZHgsIGR5IF1cbiAgICAgIFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleE1vcnBoMVBvc2l0aW9uO1wiLCAvLyBbIGR4LCBkeSBdXG4gICAgICBcInZhcnlpbmcgdmVjMyB2VGV4Q29vcmQ7XCIsXG4gICAgICBcInZvaWQgbWFpbih2b2lkKSB7XCIsXG4gICAgICBcIiB2VGV4Q29vcmQgPSB1VGV4TWF0cml4ICogdmVjMyhhVmVydGV4VGV4Q29vcmQsIDEuMCk7XCIsXG4gICAgICBcIiBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uICogdmVjNCh1TW9kZWx2aWV3ICogdmVjMyhhVmVydGV4UG9zaXRpb24gKyBtaXgoYVZlcnRleE1vcnBoMFBvc2l0aW9uLCBhVmVydGV4TW9ycGgxUG9zaXRpb24sIHVNb3JwaFdlaWdodCksIDEuMCksIDEuMCk7XCIsXG4gICAgICBcIn1cIlxuICAgIF07XG4gICAgY29uc3QgZ2xfbWVzaF9zaGFkZXJfZnNfc3JjOiBhbnkgPSBbXG4gICAgICBcInByZWNpc2lvbiBtZWRpdW1wIGludDtcIixcbiAgICAgIFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXG4gICAgICBcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFxuICAgICAgXCJ1bmlmb3JtIHZlYzQgdUNvbG9yO1wiLFxuICAgICAgXCJ2YXJ5aW5nIHZlYzMgdlRleENvb3JkO1wiLFxuICAgICAgXCJ2b2lkIG1haW4odm9pZCkge1wiLFxuICAgICAgXCIgZ2xfRnJhZ0NvbG9yID0gdUNvbG9yICogdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4Q29vcmQuc3QpO1wiLFxuICAgICAgXCJ9XCJcbiAgICBdO1xuICAgIHJlbmRlci5nbF9tZXNoX3NoYWRlciA9IGdsTWFrZVNoYWRlcihnbCwgZ2xfbWVzaF9zaGFkZXJfdnNfc3JjLCBnbF9tZXNoX3NoYWRlcl9mc19zcmMpO1xuICAgIHJlbmRlci5nbF9mZmRfbWVzaF9zaGFkZXIgPSBnbE1ha2VTaGFkZXIoZ2wsIGdsX2ZmZF9tZXNoX3NoYWRlcl92c19zcmMsIGdsX21lc2hfc2hhZGVyX2ZzX3NyYyk7XG4gICAgcmVuZGVyLmdsX3JlZ2lvbl92ZXJ0ZXhfcG9zaXRpb24gPSBnbE1ha2VWZXJ0ZXgoZ2wsIG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMSwgLTEsIDEsIDEsIC0xLCAxXSksIDIsIGdsLkFSUkFZX0JVRkZFUiwgZ2wuU1RBVElDX0RSQVcpOyAvLyBbIHgsIHkgXVxuICAgIHJlbmRlci5nbF9yZWdpb25fdmVydGV4X3RleGNvb3JkID0gZ2xNYWtlVmVydGV4KGdsLCBuZXcgRmxvYXQzMkFycmF5KFswLCAxLCAxLCAxLCAxLCAwLCAwLCAwXSksIDIsIGdsLkFSUkFZX0JVRkZFUiwgZ2wuU1RBVElDX0RSQVcpOyAvLyBbIHUsIHYgXVxuICAgIHJlbmRlci5nbF9za2luX3NoYWRlcl9tb2RlbHZpZXdfY291bnQgPSAxNjsgLy8gKiBtYXQzXG4gICAgcmVuZGVyLmdsX3NraW5fc2hhZGVyX21vZGVsdmlld19hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSAqIHJlbmRlci5nbF9za2luX3NoYWRlcl9tb2RlbHZpZXdfY291bnQpO1xuICAgIHJlbmRlci5nbF9za2luX3NoYWRlcl9ibGVuZGVyc19jb3VudCA9IDg7IC8vICogdmVjMlxuICAgIGNvbnN0IGdsX3NraW5fc2hhZGVyX3ZzX3NyYzogYW55ID0gW1xuICAgICAgXCJwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XCIsXG4gICAgICBcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFxuICAgICAgXCJ1bmlmb3JtIG1hdDQgdVByb2plY3Rpb247XCIsXG4gICAgICBcInVuaWZvcm0gbWF0MyB1TW9kZWx2aWV3QXJyYXlbXCIgKyByZW5kZXIuZ2xfc2tpbl9zaGFkZXJfbW9kZWx2aWV3X2NvdW50ICsgXCJdO1wiLFxuICAgICAgXCJ1bmlmb3JtIG1hdDMgdVRleE1hdHJpeDtcIixcbiAgICAgIFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLCAvLyBbIHgsIHkgXVxuICAgICAgcmVwZWF0KFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleEJsZW5kZXJze2luZGV4fTtcIiwgcmVuZGVyLmdsX3NraW5fc2hhZGVyX2JsZW5kZXJzX2NvdW50KSwgLy8gWyBpLCB3IF1cbiAgICAgIFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFRleENvb3JkO1wiLCAvLyBbIHUsIHYgXVxuICAgICAgXCJ2YXJ5aW5nIHZlYzMgdlRleENvb3JkO1wiLFxuICAgICAgXCJ2b2lkIG1haW4odm9pZCkge1wiLFxuICAgICAgXCIgdlRleENvb3JkID0gdVRleE1hdHJpeCAqIHZlYzMoYVZlcnRleFRleENvb3JkLCAxLjApO1wiLFxuICAgICAgXCIgdmVjMyBwb3NpdGlvbiA9IHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApO1wiLFxuICAgICAgXCIgdmVjMyBibGVuZFBvc2l0aW9uID0gdmVjMygwLjApO1wiLFxuICAgICAgcmVwZWF0KFwiIGJsZW5kUG9zaXRpb24gKz0gKHVNb2RlbHZpZXdBcnJheVtpbnQoYVZlcnRleEJsZW5kZXJze2luZGV4fS54KV0gKiBwb3NpdGlvbikgKiBhVmVydGV4QmxlbmRlcnN7aW5kZXh9Lnk7XCIsIHJlbmRlci5nbF9za2luX3NoYWRlcl9ibGVuZGVyc19jb3VudCksXG4gICAgICBcIiBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uICogdmVjNChibGVuZFBvc2l0aW9uLCAxLjApO1wiLFxuICAgICAgXCJ9XCJcbiAgICBdO1xuICAgIGNvbnN0IGdsX2ZmZF9za2luX3NoYWRlcl92c19zcmM6IGFueSA9IFtcbiAgICAgIFwicHJlY2lzaW9uIG1lZGl1bXAgaW50O1wiLFxuICAgICAgXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcbiAgICAgIFwidW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uO1wiLFxuICAgICAgXCJ1bmlmb3JtIG1hdDMgdU1vZGVsdmlld0FycmF5W1wiICsgcmVuZGVyLmdsX3NraW5fc2hhZGVyX21vZGVsdmlld19jb3VudCArIFwiXTtcIixcbiAgICAgIFwidW5pZm9ybSBtYXQzIHVUZXhNYXRyaXg7XCIsXG4gICAgICBcInVuaWZvcm0gZmxvYXQgdU1vcnBoV2VpZ2h0O1wiLFxuICAgICAgXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XCIsIC8vIFsgeCwgeSBdXG4gICAgICByZXBlYXQoXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4QmxlbmRlcnN7aW5kZXh9O1wiLCByZW5kZXIuZ2xfc2tpbl9zaGFkZXJfYmxlbmRlcnNfY291bnQpLCAvLyBbIGksIHcgXVxuICAgICAgXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4VGV4Q29vcmQ7XCIsIC8vIFsgdSwgdiBdXG4gICAgICBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhNb3JwaDBQb3NpdGlvbjtcIiwgLy8gWyBkeCwgZHkgXVxuICAgICAgXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4TW9ycGgxUG9zaXRpb247XCIsIC8vIFsgZHgsIGR5IF1cbiAgICAgIFwidmFyeWluZyB2ZWMzIHZUZXhDb29yZDtcIixcbiAgICAgIFwidm9pZCBtYWluKHZvaWQpIHtcIixcbiAgICAgIFwiIHZUZXhDb29yZCA9IHVUZXhNYXRyaXggKiB2ZWMzKGFWZXJ0ZXhUZXhDb29yZCwgMS4wKTtcIixcbiAgICAgIFwiIHZlYzMgcG9zaXRpb24gPSB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiArIG1peChhVmVydGV4TW9ycGgwUG9zaXRpb24sIGFWZXJ0ZXhNb3JwaDFQb3NpdGlvbiwgdU1vcnBoV2VpZ2h0KSwgMS4wKTtcIixcbiAgICAgIFwiIHZlYzMgYmxlbmRQb3NpdGlvbiA9IHZlYzMoMC4wKTtcIixcbiAgICAgIHJlcGVhdChcIiBibGVuZFBvc2l0aW9uICs9ICh1TW9kZWx2aWV3QXJyYXlbaW50KGFWZXJ0ZXhCbGVuZGVyc3tpbmRleH0ueCldICogcG9zaXRpb24pICogYVZlcnRleEJsZW5kZXJze2luZGV4fS55O1wiLCByZW5kZXIuZ2xfc2tpbl9zaGFkZXJfYmxlbmRlcnNfY291bnQpLFxuICAgICAgXCIgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbiAqIHZlYzQoYmxlbmRQb3NpdGlvbiwgMS4wKTtcIixcbiAgICAgIFwifVwiXG4gICAgXTtcbiAgICBjb25zdCBnbF9za2luX3NoYWRlcl9mc19zcmM6IGFueSA9IFtcbiAgICAgIFwicHJlY2lzaW9uIG1lZGl1bXAgaW50O1wiLFxuICAgICAgXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcbiAgICAgIFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXG4gICAgICBcInVuaWZvcm0gdmVjNCB1Q29sb3I7XCIsXG4gICAgICBcInZhcnlpbmcgdmVjMyB2VGV4Q29vcmQ7XCIsXG4gICAgICBcInZvaWQgbWFpbih2b2lkKSB7XCIsXG4gICAgICBcIiBnbF9GcmFnQ29sb3IgPSB1Q29sb3IgKiB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXhDb29yZC5zdCk7XCIsXG4gICAgICBcIn1cIlxuICAgIF07XG4gICAgcmVuZGVyLmdsX3NraW5fc2hhZGVyID0gZ2xNYWtlU2hhZGVyKGdsLCBnbF9za2luX3NoYWRlcl92c19zcmMsIGdsX3NraW5fc2hhZGVyX2ZzX3NyYyk7XG4gICAgcmVuZGVyLmdsX2ZmZF9za2luX3NoYWRlciA9IGdsTWFrZVNoYWRlcihnbCwgZ2xfZmZkX3NraW5fc2hhZGVyX3ZzX3NyYywgZ2xfc2tpbl9zaGFkZXJfZnNfc3JjKTtcbiAgfVxuXG4gIHB1YmxpYyBkcm9wRGF0YShzcGluZV9kYXRhOiBzcGluZS5EYXRhLCBhdGxhc19kYXRhOiBhdGxhcy5EYXRhKTogdm9pZCB7XG4gICAgY29uc3QgcmVuZGVyOiBSZW5kZXJXZWJHTCA9IHRoaXM7XG4gICAgY29uc3QgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCA9IHJlbmRlci5nbDtcbiAgICBpZiAoIWdsKSB7IHJldHVybjsgfVxuICAgIE9iamVjdC5rZXlzKHJlbmRlci5nbF90ZXh0dXJlcykuZm9yRWFjaCgoaW1hZ2Vfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IGdsX3RleHR1cmU6IFdlYkdMVGV4dHVyZSA9IHJlbmRlci5nbF90ZXh0dXJlc1tpbWFnZV9rZXldO1xuICAgICAgZ2wuZGVsZXRlVGV4dHVyZShnbF90ZXh0dXJlKTtcbiAgICAgIGRlbGV0ZSByZW5kZXIuZ2xfdGV4dHVyZXNbaW1hZ2Vfa2V5XTtcbiAgICB9KTtcbiAgICByZW5kZXIuZ2xfdGV4dHVyZXMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhyZW5kZXIuYm9uZV9pbmZvX21hcCkuZm9yRWFjaCgoYm9uZV9rZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgYm9uZV9pbmZvOiBCb25lSW5mbyA9IHJlbmRlci5ib25lX2luZm9fbWFwW2JvbmVfa2V5XTtcbiAgICB9KTtcbiAgICByZW5kZXIuYm9uZV9pbmZvX21hcCA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHJlbmRlci5za2luX2luZm9fbWFwKS5mb3JFYWNoKChza2luX2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBza2luX2luZm86IFNraW5JbmZvID0gcmVuZGVyLnNraW5faW5mb19tYXBbc2tpbl9rZXldO1xuICAgICAgT2JqZWN0LmtleXMoc2tpbl9pbmZvLnNsb3RfaW5mb19tYXApLmZvckVhY2goKHNsb3Rfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc3Qgc2xvdF9pbmZvOiBTbG90SW5mbyA9IHNraW5faW5mby5zbG90X2luZm9fbWFwW3Nsb3Rfa2V5XTtcbiAgICAgICAgT2JqZWN0LmtleXMoc2xvdF9pbmZvLmF0dGFjaG1lbnRfaW5mb19tYXApLmZvckVhY2goKGF0dGFjaG1lbnRfa2V5OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgICBjb25zdCBhdHRhY2htZW50X2luZm86IEF0dGFjaG1lbnRJbmZvID0gc2xvdF9pbmZvLmF0dGFjaG1lbnRfaW5mb19tYXBbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgIHN3aXRjaCAoYXR0YWNobWVudF9pbmZvLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ21lc2gnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1lc2hfYXR0YWNobWVudF9pbmZvID0gPE1lc2hBdHRhY2htZW50SW5mbz5hdHRhY2htZW50X2luZm87XG4gICAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihtZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfcG9zaXRpb24uYnVmZmVyKTtcbiAgICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKG1lc2hfYXR0YWNobWVudF9pbmZvLmdsX3ZlcnRleF90ZXhjb29yZC5idWZmZXIpO1xuICAgICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIobWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X3RyaWFuZ2xlLmJ1ZmZlcik7XG4gICAgICAgICAgICAgIE9iamVjdC5rZXlzKG1lc2hfYXR0YWNobWVudF9pbmZvLmFuaW1fZmZkX2F0dGFjaG1lbnRzKS5mb3JFYWNoKChhbmltX2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbV9mZmRfYXR0YWNobWVudDogYW55ID0gbWVzaF9hdHRhY2htZW50X2luZm8uYW5pbV9mZmRfYXR0YWNobWVudHNbYW5pbV9rZXldO1xuICAgICAgICAgICAgICAgIGFuaW1fZmZkX2F0dGFjaG1lbnQuZmZkX2tleWZyYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGZmZF9rZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKGZmZF9rZXlmcmFtZS5nbF92ZXJ0ZXguYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnc2tpbm5lZG1lc2gnOiB7XG4gICAgICAgICAgICAgIGNvbnN0IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8gPSA8U2tpbm5lZE1lc2hBdHRhY2htZW50SW5mbz5hdHRhY2htZW50X2luZm87XG4gICAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvLmdsX3ZlcnRleF9wb3NpdGlvbi5idWZmZXIpO1xuICAgICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIoc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfYmxlbmRlcnMuYnVmZmVyKTtcbiAgICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X3RleGNvb3JkLmJ1ZmZlcik7XG4gICAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvLmdsX3ZlcnRleF90cmlhbmdsZS5idWZmZXIpO1xuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvLmFuaW1fZmZkX2F0dGFjaG1lbnRzKS5mb3JFYWNoKChhbmltX2tleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbV9mZmRfYXR0YWNobWVudDogYW55ID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5hbmltX2ZmZF9hdHRhY2htZW50c1thbmltX2tleV07XG4gICAgICAgICAgICAgICAgYW5pbV9mZmRfYXR0YWNobWVudC5mZmRfa2V5ZnJhbWVzLmZvckVhY2goZnVuY3Rpb24oZmZkX2tleWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIoZmZkX2tleWZyYW1lLmdsX3ZlcnRleC5idWZmZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE9cIiwgc2tpbl9rZXksIHNsb3Rfa2V5LCBhdHRhY2htZW50X2tleSwgYXR0YWNobWVudF9pbmZvLnR5cGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmVuZGVyLnNraW5faW5mb19tYXAgPSB7fTtcbiAgfTtcblxuICBwdWJsaWMgbG9hZERhdGEoc3BpbmVfZGF0YTogc3BpbmUuRGF0YSwgYXRsYXNfZGF0YTogYXRsYXMuRGF0YSwgaW1hZ2VzOiB7W2tleTogc3RyaW5nXTogSFRNTEltYWdlRWxlbWVudH0pOiB2b2lkIHtcbiAgICBjb25zdCByZW5kZXI6IFJlbmRlcldlYkdMID0gdGhpcztcbiAgICBjb25zdCBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0ID0gcmVuZGVyLmdsO1xuICAgIGlmICghZ2wpIHsgcmV0dXJuOyB9XG4gICAgc3BpbmVfZGF0YS5pdGVyYXRlQm9uZXMoZnVuY3Rpb24oYm9uZV9rZXk6IHN0cmluZywgYm9uZTogc3BpbmUuQm9uZSk6IHZvaWQge1xuICAgICAgY29uc3QgYm9uZV9pbmZvOiBCb25lSW5mbyA9IHJlbmRlci5ib25lX2luZm9fbWFwW2JvbmVfa2V5XSA9IG5ldyBCb25lSW5mbygpO1xuICAgICAgYm9uZV9pbmZvLnNldHVwX3NwYWNlID0gc3BpbmUuU3BhY2UuaW52ZXJ0KGJvbmUud29ybGRfc3BhY2UsIG5ldyBzcGluZS5TcGFjZSgpKTtcbiAgICB9KTtcbiAgICBzcGluZV9kYXRhLml0ZXJhdGVTa2lucyhmdW5jdGlvbihza2luX2tleTogc3RyaW5nLCBza2luOiBzcGluZS5Ta2luKTogdm9pZCB7XG4gICAgICBjb25zdCBza2luX2luZm86IFNraW5JbmZvID0gcmVuZGVyLnNraW5faW5mb19tYXBbc2tpbl9rZXldID0gbmV3IFNraW5JbmZvKCk7XG4gICAgICBza2luLml0ZXJhdGVBdHRhY2htZW50cyhmdW5jdGlvbihzbG90X2tleTogc3RyaW5nLCBza2luX3Nsb3Q6IHNwaW5lLlNraW5TbG90LCBhdHRhY2htZW50X2tleTogc3RyaW5nLCBhdHRhY2htZW50OiBzcGluZS5BdHRhY2htZW50KTogdm9pZCB7XG4gICAgICAgIGlmICghYXR0YWNobWVudCkgeyByZXR1cm47IH1cbiAgICAgICAgY29uc3Qgc2xvdF9pbmZvOiBTbG90SW5mbyA9IHNraW5faW5mby5zbG90X2luZm9fbWFwW3Nsb3Rfa2V5XSA9IHNraW5faW5mby5zbG90X2luZm9fbWFwW3Nsb3Rfa2V5XSB8fCBuZXcgU2xvdEluZm8oKTtcbiAgICAgICAgc3dpdGNoIChhdHRhY2htZW50LnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdtZXNoJzoge1xuICAgICAgICAgICAgY29uc3QgbWVzaF9hdHRhY2htZW50OiBzcGluZS5NZXNoQXR0YWNobWVudCA9IDxzcGluZS5NZXNoQXR0YWNobWVudD5hdHRhY2htZW50O1xuICAgICAgICAgICAgY29uc3QgbWVzaF9hdHRhY2htZW50X2luZm86IE1lc2hBdHRhY2htZW50SW5mbyA9IHNsb3RfaW5mby5hdHRhY2htZW50X2luZm9fbWFwW2F0dGFjaG1lbnRfa2V5XSA9IG5ldyBNZXNoQXR0YWNobWVudEluZm8oKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleF9jb3VudDogbnVtYmVyID0gbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfcG9zaXRpb246IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkobWVzaF9hdHRhY2htZW50LnZlcnRpY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleF90ZXhjb29yZDogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShtZXNoX2F0dGFjaG1lbnQudXZzKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleF90cmlhbmdsZTogVWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkobWVzaF9hdHRhY2htZW50LnRyaWFuZ2xlcyk7XG4gICAgICAgICAgICBtZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfcG9zaXRpb24gPSBnbE1ha2VWZXJ0ZXgoZ2wsIHZlcnRleF9wb3NpdGlvbiwgMiwgZ2wuQVJSQVlfQlVGRkVSLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgICAgICBtZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfdGV4Y29vcmQgPSBnbE1ha2VWZXJ0ZXgoZ2wsIHZlcnRleF90ZXhjb29yZCwgMiwgZ2wuQVJSQVlfQlVGRkVSLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgICAgICBtZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfdHJpYW5nbGUgPSBnbE1ha2VWZXJ0ZXgoZ2wsIHZlcnRleF90cmlhbmdsZSwgMSwgZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1fZmZkX2F0dGFjaG1lbnRzOiBhbnkgPSBtZXNoX2F0dGFjaG1lbnRfaW5mby5hbmltX2ZmZF9hdHRhY2htZW50cyA9IHt9O1xuICAgICAgICAgICAgc3BpbmVfZGF0YS5pdGVyYXRlQW5pbXMoZnVuY3Rpb24oYW5pbV9rZXk6IHN0cmluZywgYW5pbTogc3BpbmUuQW5pbWF0aW9uKTogdm9pZCB7XG4gICAgICAgICAgICAgIGNvbnN0IGFuaW1fZmZkOiBzcGluZS5BbmltRmZkID0gYW5pbS5mZmRzICYmIGFuaW0uZmZkc1tza2luX2tleV07XG4gICAgICAgICAgICAgIGNvbnN0IGZmZF9zbG90OiBzcGluZS5GZmRTbG90ID0gYW5pbV9mZmQgJiYgYW5pbV9mZmQuZmZkX3Nsb3RzW3Nsb3Rfa2V5XTtcbiAgICAgICAgICAgICAgY29uc3QgZmZkX2F0dGFjaG1lbnQ6IHNwaW5lLkZmZEF0dGFjaG1lbnQgPSBmZmRfc2xvdCAmJiBmZmRfc2xvdC5mZmRfYXR0YWNobWVudHNbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgICAgICBpZiAoZmZkX2F0dGFjaG1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltX2ZmZF9hdHRhY2htZW50OiBhbnkgPSBhbmltX2ZmZF9hdHRhY2htZW50c1thbmltX2tleV0gPSB7fTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltX2ZmZF9rZXlmcmFtZXM6IGFueSA9IGFuaW1fZmZkX2F0dGFjaG1lbnQuZmZkX2tleWZyYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZmZF9hdHRhY2htZW50LmZmZF9rZXlmcmFtZXMuZm9yRWFjaChmdW5jdGlvbihmZmRfa2V5ZnJhbWU6IHNwaW5lLkZmZEtleWZyYW1lLCBmZmRfa2V5ZnJhbWVfaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbV9mZmRfa2V5ZnJhbWU6IGFueSA9IGFuaW1fZmZkX2tleWZyYW1lc1tmZmRfa2V5ZnJhbWVfaW5kZXhdID0ge307XG4gICAgICAgICAgICAgICAgICBjb25zdCB2ZXJ0ZXg6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoMiAqIHZlcnRleF9jb3VudCk7XG4gICAgICAgICAgICAgICAgICB2ZXJ0ZXguc3ViYXJyYXkoZmZkX2tleWZyYW1lLm9mZnNldCwgZmZkX2tleWZyYW1lLm9mZnNldCArIGZmZF9rZXlmcmFtZS52ZXJ0aWNlcy5sZW5ndGgpLnNldChuZXcgRmxvYXQzMkFycmF5KGZmZF9rZXlmcmFtZS52ZXJ0aWNlcykpO1xuICAgICAgICAgICAgICAgICAgYW5pbV9mZmRfa2V5ZnJhbWUuZ2xfdmVydGV4ID0gZ2xNYWtlVmVydGV4KGdsLCB2ZXJ0ZXgsIDIsIGdsLkFSUkFZX0JVRkZFUiwgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdza2lubmVkbWVzaCc6IHtcbiAgICAgICAgICAgIGNvbnN0IHNraW5uZWRfbWVzaF9hdHRhY2htZW50OiBzcGluZS5Ta2lubmVkTWVzaEF0dGFjaG1lbnQgPSA8c3BpbmUuU2tpbm5lZE1lc2hBdHRhY2htZW50PmF0dGFjaG1lbnQ7XG4gICAgICAgICAgICBjb25zdCBza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvOiBTa2lubmVkTWVzaEF0dGFjaG1lbnRJbmZvID0gc2xvdF9pbmZvLmF0dGFjaG1lbnRfaW5mb19tYXBbYXR0YWNobWVudF9rZXldID0gbmV3IFNraW5uZWRNZXNoQXR0YWNobWVudEluZm8oKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleF9jb3VudDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudXZzLmxlbmd0aCAvIDI7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfcG9zaXRpb246IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoMiAqIHZlcnRleF9jb3VudCk7IC8vIFsgeCwgeSBdXG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfYmxlbmRlcnM6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoMiAqIHJlbmRlci5nbF9za2luX3NoYWRlcl9ibGVuZGVyc19jb3VudCAqIHZlcnRleF9jb3VudCk7IC8vIFsgaSwgdyBdXG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfdGV4Y29vcmQ6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudXZzKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleF90cmlhbmdsZTogVWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudHJpYW5nbGVzKTtcbiAgICAgICAgICAgIGNvbnN0IGJsZW5kX2JvbmVfaW5kZXhfYXJyYXk6IG51bWJlcltdID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5ibGVuZF9ib25lX2luZGV4X2FycmF5ID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCB2ZXJ0ZXhfaW5kZXggPSAwLCBpbmRleCA9IDA7IHZlcnRleF9pbmRleCA8IHZlcnRleF9jb3VudDsgKyt2ZXJ0ZXhfaW5kZXgpIHtcbiAgICAgICAgICAgICAgY29uc3QgYmxlbmRlcl9jb3VudDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgIGxldCBibGVuZGVyX2FycmF5OiBhbnlbXSA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKGxldCBibGVuZGVyX2luZGV4ID0gMDsgYmxlbmRlcl9pbmRleCA8IGJsZW5kZXJfY291bnQ7ICsrYmxlbmRlcl9pbmRleCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVfaW5kZXg6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHg6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHk6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdlaWdodDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgYmxlbmRlcl9hcnJheS5wdXNoKHsgcG9zaXRpb246IG5ldyBzcGluZS5WZWN0b3IoeCwgeSksIGJvbmVfaW5kZXg6IGJvbmVfaW5kZXgsIHdlaWdodDogd2VpZ2h0IH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIHNvcnQgdGhlIGJsZW5kZXIgYXJyYXkgZGVzY2VuZGluZyBieSB3ZWlnaHRcbiAgICAgICAgICAgICAgYmxlbmRlcl9hcnJheSA9IGJsZW5kZXJfYXJyYXkuc29ydChmdW5jdGlvbihhOiBhbnksIGI6IGFueSk6IG51bWJlciB7IHJldHVybiBiLndlaWdodCAtIGEud2VpZ2h0OyB9KTtcbiAgICAgICAgICAgICAgLy8gY2xhbXAgYmxlbmRlciBhcnJheSBhbmQgYWRqdXN0IHdlaWdodHNcbiAgICAgICAgICAgICAgaWYgKGJsZW5kZXJfYXJyYXkubGVuZ3RoID4gcmVuZGVyLmdsX3NraW5fc2hhZGVyX2JsZW5kZXJzX2NvdW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJibGVuZCBhcnJheSBsZW5ndGggZm9yXCIsIGF0dGFjaG1lbnRfa2V5LCBcImlzXCIsIGJsZW5kZXJfYXJyYXkubGVuZ3RoLCBcInNvIGNsYW1wIHRvXCIsIHJlbmRlci5nbF9za2luX3NoYWRlcl9ibGVuZGVyc19jb3VudCk7XG4gICAgICAgICAgICAgICAgYmxlbmRlcl9hcnJheS5sZW5ndGggPSByZW5kZXIuZ2xfc2tpbl9zaGFkZXJfYmxlbmRlcnNfY291bnQ7XG4gICAgICAgICAgICAgICAgbGV0IHdlaWdodF9zdW06IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgYmxlbmRlcl9hcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGJsZW5kOiBhbnkpOiB2b2lkIHsgd2VpZ2h0X3N1bSArPSBibGVuZC53ZWlnaHQ7IH0pO1xuICAgICAgICAgICAgICAgIGJsZW5kZXJfYXJyYXkuZm9yRWFjaChmdW5jdGlvbihibGVuZDogYW55KTogdm9pZCB7IGJsZW5kLndlaWdodCAvPSB3ZWlnaHRfc3VtOyB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgcG9zaXRpb25feDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uX3k6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgIGNvbnN0IGJsZW5kX3Bvc2l0aW9uOiBzcGluZS5WZWN0b3IgPSBuZXcgc3BpbmUuVmVjdG9yKCk7XG4gICAgICAgICAgICAgIGxldCB2ZXJ0ZXhfYmxlbmRlcnNfb2Zmc2V0OiBudW1iZXIgPSB2ZXJ0ZXhfaW5kZXggKiAyICogcmVuZGVyLmdsX3NraW5fc2hhZGVyX2JsZW5kZXJzX2NvdW50O1xuICAgICAgICAgICAgICBibGVuZGVyX2FycmF5LmZvckVhY2goZnVuY3Rpb24oYmxlbmQ6IGFueSwgaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2Ygd2hpY2ggYm9uZXMgYXJlIHVzZWQgZm9yIGJsZW5kaW5nXG4gICAgICAgICAgICAgICAgaWYgKGJsZW5kX2JvbmVfaW5kZXhfYXJyYXkuaW5kZXhPZihibGVuZC5ib25lX2luZGV4KSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIGJsZW5kX2JvbmVfaW5kZXhfYXJyYXkucHVzaChibGVuZC5ib25lX2luZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYm9uZV9rZXk6IHN0cmluZyA9IHNwaW5lX2RhdGEuYm9uZV9rZXlzW2JsZW5kLmJvbmVfaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmU6IHNwaW5lLkJvbmUgPSBzcGluZV9kYXRhLmJvbmVzW2JvbmVfa2V5XTtcbiAgICAgICAgICAgICAgICBzcGluZS5TcGFjZS50cmFuc2Zvcm0oYm9uZS53b3JsZF9zcGFjZSwgYmxlbmQucG9zaXRpb24sIGJsZW5kX3Bvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbl94ICs9IGJsZW5kX3Bvc2l0aW9uLnggKiBibGVuZC53ZWlnaHQ7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25feSArPSBibGVuZF9wb3NpdGlvbi55ICogYmxlbmQud2VpZ2h0O1xuICAgICAgICAgICAgICAgIC8vIGluZGV4IGludG8gZ2xfc2tpbl9zaGFkZXJfbW9kZWx2aWV3X2FycmF5LCBub3Qgc3BpbmVfcG9zZS5kYXRhLmJvbmVfa2V5c1xuICAgICAgICAgICAgICAgIHZlcnRleF9ibGVuZGVyc1t2ZXJ0ZXhfYmxlbmRlcnNfb2Zmc2V0KytdID0gYmxlbmRfYm9uZV9pbmRleF9hcnJheS5pbmRleE9mKGJsZW5kLmJvbmVfaW5kZXgpO1xuICAgICAgICAgICAgICAgIHZlcnRleF9ibGVuZGVyc1t2ZXJ0ZXhfYmxlbmRlcnNfb2Zmc2V0KytdID0gYmxlbmQud2VpZ2h0O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbGV0IHZlcnRleF9wb3NpdGlvbl9vZmZzZXQ6IG51bWJlciA9IHZlcnRleF9pbmRleCAqIDI7XG4gICAgICAgICAgICAgIHZlcnRleF9wb3NpdGlvblt2ZXJ0ZXhfcG9zaXRpb25fb2Zmc2V0KytdID0gcG9zaXRpb25feDtcbiAgICAgICAgICAgICAgdmVydGV4X3Bvc2l0aW9uW3ZlcnRleF9wb3NpdGlvbl9vZmZzZXQrK10gPSBwb3NpdGlvbl95O1xuICAgICAgICAgICAgICBpZiAoYmxlbmRfYm9uZV9pbmRleF9hcnJheS5sZW5ndGggPiByZW5kZXIuZ2xfc2tpbl9zaGFkZXJfbW9kZWx2aWV3X2NvdW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJibGVuZCBib25lIGluZGV4IGFycmF5IGxlbmd0aCBmb3JcIiwgYXR0YWNobWVudF9rZXksIFwiaXNcIiwgYmxlbmRfYm9uZV9pbmRleF9hcnJheS5sZW5ndGgsIFwiZ3JlYXRlciB0aGFuXCIsIHJlbmRlci5nbF9za2luX3NoYWRlcl9tb2RlbHZpZXdfY291bnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvLmdsX3ZlcnRleF9wb3NpdGlvbiA9IGdsTWFrZVZlcnRleChnbCwgdmVydGV4X3Bvc2l0aW9uLCAyLCBnbC5BUlJBWV9CVUZGRVIsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgICAgIHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X2JsZW5kZXJzID0gZ2xNYWtlVmVydGV4KGdsLCB2ZXJ0ZXhfYmxlbmRlcnMsIDIsIGdsLkFSUkFZX0JVRkZFUiwgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICAgICAgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfdGV4Y29vcmQgPSBnbE1ha2VWZXJ0ZXgoZ2wsIHZlcnRleF90ZXhjb29yZCwgMiwgZ2wuQVJSQVlfQlVGRkVSLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgICAgICBza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvLmdsX3ZlcnRleF90cmlhbmdsZSA9IGdsTWFrZVZlcnRleChnbCwgdmVydGV4X3RyaWFuZ2xlLCAxLCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICAgICAgY29uc3QgYW5pbV9mZmRfYXR0YWNobWVudHM6IGFueSA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8uYW5pbV9mZmRfYXR0YWNobWVudHMgPSB7fTtcbiAgICAgICAgICAgIHNwaW5lX2RhdGEuaXRlcmF0ZUFuaW1zKGZ1bmN0aW9uKGFuaW1fa2V5OiBzdHJpbmcsIGFuaW06IHNwaW5lLkFuaW1hdGlvbik6IHZvaWQge1xuICAgICAgICAgICAgICBjb25zdCBhbmltX2ZmZDogc3BpbmUuQW5pbUZmZCA9IGFuaW0uZmZkcyAmJiBhbmltLmZmZHNbc2tpbl9rZXldO1xuICAgICAgICAgICAgICBjb25zdCBmZmRfc2xvdDogc3BpbmUuRmZkU2xvdCA9IGFuaW1fZmZkICYmIGFuaW1fZmZkLmZmZF9zbG90c1tzbG90X2tleV07XG4gICAgICAgICAgICAgIGNvbnN0IGZmZF9hdHRhY2htZW50OiBzcGluZS5GZmRBdHRhY2htZW50ID0gZmZkX3Nsb3QgJiYgZmZkX3Nsb3QuZmZkX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICAgICAgaWYgKGZmZF9hdHRhY2htZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbV9mZmRfYXR0YWNobWVudDogYW55ID0gYW5pbV9mZmRfYXR0YWNobWVudHNbYW5pbV9rZXldID0ge307XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbV9mZmRfa2V5ZnJhbWVzOiBhbnlbXSA9IGFuaW1fZmZkX2F0dGFjaG1lbnQuZmZkX2tleWZyYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZmZF9hdHRhY2htZW50LmZmZF9rZXlmcmFtZXMuZm9yRWFjaChmdW5jdGlvbihmZmRfa2V5ZnJhbWU6IHNwaW5lLkZmZEtleWZyYW1lLCBmZmRfa2V5ZnJhbWVfaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbV9mZmRfa2V5ZnJhbWU6IGFueSA9IGFuaW1fZmZkX2tleWZyYW1lc1tmZmRfa2V5ZnJhbWVfaW5kZXhdID0ge307XG4gICAgICAgICAgICAgICAgICBjb25zdCB2ZXJ0ZXg6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoMiAqIHZlcnRleF9jb3VudCk7XG4gICAgICAgICAgICAgICAgICBmb3IgKGxldCB2ZXJ0ZXhfaW5kZXggPSAwLCBpbmRleCA9IDAsIGZmZF9pbmRleCA9IDA7IHZlcnRleF9pbmRleCA8IHZlcnRleF9jb3VudDsgKyt2ZXJ0ZXhfaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxlbmRlcl9jb3VudDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgIGxldCB2ZXJ0ZXhfeDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZlcnRleF95OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBibGVuZGVyX2luZGV4ID0gMDsgYmxlbmRlcl9pbmRleCA8IGJsZW5kZXJfY291bnQ7ICsrYmxlbmRlcl9pbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVfaW5kZXg6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHg6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHk6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdlaWdodDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9ycGhfcG9zaXRpb25feDogbnVtYmVyID0gZmZkX2tleWZyYW1lLnZlcnRpY2VzW2ZmZF9pbmRleCAtIGZmZF9rZXlmcmFtZS5vZmZzZXRdIHx8IDA7ICsrZmZkX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vcnBoX3Bvc2l0aW9uX3k6IG51bWJlciA9IGZmZF9rZXlmcmFtZS52ZXJ0aWNlc1tmZmRfaW5kZXggLSBmZmRfa2V5ZnJhbWUub2Zmc2V0XSB8fCAwOyArK2ZmZF9pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhfeCArPSBtb3JwaF9wb3NpdGlvbl94ICogd2VpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgIHZlcnRleF95ICs9IG1vcnBoX3Bvc2l0aW9uX3kgKiB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHZlcnRleF9vZmZzZXQ6IG51bWJlciA9IHZlcnRleF9pbmRleCAqIDI7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRleFt2ZXJ0ZXhfb2Zmc2V0KytdID0gdmVydGV4X3g7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRleFt2ZXJ0ZXhfb2Zmc2V0KytdID0gdmVydGV4X3k7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBhbmltX2ZmZF9rZXlmcmFtZS5nbF92ZXJ0ZXggPSBnbE1ha2VWZXJ0ZXgoZ2wsIHZlcnRleCwgMiwgZ2wuQVJSQVlfQlVGRkVSLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKGF0bGFzX2RhdGEpIHtcbiAgICAgIC8vIGxvYWQgYXRsYXMgcGFnZSBpbWFnZXNcbiAgICAgIGF0bGFzX2RhdGEucGFnZXMuZm9yRWFjaChmdW5jdGlvbihwYWdlKSB7XG4gICAgICAgIGlmIChwYWdlLmZvcm1hdCAhPT0gJ1JHQkE4ODg4Jykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihwYWdlLmZvcm1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdsX21pbl9maWx0ZXI6IG51bWJlciA9IGdsLk5PTkU7XG4gICAgICAgIHN3aXRjaCAocGFnZS5taW5fZmlsdGVyKSB7XG4gICAgICAgICAgY2FzZSAnTmVhcmVzdCc6IGdsX21pbl9maWx0ZXIgPSBnbC5ORUFSRVNUOyBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiBjYXNlICdMaW5lYXInOiBnbF9taW5fZmlsdGVyID0gZ2wuTElORUFSOyBicmVhaztcbiAgICAgICAgICBjYXNlICdNaXBNYXBOZWFyZXN0TmVhcmVzdCc6IGdsX21pbl9maWx0ZXIgPSBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOyBicmVhaztcbiAgICAgICAgICBjYXNlICdNaXBNYXBMaW5lYXJOZWFyZXN0JzogZ2xfbWluX2ZpbHRlciA9IGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnTWlwTWFwTmVhcmVzdExpbmVhcic6IGdsX21pbl9maWx0ZXIgPSBnbC5ORUFSRVNUX01JUE1BUF9MSU5FQVI7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ01pcE1hcExpbmVhckxpbmVhcic6IGdsX21pbl9maWx0ZXIgPSBnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUjsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdsX21hZ19maWx0ZXI6IG51bWJlciA9IGdsLk5PTkU7XG4gICAgICAgIHN3aXRjaCAocGFnZS5tYWdfZmlsdGVyKSB7XG4gICAgICAgICAgY2FzZSAnTmVhcmVzdCc6IGdsX21hZ19maWx0ZXIgPSBnbC5ORUFSRVNUOyBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiBjYXNlICdMaW5lYXInOiBnbF9tYWdfZmlsdGVyID0gZ2wuTElORUFSOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ2xfd3JhcF9zOiBudW1iZXIgPSBnbC5OT05FO1xuICAgICAgICBzd2l0Y2ggKHBhZ2Uud3JhcF9zKSB7XG4gICAgICAgICAgY2FzZSAnUmVwZWF0JzogZ2xfd3JhcF9zID0gZ2wuUkVQRUFUOyBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiBjYXNlICdDbGFtcFRvRWRnZSc6IGdsX3dyYXBfcyA9IGdsLkNMQU1QX1RPX0VER0U7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ01pcnJvcmVkUmVwZWF0JzogZ2xfd3JhcF9zID0gZ2wuTUlSUk9SRURfUkVQRUFUOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ2xfd3JhcF90OiBudW1iZXIgPSBnbC5OT05FO1xuICAgICAgICBzd2l0Y2ggKHBhZ2Uud3JhcF90KSB7XG4gICAgICAgICAgY2FzZSAnUmVwZWF0JzogZ2xfd3JhcF90ID0gZ2wuUkVQRUFUOyBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiBjYXNlICdDbGFtcFRvRWRnZSc6IGdsX3dyYXBfdCA9IGdsLkNMQU1QX1RPX0VER0U7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ01pcnJvcmVkUmVwZWF0JzogZ2xfd3JhcF90ID0gZ2wuTUlSUk9SRURfUkVQRUFUOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbWFnZV9rZXk6IHN0cmluZyA9IHBhZ2UubmFtZTtcbiAgICAgICAgY29uc3QgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgPSBpbWFnZXNbaW1hZ2Vfa2V5XTtcbiAgICAgICAgY29uc3QgZ2xfdGV4dHVyZTogV2ViR0xUZXh0dXJlID0gcmVuZGVyLmdsX3RleHR1cmVzW2ltYWdlX2tleV0gPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsX3RleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGltYWdlKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsX21pbl9maWx0ZXIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2xfbWFnX2ZpbHRlcik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsX3dyYXBfcyk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsX3dyYXBfdCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbG9hZCBhdHRhY2htZW50IGltYWdlc1xuICAgICAgc3BpbmVfZGF0YS5pdGVyYXRlU2tpbnMoZnVuY3Rpb24oc2tpbl9rZXksIHNraW4pIHtcbiAgICAgICAgc2tpbi5pdGVyYXRlQXR0YWNobWVudHMoZnVuY3Rpb24oc2xvdF9rZXksIHNraW5fc2xvdCwgYXR0YWNobWVudF9rZXksIGF0dGFjaG1lbnQpIHtcbiAgICAgICAgICBpZiAoIWF0dGFjaG1lbnQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgc3dpdGNoIChhdHRhY2htZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JlZ2lvbic6XG4gICAgICAgICAgICBjYXNlICdtZXNoJzpcbiAgICAgICAgICAgIGNhc2UgJ3NraW5uZWRtZXNoJzpcbiAgICAgICAgICAgICAgY29uc3QgaW1hZ2Vfa2V5OiBzdHJpbmcgPSBhdHRhY2htZW50X2tleTtcbiAgICAgICAgICAgICAgY29uc3QgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgPSBpbWFnZXNbaW1hZ2Vfa2V5XTtcbiAgICAgICAgICAgICAgY29uc3QgZ2xfdGV4dHVyZTogV2ViR0xUZXh0dXJlID0gcmVuZGVyLmdsX3RleHR1cmVzW2ltYWdlX2tleV0gPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsX3RleHR1cmUpO1xuICAgICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGltYWdlKTtcbiAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBwdWJsaWMgZHJhd1Bvc2Uoc3BpbmVfcG9zZTogc3BpbmUuUG9zZSwgYXRsYXNfZGF0YTogYXRsYXMuRGF0YSk6IHZvaWQge1xuICAgIGNvbnN0IHJlbmRlcjogUmVuZGVyV2ViR0wgPSB0aGlzO1xuICAgIGNvbnN0IGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQgPSByZW5kZXIuZ2w7XG4gICAgaWYgKCFnbCkgeyByZXR1cm47IH1cbiAgICBjb25zdCBnbF9wcm9qZWN0aW9uOiBGbG9hdDMyQXJyYXkgPSByZW5kZXIuZ2xfcHJvamVjdGlvbjtcbiAgICBjb25zdCBnbF9tb2RlbHZpZXc6IEZsb2F0MzJBcnJheSA9IHJlbmRlci5nbF9tb2RlbHZpZXc7XG4gICAgY29uc3QgZ2xfdGV4X21hdHJpeDogRmxvYXQzMkFycmF5ID0gcmVuZGVyLmdsX3RleF9tYXRyaXg7XG4gICAgY29uc3QgZ2xfY29sb3I6IEZsb2F0MzJBcnJheSA9IHJlbmRlci5nbF9jb2xvcjtcbiAgICBjb25zdCBhbHBoYTogbnVtYmVyID0gZ2xfY29sb3JbM107XG4gICAgc3BpbmVfcG9zZS5pdGVyYXRlQXR0YWNobWVudHMoZnVuY3Rpb24oc2xvdF9rZXk6IHN0cmluZywgc2xvdDogc3BpbmUuU2xvdCwgc2tpbl9zbG90OiBzcGluZS5Ta2luU2xvdCwgYXR0YWNobWVudF9rZXk6IHN0cmluZywgYXR0YWNobWVudDogc3BpbmUuQXR0YWNobWVudCk6IHZvaWQge1xuICAgICAgaWYgKCFhdHRhY2htZW50KSB7IHJldHVybjsgfVxuICAgICAgaWYgKGF0dGFjaG1lbnQudHlwZSA9PT0gJ2JvdW5kaW5nYm94JykgeyByZXR1cm47IH1cbiAgICAgIGNvbnN0IHNpdGU6IGF0bGFzLlNpdGUgPSBhdGxhc19kYXRhICYmIGF0bGFzX2RhdGEuc2l0ZXNbYXR0YWNobWVudF9rZXldO1xuICAgICAgY29uc3QgcGFnZTogYXRsYXMuUGFnZSA9IHNpdGUgJiYgc2l0ZS5wYWdlO1xuICAgICAgY29uc3QgaW1hZ2Vfa2V5OiBzdHJpbmcgPSAocGFnZSAmJiBwYWdlLm5hbWUpIHx8IGF0dGFjaG1lbnRfa2V5O1xuICAgICAgY29uc3QgZ2xfdGV4dHVyZTogV2ViR0xUZXh0dXJlID0gcmVuZGVyLmdsX3RleHR1cmVzW2ltYWdlX2tleV07XG4gICAgICBpZiAoIWdsX3RleHR1cmUpIHsgcmV0dXJuOyB9XG4gICAgICBtYXQzeDNJZGVudGl0eShnbF9tb2RlbHZpZXcpO1xuICAgICAgbWF0M3gzSWRlbnRpdHkoZ2xfdGV4X21hdHJpeCk7XG4gICAgICBtYXQzeDNBcHBseUF0bGFzUGFnZVRleGNvb3JkKGdsX3RleF9tYXRyaXgsIHBhZ2UpO1xuICAgICAgbWF0M3gzQXBwbHlBdGxhc1NpdGVUZXhjb29yZChnbF90ZXhfbWF0cml4LCBzaXRlKTtcbiAgICAgIHZlYzRDb3B5Q29sb3IoZ2xfY29sb3IsIHNsb3QuY29sb3IpO1xuICAgICAgZ2xfY29sb3JbM10gKj0gYWxwaGE7XG4gICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgc3dpdGNoIChzbG90LmJsZW5kKSB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNhc2UgJ25vcm1hbCc6IGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpOyBicmVhaztcbiAgICAgICAgY2FzZSAnYWRkaXRpdmUnOiBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkUpOyBicmVhaztcbiAgICAgICAgY2FzZSAnbXVsdGlwbHknOiBnbC5ibGVuZEZ1bmMoZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NjcmVlbic6IGdsLmJsZW5kRnVuYyhnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IpOyBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNraW5faW5mbzogU2tpbkluZm8gPSByZW5kZXIuc2tpbl9pbmZvX21hcFtzcGluZV9wb3NlLnNraW5fa2V5XTtcbiAgICAgIGNvbnN0IGRlZmF1bHRfc2tpbl9pbmZvOiBTa2luSW5mbyA9IHJlbmRlci5za2luX2luZm9fbWFwWydkZWZhdWx0J107XG4gICAgICBjb25zdCBzbG90X2luZm86IFNsb3RJbmZvID0gc2tpbl9pbmZvLnNsb3RfaW5mb19tYXBbc2xvdF9rZXldIHx8IGRlZmF1bHRfc2tpbl9pbmZvLnNsb3RfaW5mb19tYXBbc2xvdF9rZXldO1xuICAgICAgc3dpdGNoIChhdHRhY2htZW50LnR5cGUpIHtcbiAgICAgICAgY2FzZSAncmVnaW9uJzoge1xuICAgICAgICAgIGNvbnN0IGJvbmU6IHNwaW5lLkJvbmUgPSBzcGluZV9wb3NlLmJvbmVzW3Nsb3QuYm9uZV9rZXldO1xuICAgICAgICAgIGNvbnN0IHJlZ2lvbl9hdHRhY2htZW50OiBzcGluZS5SZWdpb25BdHRhY2htZW50ID0gPHNwaW5lLlJlZ2lvbkF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICBjb25zdCByZWdpb25fYXR0YWNobWVudF9pbmZvOiBSZWdpb25BdHRhY2htZW50SW5mbyA9IDxSZWdpb25BdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgbWF0M3gzQXBwbHlTcGFjZShnbF9tb2RlbHZpZXcsIGJvbmUud29ybGRfc3BhY2UpO1xuICAgICAgICAgIG1hdDN4M0FwcGx5U3BhY2UoZ2xfbW9kZWx2aWV3LCByZWdpb25fYXR0YWNobWVudC5sb2NhbF9zcGFjZSk7XG4gICAgICAgICAgbWF0M3gzU2NhbGUoZ2xfbW9kZWx2aWV3LCByZWdpb25fYXR0YWNobWVudC53aWR0aCAvIDIsIHJlZ2lvbl9hdHRhY2htZW50LmhlaWdodCAvIDIpO1xuICAgICAgICAgIG1hdDN4M0FwcGx5QXRsYXNTaXRlUG9zaXRpb24oZ2xfbW9kZWx2aWV3LCBzaXRlKTtcbiAgICAgICAgICBjb25zdCBnbF9zaGFkZXI6IGdsU2hhZGVyID0gcmVuZGVyLmdsX21lc2hfc2hhZGVyO1xuICAgICAgICAgIGNvbnN0IGdsX3ZlcnRleF9wb3NpdGlvbjogZ2xWZXJ0ZXggPSByZW5kZXIuZ2xfcmVnaW9uX3ZlcnRleF9wb3NpdGlvbjtcbiAgICAgICAgICBjb25zdCBnbF92ZXJ0ZXhfdGV4Y29vcmQ6IGdsVmVydGV4ID0gcmVuZGVyLmdsX3JlZ2lvbl92ZXJ0ZXhfdGV4Y29vcmQ7XG4gICAgICAgICAgZ2wudXNlUHJvZ3JhbShnbF9zaGFkZXIucHJvZ3JhbSk7XG4gICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihnbF9zaGFkZXIudW5pZm9ybXNbJ3VQcm9qZWN0aW9uJ10sIGZhbHNlLCBnbF9wcm9qZWN0aW9uKTtcbiAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KGdsX3NoYWRlci51bmlmb3Jtc1sndU1vZGVsdmlldyddLCBmYWxzZSwgZ2xfbW9kZWx2aWV3KTtcbiAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KGdsX3NoYWRlci51bmlmb3Jtc1sndVRleE1hdHJpeCddLCBmYWxzZSwgZ2xfdGV4X21hdHJpeCk7XG4gICAgICAgICAgZ2wudW5pZm9ybTRmdihnbF9zaGFkZXIudW5pZm9ybXNbJ3VDb2xvciddLCBnbF9jb2xvcik7XG4gICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZ2xfdGV4dHVyZSk7XG4gICAgICAgICAgZ2wudW5pZm9ybTFpKGdsX3NoYWRlci51bmlmb3Jtc1sndVNhbXBsZXInXSwgMCk7XG4gICAgICAgICAgZ2xTZXR1cEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleFBvc2l0aW9uJywgZ2xfdmVydGV4X3Bvc2l0aW9uKTtcbiAgICAgICAgICBnbFNldHVwQXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4VGV4Q29vcmQnLCBnbF92ZXJ0ZXhfdGV4Y29vcmQpO1xuICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfRkFOLCAwLCBnbF92ZXJ0ZXhfcG9zaXRpb24uY291bnQpO1xuICAgICAgICAgIGdsUmVzZXRBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhQb3NpdGlvbicsIGdsX3ZlcnRleF9wb3NpdGlvbik7XG4gICAgICAgICAgZ2xSZXNldEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleFRleENvb3JkJywgZ2xfdmVydGV4X3RleGNvb3JkKTtcbiAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICAgICAgICBnbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ21lc2gnOiB7XG4gICAgICAgICAgY29uc3QgYm9uZTogc3BpbmUuQm9uZSA9IHNwaW5lX3Bvc2UuYm9uZXNbc2xvdC5ib25lX2tleV07XG4gICAgICAgICAgY29uc3QgbWVzaF9hdHRhY2htZW50OiBzcGluZS5NZXNoQXR0YWNobWVudCA9IDxzcGluZS5NZXNoQXR0YWNobWVudD5hdHRhY2htZW50O1xuICAgICAgICAgIGNvbnN0IG1lc2hfYXR0YWNobWVudF9pbmZvOiBNZXNoQXR0YWNobWVudEluZm8gPSA8TWVzaEF0dGFjaG1lbnRJbmZvPnNsb3RfaW5mby5hdHRhY2htZW50X2luZm9fbWFwW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICBtYXQzeDNBcHBseVNwYWNlKGdsX21vZGVsdmlldywgYm9uZS53b3JsZF9zcGFjZSk7XG4gICAgICAgICAgbWF0M3gzQXBwbHlBdGxhc1NpdGVQb3NpdGlvbihnbF9tb2RlbHZpZXcsIHNpdGUpO1xuICAgICAgICAgIGNvbnN0IGFuaW06IHNwaW5lLkFuaW1hdGlvbiA9IHNwaW5lX3Bvc2UuZGF0YS5hbmltc1tzcGluZV9wb3NlLmFuaW1fa2V5XTtcbiAgICAgICAgICBjb25zdCBhbmltX2ZmZDogc3BpbmUuQW5pbUZmZCA9IGFuaW0gJiYgYW5pbS5mZmRzICYmIGFuaW0uZmZkc1tzcGluZV9wb3NlLnNraW5fa2V5XTtcbiAgICAgICAgICBjb25zdCBmZmRfc2xvdDogc3BpbmUuRmZkU2xvdCA9IGFuaW1fZmZkICYmIGFuaW1fZmZkLmZmZF9zbG90c1tzbG90X2tleV07XG4gICAgICAgICAgY29uc3QgZmZkX2F0dGFjaG1lbnQ6IHNwaW5lLkZmZEF0dGFjaG1lbnQgPSBmZmRfc2xvdCAmJiBmZmRfc2xvdC5mZmRfYXR0YWNobWVudHNbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgIGNvbnN0IGZmZF9rZXlmcmFtZXM6IHNwaW5lLkZmZEtleWZyYW1lW10gPSBmZmRfYXR0YWNobWVudCAmJiBmZmRfYXR0YWNobWVudC5mZmRfa2V5ZnJhbWVzO1xuICAgICAgICAgIGNvbnN0IGZmZF9rZXlmcmFtZTBfaW5kZXg6IG51bWJlciA9IHNwaW5lLktleWZyYW1lLmZpbmQoZmZkX2tleWZyYW1lcywgc3BpbmVfcG9zZS50aW1lKTtcbiAgICAgICAgICBpZiAoZmZkX2tleWZyYW1lMF9pbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIGZmZFxuICAgICAgICAgICAgbGV0IHBjdDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGZmZF9rZXlmcmFtZTA6IHNwaW5lLkZmZEtleWZyYW1lID0gZmZkX2tleWZyYW1lc1tmZmRfa2V5ZnJhbWUwX2luZGV4XTtcbiAgICAgICAgICAgIGxldCBmZmRfa2V5ZnJhbWUxX2luZGV4OiBudW1iZXIgPSBmZmRfa2V5ZnJhbWUwX2luZGV4ICsgMTtcbiAgICAgICAgICAgIGxldCBmZmRfa2V5ZnJhbWUxOiBzcGluZS5GZmRLZXlmcmFtZSA9IGZmZF9rZXlmcmFtZXNbZmZkX2tleWZyYW1lMV9pbmRleF07XG4gICAgICAgICAgICBpZiAoZmZkX2tleWZyYW1lMSkge1xuICAgICAgICAgICAgICBwY3QgPSBmZmRfa2V5ZnJhbWUwLmN1cnZlLmV2YWx1YXRlKChzcGluZV9wb3NlLnRpbWUgLSBmZmRfa2V5ZnJhbWUwLnRpbWUpIC8gKGZmZF9rZXlmcmFtZTEudGltZSAtIGZmZF9rZXlmcmFtZTAudGltZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmZkX2tleWZyYW1lMV9pbmRleCA9IGZmZF9rZXlmcmFtZTBfaW5kZXg7XG4gICAgICAgICAgICAgIGZmZF9rZXlmcmFtZTEgPSBmZmRfa2V5ZnJhbWVzW2ZmZF9rZXlmcmFtZTFfaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYW5pbV9mZmRfYXR0YWNobWVudDogYW55ID0gbWVzaF9hdHRhY2htZW50X2luZm8uYW5pbV9mZmRfYXR0YWNobWVudHNbc3BpbmVfcG9zZS5hbmltX2tleV07XG4gICAgICAgICAgICBjb25zdCBhbmltX2ZmZF9rZXlmcmFtZTA6IGFueSA9IGFuaW1fZmZkX2F0dGFjaG1lbnQuZmZkX2tleWZyYW1lc1tmZmRfa2V5ZnJhbWUwX2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1fZmZkX2tleWZyYW1lMTogYW55ID0gYW5pbV9mZmRfYXR0YWNobWVudC5mZmRfa2V5ZnJhbWVzW2ZmZF9rZXlmcmFtZTFfaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZ2xfc2hhZGVyOiBnbFNoYWRlciA9IHJlbmRlci5nbF9mZmRfbWVzaF9zaGFkZXI7XG4gICAgICAgICAgICBjb25zdCBnbF92ZXJ0ZXhfcG9zaXRpb246IGdsVmVydGV4ID0gbWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X3Bvc2l0aW9uO1xuICAgICAgICAgICAgY29uc3QgZ2xfdmVydGV4X3RleGNvb3JkOiBnbFZlcnRleCA9IG1lc2hfYXR0YWNobWVudF9pbmZvLmdsX3ZlcnRleF90ZXhjb29yZDtcbiAgICAgICAgICAgIGNvbnN0IGdsX3ZlcnRleF90cmlhbmdsZTogZ2xWZXJ0ZXggPSBtZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfdHJpYW5nbGU7XG4gICAgICAgICAgICBnbC51c2VQcm9ncmFtKGdsX3NoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYoZ2xfc2hhZGVyLnVuaWZvcm1zWyd1UHJvamVjdGlvbiddLCBmYWxzZSwgZ2xfcHJvamVjdGlvbik7XG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KGdsX3NoYWRlci51bmlmb3Jtc1sndU1vZGVsdmlldyddLCBmYWxzZSwgZ2xfbW9kZWx2aWV3KTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYoZ2xfc2hhZGVyLnVuaWZvcm1zWyd1VGV4TWF0cml4J10sIGZhbHNlLCBnbF90ZXhfbWF0cml4KTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYoZ2xfc2hhZGVyLnVuaWZvcm1zWyd1Q29sb3InXSwgZ2xfY29sb3IpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKGdsX3NoYWRlci51bmlmb3Jtc1sndU1vcnBoV2VpZ2h0J10sIHBjdCk7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsX3RleHR1cmUpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGdsX3NoYWRlci51bmlmb3Jtc1sndVNhbXBsZXInXSwgMCk7XG4gICAgICAgICAgICBnbFNldHVwQXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4UG9zaXRpb24nLCBnbF92ZXJ0ZXhfcG9zaXRpb24pO1xuICAgICAgICAgICAgZ2xTZXR1cEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleE1vcnBoMFBvc2l0aW9uJywgYW5pbV9mZmRfa2V5ZnJhbWUwLmdsX3ZlcnRleCk7XG4gICAgICAgICAgICBnbFNldHVwQXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4TW9ycGgxUG9zaXRpb24nLCBhbmltX2ZmZF9rZXlmcmFtZTEuZ2xfdmVydGV4KTtcbiAgICAgICAgICAgIGdsU2V0dXBBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhUZXhDb29yZCcsIGdsX3ZlcnRleF90ZXhjb29yZCk7XG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnbF92ZXJ0ZXhfdHJpYW5nbGUuYnVmZmVyKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGdsX3ZlcnRleF90cmlhbmdsZS5jb3VudCwgZ2xfdmVydGV4X3RyaWFuZ2xlLnR5cGUsIDApO1xuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XG4gICAgICAgICAgICBnbFJlc2V0QXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4UG9zaXRpb24nLCBnbF92ZXJ0ZXhfcG9zaXRpb24pO1xuICAgICAgICAgICAgZ2xSZXNldEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleE1vcnBoMFBvc2l0aW9uJywgYW5pbV9mZmRfa2V5ZnJhbWUwLmdsX3ZlcnRleCk7XG4gICAgICAgICAgICBnbFJlc2V0QXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4TW9ycGgxUG9zaXRpb24nLCBhbmltX2ZmZF9rZXlmcmFtZTEuZ2xfdmVydGV4KTtcbiAgICAgICAgICAgIGdsUmVzZXRBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhUZXhDb29yZCcsIGdsX3ZlcnRleF90ZXhjb29yZCk7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0obnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIGZmZFxuICAgICAgICAgICAgY29uc3QgZ2xfc2hhZGVyOiBnbFNoYWRlciA9IHJlbmRlci5nbF9tZXNoX3NoYWRlcjtcbiAgICAgICAgICAgIGNvbnN0IGdsX3ZlcnRleF9wb3NpdGlvbjogZ2xWZXJ0ZXggPSBtZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfcG9zaXRpb247XG4gICAgICAgICAgICBjb25zdCBnbF92ZXJ0ZXhfdGV4Y29vcmQ6IGdsVmVydGV4ID0gbWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X3RleGNvb3JkO1xuICAgICAgICAgICAgY29uc3QgZ2xfdmVydGV4X3RyaWFuZ2xlOiBnbFZlcnRleCA9IG1lc2hfYXR0YWNobWVudF9pbmZvLmdsX3ZlcnRleF90cmlhbmdsZTtcbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0oZ2xfc2hhZGVyLnByb2dyYW0pO1xuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihnbF9zaGFkZXIudW5pZm9ybXNbJ3VQcm9qZWN0aW9uJ10sIGZhbHNlLCBnbF9wcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYoZ2xfc2hhZGVyLnVuaWZvcm1zWyd1TW9kZWx2aWV3J10sIGZhbHNlLCBnbF9tb2RlbHZpZXcpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdihnbF9zaGFkZXIudW5pZm9ybXNbJ3VUZXhNYXRyaXgnXSwgZmFsc2UsIGdsX3RleF9tYXRyaXgpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTRmdihnbF9zaGFkZXIudW5pZm9ybXNbJ3VDb2xvciddLCBnbF9jb2xvcik7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsX3RleHR1cmUpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGdsX3NoYWRlci51bmlmb3Jtc1sndVNhbXBsZXInXSwgMCk7XG4gICAgICAgICAgICBnbFNldHVwQXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4UG9zaXRpb24nLCBnbF92ZXJ0ZXhfcG9zaXRpb24pO1xuICAgICAgICAgICAgZ2xTZXR1cEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleFRleENvb3JkJywgZ2xfdmVydGV4X3RleGNvb3JkKTtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdsX3ZlcnRleF90cmlhbmdsZS5idWZmZXIpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgZ2xfdmVydGV4X3RyaWFuZ2xlLmNvdW50LCBnbF92ZXJ0ZXhfdHJpYW5nbGUudHlwZSwgMCk7XG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIGdsUmVzZXRBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhQb3NpdGlvbicsIGdsX3ZlcnRleF9wb3NpdGlvbik7XG4gICAgICAgICAgICBnbFJlc2V0QXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4VGV4Q29vcmQnLCBnbF92ZXJ0ZXhfdGV4Y29vcmQpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG4gICAgICAgICAgICBnbC51c2VQcm9ncmFtKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdza2lubmVkbWVzaCc6IHtcbiAgICAgICAgICBjb25zdCBza2lubmVkX21lc2hfYXR0YWNobWVudDogc3BpbmUuU2tpbm5lZE1lc2hBdHRhY2htZW50ID0gPHNwaW5lLlNraW5uZWRNZXNoQXR0YWNobWVudD5hdHRhY2htZW50O1xuICAgICAgICAgIGNvbnN0IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm86IFNraW5uZWRNZXNoQXR0YWNobWVudEluZm8gPSA8U2tpbm5lZE1lc2hBdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgLy8gdXBkYXRlIHNraW4gc2hhZGVyIG1vZGVsdmlldyBhcnJheVxuICAgICAgICAgIGNvbnN0IGJsZW5kX2JvbmVfaW5kZXhfYXJyYXk6IG51bWJlcltdID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5ibGVuZF9ib25lX2luZGV4X2FycmF5O1xuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBibGVuZF9ib25lX2luZGV4X2FycmF5Lmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgY29uc3QgYm9uZV9pbmRleDogbnVtYmVyID0gYmxlbmRfYm9uZV9pbmRleF9hcnJheVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBib25lX2tleTogc3RyaW5nID0gc3BpbmVfcG9zZS5ib25lX2tleXNbYm9uZV9pbmRleF07XG4gICAgICAgICAgICBjb25zdCBib25lOiBzcGluZS5Cb25lID0gc3BpbmVfcG9zZS5ib25lc1tib25lX2tleV07XG4gICAgICAgICAgICBjb25zdCBib25lX2luZm86IEJvbmVJbmZvID0gcmVuZGVyLmJvbmVfaW5mb19tYXBbYm9uZV9rZXldO1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgcmVuZGVyLmdsX3NraW5fc2hhZGVyX21vZGVsdmlld19jb3VudCkge1xuICAgICAgICAgICAgICBjb25zdCBtb2RlbHZpZXc6IEZsb2F0MzJBcnJheSA9IHJlbmRlci5nbF9za2luX3NoYWRlcl9tb2RlbHZpZXdfYXJyYXkuc3ViYXJyYXkoaW5kZXggKiA5LCAoaW5kZXggKyAxKSAqIDkpO1xuICAgICAgICAgICAgICBtYXQzeDNDb3B5KG1vZGVsdmlldywgZ2xfbW9kZWx2aWV3KTtcbiAgICAgICAgICAgICAgbWF0M3gzQXBwbHlTcGFjZShtb2RlbHZpZXcsIGJvbmUud29ybGRfc3BhY2UpO1xuICAgICAgICAgICAgICBtYXQzeDNBcHBseVNwYWNlKG1vZGVsdmlldywgYm9uZV9pbmZvLnNldHVwX3NwYWNlKTtcbiAgICAgICAgICAgICAgbWF0M3gzQXBwbHlBdGxhc1NpdGVQb3NpdGlvbihtb2RlbHZpZXcsIHNpdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBhbmltOiBzcGluZS5BbmltYXRpb24gPSBzcGluZV9wb3NlLmRhdGEuYW5pbXNbc3BpbmVfcG9zZS5hbmltX2tleV07XG4gICAgICAgICAgY29uc3QgYW5pbV9mZmQ6IHNwaW5lLkFuaW1GZmQgPSBhbmltICYmIGFuaW0uZmZkcyAmJiBhbmltLmZmZHNbc3BpbmVfcG9zZS5za2luX2tleV07XG4gICAgICAgICAgY29uc3QgZmZkX3Nsb3Q6IHNwaW5lLkZmZFNsb3QgPSBhbmltX2ZmZCAmJiBhbmltX2ZmZC5mZmRfc2xvdHNbc2xvdF9rZXldO1xuICAgICAgICAgIGNvbnN0IGZmZF9hdHRhY2htZW50OiBzcGluZS5GZmRBdHRhY2htZW50ID0gZmZkX3Nsb3QgJiYgZmZkX3Nsb3QuZmZkX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICBjb25zdCBmZmRfa2V5ZnJhbWVzOiBzcGluZS5GZmRLZXlmcmFtZVtdID0gZmZkX2F0dGFjaG1lbnQgJiYgZmZkX2F0dGFjaG1lbnQuZmZkX2tleWZyYW1lcztcbiAgICAgICAgICBjb25zdCBmZmRfa2V5ZnJhbWUwX2luZGV4OiBudW1iZXIgPSBzcGluZS5LZXlmcmFtZS5maW5kKGZmZF9rZXlmcmFtZXMsIHNwaW5lX3Bvc2UudGltZSk7XG4gICAgICAgICAgaWYgKGZmZF9rZXlmcmFtZTBfaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBmZmRcbiAgICAgICAgICAgIGxldCBwY3Q6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBjb25zdCBmZmRfa2V5ZnJhbWUwOiBzcGluZS5GZmRLZXlmcmFtZSA9IGZmZF9rZXlmcmFtZXNbZmZkX2tleWZyYW1lMF9pbmRleF07XG4gICAgICAgICAgICBsZXQgZmZkX2tleWZyYW1lMV9pbmRleDogbnVtYmVyID0gZmZkX2tleWZyYW1lMF9pbmRleCArIDE7XG4gICAgICAgICAgICBsZXQgZmZkX2tleWZyYW1lMTogc3BpbmUuRmZkS2V5ZnJhbWUgPSBmZmRfa2V5ZnJhbWVzW2ZmZF9rZXlmcmFtZTFfaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGZmZF9rZXlmcmFtZTEpIHtcbiAgICAgICAgICAgICAgcGN0ID0gZmZkX2tleWZyYW1lMC5jdXJ2ZS5ldmFsdWF0ZSgoc3BpbmVfcG9zZS50aW1lIC0gZmZkX2tleWZyYW1lMC50aW1lKSAvIChmZmRfa2V5ZnJhbWUxLnRpbWUgLSBmZmRfa2V5ZnJhbWUwLnRpbWUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZmZF9rZXlmcmFtZTFfaW5kZXggPSBmZmRfa2V5ZnJhbWUwX2luZGV4O1xuICAgICAgICAgICAgICBmZmRfa2V5ZnJhbWUxID0gZmZkX2tleWZyYW1lc1tmZmRfa2V5ZnJhbWUxX2luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFuaW1fZmZkX2F0dGFjaG1lbnQ6IGFueSA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8uYW5pbV9mZmRfYXR0YWNobWVudHNbc3BpbmVfcG9zZS5hbmltX2tleV07XG4gICAgICAgICAgICBjb25zdCBhbmltX2ZmZF9rZXlmcmFtZTA6IGFueSA9IGFuaW1fZmZkX2F0dGFjaG1lbnQuZmZkX2tleWZyYW1lc1tmZmRfa2V5ZnJhbWUwX2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGFuaW1fZmZkX2tleWZyYW1lMTogYW55ID0gYW5pbV9mZmRfYXR0YWNobWVudC5mZmRfa2V5ZnJhbWVzW2ZmZF9rZXlmcmFtZTFfaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZ2xfc2hhZGVyOiBnbFNoYWRlciA9IHJlbmRlci5nbF9mZmRfc2tpbl9zaGFkZXI7XG4gICAgICAgICAgICBjb25zdCBnbF92ZXJ0ZXhfcG9zaXRpb246IGdsVmVydGV4ID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfcG9zaXRpb247XG4gICAgICAgICAgICBjb25zdCBnbF92ZXJ0ZXhfYmxlbmRlcnM6IGdsVmVydGV4ID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfYmxlbmRlcnM7XG4gICAgICAgICAgICBjb25zdCBnbF92ZXJ0ZXhfdGV4Y29vcmQ6IGdsVmVydGV4ID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfdGV4Y29vcmQ7XG4gICAgICAgICAgICBjb25zdCBnbF92ZXJ0ZXhfdHJpYW5nbGU6IGdsVmVydGV4ID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby5nbF92ZXJ0ZXhfdHJpYW5nbGU7XG4gICAgICAgICAgICBnbC51c2VQcm9ncmFtKGdsX3NoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYoZ2xfc2hhZGVyLnVuaWZvcm1zWyd1UHJvamVjdGlvbiddLCBmYWxzZSwgZ2xfcHJvamVjdGlvbik7XG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KGdsX3NoYWRlci51bmlmb3Jtc1sndU1vZGVsdmlld0FycmF5WzBdJ10sIGZhbHNlLCByZW5kZXIuZ2xfc2tpbl9zaGFkZXJfbW9kZWx2aWV3X2FycmF5KTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYoZ2xfc2hhZGVyLnVuaWZvcm1zWyd1VGV4TWF0cml4J10sIGZhbHNlLCBnbF90ZXhfbWF0cml4KTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYoZ2xfc2hhZGVyLnVuaWZvcm1zWyd1Q29sb3InXSwgZ2xfY29sb3IpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFmKGdsX3NoYWRlci51bmlmb3Jtc1sndU1vcnBoV2VpZ2h0J10sIHBjdCk7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGdsX3RleHR1cmUpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGdsX3NoYWRlci51bmlmb3Jtc1sndVNhbXBsZXInXSwgMCk7XG4gICAgICAgICAgICBnbFNldHVwQXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4UG9zaXRpb24nLCBnbF92ZXJ0ZXhfcG9zaXRpb24pO1xuICAgICAgICAgICAgZ2xTZXR1cEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleEJsZW5kZXJze2luZGV4fScsIGdsX3ZlcnRleF9ibGVuZGVycywgcmVuZGVyLmdsX3NraW5fc2hhZGVyX2JsZW5kZXJzX2NvdW50KTtcbiAgICAgICAgICAgIGdsU2V0dXBBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhNb3JwaDBQb3NpdGlvbicsIGFuaW1fZmZkX2tleWZyYW1lMC5nbF92ZXJ0ZXgpO1xuICAgICAgICAgICAgZ2xTZXR1cEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleE1vcnBoMVBvc2l0aW9uJywgYW5pbV9mZmRfa2V5ZnJhbWUxLmdsX3ZlcnRleCk7XG4gICAgICAgICAgICBnbFNldHVwQXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4VGV4Q29vcmQnLCBnbF92ZXJ0ZXhfdGV4Y29vcmQpO1xuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZ2xfdmVydGV4X3RyaWFuZ2xlLmJ1ZmZlcik7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBnbF92ZXJ0ZXhfdHJpYW5nbGUuY291bnQsIGdsX3ZlcnRleF90cmlhbmdsZS50eXBlLCAwKTtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgICAgICAgICAgZ2xSZXNldEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleFBvc2l0aW9uJywgZ2xfdmVydGV4X3Bvc2l0aW9uKTtcbiAgICAgICAgICAgIGdsUmVzZXRBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhCbGVuZGVyc3tpbmRleH0nLCBnbF92ZXJ0ZXhfYmxlbmRlcnMsIHJlbmRlci5nbF9za2luX3NoYWRlcl9ibGVuZGVyc19jb3VudCk7XG4gICAgICAgICAgICBnbFJlc2V0QXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4TW9ycGgwUG9zaXRpb24nLCBhbmltX2ZmZF9rZXlmcmFtZTAuZ2xfdmVydGV4KTtcbiAgICAgICAgICAgIGdsUmVzZXRBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhNb3JwaDFQb3NpdGlvbicsIGFuaW1fZmZkX2tleWZyYW1lMS5nbF92ZXJ0ZXgpO1xuICAgICAgICAgICAgZ2xSZXNldEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleFRleENvb3JkJywgZ2xfdmVydGV4X3RleGNvb3JkKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShudWxsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gZmZkXG4gICAgICAgICAgICBjb25zdCBnbF9zaGFkZXI6IGdsU2hhZGVyID0gcmVuZGVyLmdsX3NraW5fc2hhZGVyO1xuICAgICAgICAgICAgY29uc3QgZ2xfdmVydGV4X3Bvc2l0aW9uOiBnbFZlcnRleCA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X3Bvc2l0aW9uO1xuICAgICAgICAgICAgY29uc3QgZ2xfdmVydGV4X2JsZW5kZXJzOiBnbFZlcnRleCA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X2JsZW5kZXJzO1xuICAgICAgICAgICAgY29uc3QgZ2xfdmVydGV4X3RleGNvb3JkOiBnbFZlcnRleCA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X3RleGNvb3JkO1xuICAgICAgICAgICAgY29uc3QgZ2xfdmVydGV4X3RyaWFuZ2xlOiBnbFZlcnRleCA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8uZ2xfdmVydGV4X3RyaWFuZ2xlO1xuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShnbF9zaGFkZXIucHJvZ3JhbSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KGdsX3NoYWRlci51bmlmb3Jtc1sndVByb2plY3Rpb24nXSwgZmFsc2UsIGdsX3Byb2plY3Rpb24pO1xuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdihnbF9zaGFkZXIudW5pZm9ybXNbJ3VNb2RlbHZpZXdBcnJheVswXSddLCBmYWxzZSwgcmVuZGVyLmdsX3NraW5fc2hhZGVyX21vZGVsdmlld19hcnJheSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KGdsX3NoYWRlci51bmlmb3Jtc1sndVRleE1hdHJpeCddLCBmYWxzZSwgZ2xfdGV4X21hdHJpeCk7XG4gICAgICAgICAgICBnbC51bmlmb3JtNGZ2KGdsX3NoYWRlci51bmlmb3Jtc1sndUNvbG9yJ10sIGdsX2NvbG9yKTtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZ2xfdGV4dHVyZSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkoZ2xfc2hhZGVyLnVuaWZvcm1zWyd1U2FtcGxlciddLCAwKTtcbiAgICAgICAgICAgIGdsU2V0dXBBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhQb3NpdGlvbicsIGdsX3ZlcnRleF9wb3NpdGlvbik7XG4gICAgICAgICAgICBnbFNldHVwQXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4QmxlbmRlcnN7aW5kZXh9JywgZ2xfdmVydGV4X2JsZW5kZXJzLCByZW5kZXIuZ2xfc2tpbl9zaGFkZXJfYmxlbmRlcnNfY291bnQpO1xuICAgICAgICAgICAgZ2xTZXR1cEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleFRleENvb3JkJywgZ2xfdmVydGV4X3RleGNvb3JkKTtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdsX3ZlcnRleF90cmlhbmdsZS5idWZmZXIpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgZ2xfdmVydGV4X3RyaWFuZ2xlLmNvdW50LCBnbF92ZXJ0ZXhfdHJpYW5nbGUudHlwZSwgMCk7XG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIGdsUmVzZXRBdHRyaWJ1dGUoZ2wsIGdsX3NoYWRlciwgJ2FWZXJ0ZXhQb3NpdGlvbicsIGdsX3ZlcnRleF9wb3NpdGlvbik7XG4gICAgICAgICAgICBnbFJlc2V0QXR0cmlidXRlKGdsLCBnbF9zaGFkZXIsICdhVmVydGV4QmxlbmRlcnN7aW5kZXh9JywgZ2xfdmVydGV4X2JsZW5kZXJzLCByZW5kZXIuZ2xfc2tpbl9zaGFkZXJfYmxlbmRlcnNfY291bnQpO1xuICAgICAgICAgICAgZ2xSZXNldEF0dHJpYnV0ZShnbCwgZ2xfc2hhZGVyLCAnYVZlcnRleFRleENvb3JkJywgZ2xfdmVydGV4X3RleGNvb3JkKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBnbF9jb2xvclszXSA9IGFscGhhO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZWM0SWRlbnRpdHkodjogRmxvYXQzMkFycmF5KTogRmxvYXQzMkFycmF5IHtcbiAgdlswXSA9IHZbMV0gPSB2WzJdID0gdlszXSA9IDEuMDtcbiAgcmV0dXJuIHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZWM0Q29weUNvbG9yKHY6IEZsb2F0MzJBcnJheSwgY29sb3I6IHNwaW5lLkNvbG9yKTogRmxvYXQzMkFycmF5IHtcbiAgdlswXSA9IGNvbG9yLnI7XG4gIHZbMV0gPSBjb2xvci5nO1xuICB2WzJdID0gY29sb3IuYjtcbiAgdlszXSA9IGNvbG9yLmE7XG4gIHJldHVybiB2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmVjNEFwcGx5Q29sb3IodjogRmxvYXQzMkFycmF5LCBjb2xvcjogc3BpbmUuQ29sb3IpOiBGbG9hdDMyQXJyYXkge1xuICB2WzBdICo9IGNvbG9yLnI7XG4gIHZbMV0gKj0gY29sb3IuZztcbiAgdlsyXSAqPSBjb2xvci5iO1xuICB2WzNdICo9IGNvbG9yLmE7XG4gIHJldHVybiB2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0M3gzSWRlbnRpdHkobTogRmxvYXQzMkFycmF5KTogRmxvYXQzMkFycmF5IHtcbiAgbVsxXSA9IG1bMl0gPSBtWzNdID1cbiAgbVs1XSA9IG1bNl0gPSBtWzddID0gMC4wO1xuICBtWzBdID0gbVs0XSA9IG1bOF0gPSAxLjA7XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0M3gzQ29weShtOiBGbG9hdDMyQXJyYXksIG90aGVyOiBGbG9hdDMyQXJyYXkpOiBGbG9hdDMyQXJyYXkge1xuICBtLnNldChvdGhlcik7XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0M3gzT3J0aG8obTogRmxvYXQzMkFycmF5LCBsOiBudW1iZXIsIHI6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIpOiBGbG9hdDMyQXJyYXkge1xuICBjb25zdCBscjogbnVtYmVyID0gMSAvIChsIC0gcik7XG4gIGNvbnN0IGJ0OiBudW1iZXIgPSAxIC8gKGIgLSB0KTtcbiAgbVswXSAqPSAtMiAqIGxyO1xuICBtWzRdICo9IC0yICogYnQ7XG4gIG1bNl0gKz0gKGwgKyByKSAqIGxyO1xuICBtWzddICs9ICh0ICsgYikgKiBidDtcbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXQzeDNUcmFuc2xhdGUobTogRmxvYXQzMkFycmF5LCB4OiBudW1iZXIsIHk6IG51bWJlcik6IEZsb2F0MzJBcnJheSB7XG4gIG1bNl0gKz0gbVswXSAqIHggKyBtWzNdICogeTtcbiAgbVs3XSArPSBtWzFdICogeCArIG1bNF0gKiB5O1xuICByZXR1cm4gbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdDN4M1JvdGF0ZUNvc1NpbihtOiBGbG9hdDMyQXJyYXksIGM6IG51bWJlciwgczogbnVtYmVyKTogRmxvYXQzMkFycmF5IHtcbiAgY29uc3QgbTA6IG51bWJlciA9IG1bMF07IGNvbnN0IG0xOiBudW1iZXIgPSBtWzFdO1xuICBjb25zdCBtMzogbnVtYmVyID0gbVszXTsgY29uc3QgbTQ6IG51bWJlciA9IG1bNF07XG4gIG1bMF0gPSBtMCAqIGMgKyBtMyAqIHM7XG4gIG1bMV0gPSBtMSAqIGMgKyBtNCAqIHM7XG4gIG1bM10gPSBtMyAqIGMgLSBtMCAqIHM7XG4gIG1bNF0gPSBtNCAqIGMgLSBtMSAqIHM7XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0M3gzUm90YXRlKG06IEZsb2F0MzJBcnJheSwgYW5nbGU6IG51bWJlcik6IEZsb2F0MzJBcnJheSB7XG4gIHJldHVybiBtYXQzeDNSb3RhdGVDb3NTaW4obSwgTWF0aC5jb3MoYW5nbGUpLCBNYXRoLnNpbihhbmdsZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0M3gzU2NhbGUobTogRmxvYXQzMkFycmF5LCB4OiBudW1iZXIsIHk6IG51bWJlcik6IEZsb2F0MzJBcnJheSB7XG4gIG1bMF0gKj0geDsgbVsxXSAqPSB4OyBtWzJdICo9IHg7XG4gIG1bM10gKj0geTsgbVs0XSAqPSB5OyBtWzVdICo9IHk7XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0M3gzVHJhbnNmb3JtKG06IEZsb2F0MzJBcnJheSwgdjogRmxvYXQzMkFycmF5LCBvdXQ6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gIGNvbnN0IHg6IG51bWJlciA9IG1bMF0gKiB2WzBdICsgbVszXSAqIHZbMV0gKyBtWzZdO1xuICBjb25zdCB5OiBudW1iZXIgPSBtWzFdICogdlswXSArIG1bNF0gKiB2WzFdICsgbVs3XTtcbiAgY29uc3QgdzogbnVtYmVyID0gbVsyXSAqIHZbMF0gKyBtWzVdICogdlsxXSArIG1bOF07XG4gIGNvbnN0IGl3OiBudW1iZXIgPSAodykgPyAoMSAvIHcpIDogKDEpO1xuICBvdXRbMF0gPSB4ICogaXc7XG4gIG91dFsxXSA9IHkgKiBpdztcbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdDN4M0FwcGx5U3BhY2UobTogRmxvYXQzMkFycmF5LCBzcGFjZTogc3BpbmUuU3BhY2UpOiBGbG9hdDMyQXJyYXkge1xuICBpZiAoc3BhY2UpIHtcbiAgICBtYXQzeDNUcmFuc2xhdGUobSwgc3BhY2UucG9zaXRpb24ueCwgc3BhY2UucG9zaXRpb24ueSk7XG4gICAgbWF0M3gzUm90YXRlKG0sIHNwYWNlLnJvdGF0aW9uLnJhZCk7XG4gICAgbWF0M3gzU2NhbGUobSwgc3BhY2Uuc2NhbGUueCwgc3BhY2Uuc2NhbGUueSk7XG4gIH1cbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXQzeDNBcHBseUF0bGFzUGFnZVRleGNvb3JkKG06IEZsb2F0MzJBcnJheSwgcGFnZTogYXRsYXMuUGFnZSk6IEZsb2F0MzJBcnJheSB7XG4gIGlmIChwYWdlKSB7XG4gICAgbWF0M3gzU2NhbGUobSwgMSAvIHBhZ2UudywgMSAvIHBhZ2UuaCk7XG4gIH1cbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXQzeDNBcHBseUF0bGFzU2l0ZVRleGNvb3JkKG06IEZsb2F0MzJBcnJheSwgc2l0ZTogYXRsYXMuU2l0ZSk6IEZsb2F0MzJBcnJheSB7XG4gIGlmIChzaXRlKSB7XG4gICAgbWF0M3gzVHJhbnNsYXRlKG0sIHNpdGUueCwgc2l0ZS55KTtcbiAgICBpZiAoc2l0ZS5yb3RhdGUgPT09IC0xKSB7XG4gICAgICBtYXQzeDNUcmFuc2xhdGUobSwgMCwgc2l0ZS53KTsgLy8gYm90dG9tLWxlZnQgY29ybmVyXG4gICAgICBtYXQzeDNSb3RhdGVDb3NTaW4obSwgMCwgLTEpOyAvLyAtOTAgZGVncmVlc1xuICAgIH0gZWxzZSBpZiAoc2l0ZS5yb3RhdGUgPT09IDEpIHtcbiAgICAgIG1hdDN4M1RyYW5zbGF0ZShtLCBzaXRlLmgsIDApOyAvLyB0b3AtcmlnaHQgY29ybmVyXG4gICAgICBtYXQzeDNSb3RhdGVDb3NTaW4obSwgMCwgMSk7IC8vIDkwIGRlZ3JlZXNcbiAgICB9XG4gICAgbWF0M3gzU2NhbGUobSwgc2l0ZS53LCBzaXRlLmgpO1xuICB9XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0M3gzQXBwbHlBdGxhc1NpdGVQb3NpdGlvbihtOiBGbG9hdDMyQXJyYXksIHNpdGU6IGF0bGFzLlNpdGUpOiBGbG9hdDMyQXJyYXkge1xuICBpZiAoc2l0ZSkge1xuICAgIG1hdDN4M1NjYWxlKG0sIDEgLyBzaXRlLm9yaWdpbmFsX3csIDEgLyBzaXRlLm9yaWdpbmFsX2gpO1xuICAgIG1hdDN4M1RyYW5zbGF0ZShtLCAyICogc2l0ZS5vZmZzZXRfeCAtIChzaXRlLm9yaWdpbmFsX3cgLSBzaXRlLncpLCAoc2l0ZS5vcmlnaW5hbF9oIC0gc2l0ZS5oKSAtIDIgKiBzaXRlLm9mZnNldF95KTtcbiAgICBtYXQzeDNTY2FsZShtLCBzaXRlLncsIHNpdGUuaCk7XG4gIH1cbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXQ0eDRJZGVudGl0eShtOiBGbG9hdDMyQXJyYXkpOiBGbG9hdDMyQXJyYXkge1xuICBtWzFdID0gbVsyXSA9IG1bM10gPSBtWzRdID1cbiAgbVs2XSA9IG1bN10gPSBtWzhdID0gbVs5XSA9XG4gIG1bMTFdID0gbVsxMl0gPSBtWzEzXSA9IG1bMTRdID0gMC4wO1xuICBtWzBdID0gbVs1XSA9IG1bMTBdID0gbVsxNV0gPSAxLjA7XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0NHg0Q29weShtOiBGbG9hdDMyQXJyYXksIG90aGVyOiBGbG9hdDMyQXJyYXkpOiBGbG9hdDMyQXJyYXkge1xuICBtLnNldChvdGhlcik7XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0NHg0T3J0aG8obTogRmxvYXQzMkFycmF5LCBsOiBudW1iZXIsIHI6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIsIG46IG51bWJlciwgZjogbnVtYmVyKTogRmxvYXQzMkFycmF5IHtcbiAgY29uc3QgbHI6IG51bWJlciA9IDEgLyAobCAtIHIpO1xuICBjb25zdCBidDogbnVtYmVyID0gMSAvIChiIC0gdCk7XG4gIGNvbnN0IG5mOiBudW1iZXIgPSAxIC8gKG4gLSBmKTtcbiAgbVswXSA9IC0yICogbHI7XG4gIG1bNV0gPSAtMiAqIGJ0O1xuICBtWzEwXSA9IDIgKiBuZjtcbiAgbVsxMl0gPSAobCArIHIpICogbHI7XG4gIG1bMTNdID0gKHQgKyBiKSAqIGJ0O1xuICBtWzE0XSA9IChmICsgbikgKiBuZjtcbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXQ0eDRUcmFuc2xhdGUobTogRmxvYXQzMkFycmF5LCB4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyID0gMCk6IEZsb2F0MzJBcnJheSB7XG4gIG1bMTJdICs9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogejtcbiAgbVsxM10gKz0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6O1xuICBtWzE0XSArPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6O1xuICBtWzE1XSArPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6O1xuICByZXR1cm4gbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdDR4NFJvdGF0ZUNvc1NpbloobTogRmxvYXQzMkFycmF5LCBjOiBudW1iZXIsIHM6IG51bWJlcik6IEZsb2F0MzJBcnJheSB7XG4gIGNvbnN0IGFfeDogbnVtYmVyID0gbVswXTsgY29uc3QgYV95OiBudW1iZXIgPSBtWzFdOyBjb25zdCBhX3o6IG51bWJlciA9IG1bMl07IGNvbnN0IGFfdzogbnVtYmVyID0gbVszXTtcbiAgY29uc3QgYl94OiBudW1iZXIgPSBtWzRdOyBjb25zdCBiX3k6IG51bWJlciA9IG1bNV07IGNvbnN0IGJfejogbnVtYmVyID0gbVs2XTsgY29uc3QgYl93OiBudW1iZXIgPSBtWzddO1xuICBtWzBdID0gYV94ICogYyArIGJfeCAqIHM7XG4gIG1bMV0gPSBhX3kgKiBjICsgYl95ICogcztcbiAgbVsyXSA9IGFfeiAqIGMgKyBiX3ogKiBzO1xuICBtWzNdID0gYV93ICogYyArIGJfdyAqIHM7XG4gIG1bNF0gPSBiX3ggKiBjIC0gYV94ICogcztcbiAgbVs1XSA9IGJfeSAqIGMgLSBhX3kgKiBzO1xuICBtWzZdID0gYl96ICogYyAtIGFfeiAqIHM7XG4gIG1bN10gPSBiX3cgKiBjIC0gYV93ICogcztcbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXQ0eDRSb3RhdGVaKG06IEZsb2F0MzJBcnJheSwgYW5nbGU6IG51bWJlcik6IEZsb2F0MzJBcnJheSB7XG4gIHJldHVybiBtYXQ0eDRSb3RhdGVDb3NTaW5aKG0sIE1hdGguY29zKGFuZ2xlKSwgTWF0aC5zaW4oYW5nbGUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdDR4NFNjYWxlKG06IEZsb2F0MzJBcnJheSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciA9IDEpOiBGbG9hdDMyQXJyYXkge1xuICBtWzBdICo9IHg7IG1bMV0gKj0geDsgbVsyXSAqPSB4OyBtWzNdICo9IHg7XG4gIG1bNF0gKj0geTsgbVs1XSAqPSB5OyBtWzZdICo9IHk7IG1bN10gKj0geTtcbiAgbVs4XSAqPSB6OyBtWzldICo9IHo7IG1bMTBdICo9IHo7IG1bMTFdICo9IHo7XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2xDb21waWxlU2hhZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHNyYzogc3RyaW5nW10sIHR5cGU6IG51bWJlcik6IFdlYkdMU2hhZGVyIHtcbiAgc3JjID0gZmxhdHRlbihzcmMpO1xuICBsZXQgc2hhZGVyOiBXZWJHTFNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcbiAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjLmpvaW4oJ1xcbicpKTtcbiAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgIHNyYy5mb3JFYWNoKGZ1bmN0aW9uKGxpbmU6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IHZvaWQgeyBjb25zb2xlLmxvZyhpbmRleCArIDEsIGxpbmUpOyB9KTtcbiAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpO1xuICAgIHNoYWRlciA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIHNoYWRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdsTGlua1Byb2dyYW0oZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdnM6IFdlYkdMU2hhZGVyLCBmczogV2ViR0xTaGFkZXIpOiBXZWJHTFByb2dyYW0ge1xuICBsZXQgcHJvZ3JhbTogV2ViR0xQcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdnMpO1xuICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnMpO1xuICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgIGNvbnNvbGUubG9nKFwiY291bGQgbm90IGxpbmsgc2hhZGVyIHByb2dyYW1cIik7XG4gICAgZ2wuZGV0YWNoU2hhZGVyKHByb2dyYW0sIHZzKTtcbiAgICBnbC5kZXRhY2hTaGFkZXIocHJvZ3JhbSwgZnMpO1xuICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgcHJvZ3JhbSA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIHByb2dyYW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnbEdldFVuaWZvcm1zKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFdlYkdMUHJvZ3JhbSwgdW5pZm9ybXM6IHtba2V5OiBzdHJpbmddOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbn0pOiB7W2tleTogc3RyaW5nXTogV2ViR0xVbmlmb3JtTG9jYXRpb259IHtcbiAgY29uc3QgY291bnQ6IG51bWJlciA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvdW50OyArK2luZGV4KSB7XG4gICAgY29uc3QgdW5pZm9ybTogV2ViR0xBY3RpdmVJbmZvID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpbmRleCk7XG4gICAgdW5pZm9ybXNbdW5pZm9ybS5uYW1lXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB1bmlmb3JtLm5hbWUpO1xuICB9XG4gIHJldHVybiB1bmlmb3Jtcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdsR2V0QXR0cmlicyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBwcm9ncmFtOiBXZWJHTFByb2dyYW0sIGF0dHJpYnM6IHtba2V5OiBzdHJpbmddOiBudW1iZXJ9KToge1trZXk6IHN0cmluZ106IG51bWJlcn0ge1xuICBjb25zdCBjb3VudDogbnVtYmVyID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgKytpbmRleCkge1xuICAgIGNvbnN0IGF0dHJpYjogV2ViR0xBY3RpdmVJbmZvID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGluZGV4KTtcbiAgICBhdHRyaWJzW2F0dHJpYi5uYW1lXSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYi5uYW1lKTtcbiAgfVxuICByZXR1cm4gYXR0cmlicztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdsTWFrZVNoYWRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2c19zcmM6IHN0cmluZ1tdLCBmc19zcmM6IHN0cmluZ1tdKTogZ2xTaGFkZXIge1xuICBjb25zdCBzaGFkZXI6IGdsU2hhZGVyID0gbmV3IGdsU2hhZGVyKCk7XG4gIHNoYWRlci52c19zcmMgPSB2c19zcmM7XG4gIHNoYWRlci5mc19zcmMgPSBmc19zcmM7XG4gIHNoYWRlci52cyA9IGdsQ29tcGlsZVNoYWRlcihnbCwgc2hhZGVyLnZzX3NyYywgZ2wuVkVSVEVYX1NIQURFUik7XG4gIHNoYWRlci5mcyA9IGdsQ29tcGlsZVNoYWRlcihnbCwgc2hhZGVyLmZzX3NyYywgZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgc2hhZGVyLnByb2dyYW0gPSBnbExpbmtQcm9ncmFtKGdsLCBzaGFkZXIudnMsIHNoYWRlci5mcyk7XG4gIHNoYWRlci51bmlmb3JtcyA9IGdsR2V0VW5pZm9ybXMoZ2wsIHNoYWRlci5wcm9ncmFtLCB7fSk7XG4gIHNoYWRlci5hdHRyaWJzID0gZ2xHZXRBdHRyaWJzKGdsLCBzaGFkZXIucHJvZ3JhbSwge30pO1xuICByZXR1cm4gc2hhZGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2xNYWtlVmVydGV4KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHR5cGVfYXJyYXk6IGFueSwgc2l6ZTogbnVtYmVyLCBidWZmZXJfdHlwZTogbnVtYmVyLCBidWZmZXJfZHJhdzogbnVtYmVyKTogZ2xWZXJ0ZXgge1xuICBjb25zdCB2ZXJ0ZXg6IGdsVmVydGV4ID0gbmV3IGdsVmVydGV4KCk7XG4gIGlmICh0eXBlX2FycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7IHZlcnRleC50eXBlID0gZ2wuRkxPQVQ7IH1cbiAgZWxzZSBpZiAodHlwZV9hcnJheSBpbnN0YW5jZW9mIEludDhBcnJheSkgeyB2ZXJ0ZXgudHlwZSA9IGdsLkJZVEU7IH1cbiAgZWxzZSBpZiAodHlwZV9hcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHsgdmVydGV4LnR5cGUgPSBnbC5VTlNJR05FRF9CWVRFOyB9XG4gIGVsc2UgaWYgKHR5cGVfYXJyYXkgaW5zdGFuY2VvZiBJbnQxNkFycmF5KSB7IHZlcnRleC50eXBlID0gZ2wuU0hPUlQ7IH1cbiAgZWxzZSBpZiAodHlwZV9hcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KSB7IHZlcnRleC50eXBlID0gZ2wuVU5TSUdORURfU0hPUlQ7IH1cbiAgZWxzZSBpZiAodHlwZV9hcnJheSBpbnN0YW5jZW9mIEludDMyQXJyYXkpIHsgdmVydGV4LnR5cGUgPSBnbC5JTlQ7IH1cbiAgZWxzZSBpZiAodHlwZV9hcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KSB7IHZlcnRleC50eXBlID0gZ2wuVU5TSUdORURfSU5UOyB9XG4gIGVsc2UgeyB2ZXJ0ZXgudHlwZSA9IGdsLk5PTkU7IHRocm93IG5ldyBFcnJvcigpOyB9XG4gIHZlcnRleC5zaXplID0gc2l6ZTtcbiAgdmVydGV4LmNvdW50ID0gdHlwZV9hcnJheS5sZW5ndGggLyB2ZXJ0ZXguc2l6ZTtcbiAgdmVydGV4LnR5cGVfYXJyYXkgPSB0eXBlX2FycmF5O1xuICB2ZXJ0ZXguYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gIHZlcnRleC5idWZmZXJfdHlwZSA9IGJ1ZmZlcl90eXBlO1xuICB2ZXJ0ZXguYnVmZmVyX2RyYXcgPSBidWZmZXJfZHJhdztcbiAgZ2wuYmluZEJ1ZmZlcih2ZXJ0ZXguYnVmZmVyX3R5cGUsIHZlcnRleC5idWZmZXIpO1xuICBnbC5idWZmZXJEYXRhKHZlcnRleC5idWZmZXJfdHlwZSwgdmVydGV4LnR5cGVfYXJyYXksIHZlcnRleC5idWZmZXJfZHJhdyk7XG4gIHJldHVybiB2ZXJ0ZXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnbFNldHVwQXR0cmlidXRlKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHNoYWRlcjogZ2xTaGFkZXIsIGZvcm1hdDogc3RyaW5nLCB2ZXJ0ZXg6IGdsVmVydGV4LCBjb3VudDogbnVtYmVyID0gMCk6IHZvaWQge1xuICBnbC5iaW5kQnVmZmVyKHZlcnRleC5idWZmZXJfdHlwZSwgdmVydGV4LmJ1ZmZlcik7XG4gIGlmIChjb3VudCA+IDApIHtcbiAgICBjb25zdCBzaXplb2ZfdmVydGV4OiBudW1iZXIgPSB2ZXJ0ZXgudHlwZV9hcnJheS5CWVRFU19QRVJfRUxFTUVOVCAqIHZlcnRleC5zaXplOyAvLyBpbiBieXRlc1xuICAgIGNvbnN0IHN0cmlkZTogbnVtYmVyID0gc2l6ZW9mX3ZlcnRleCAqIGNvdW50O1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgKytpbmRleCkge1xuICAgICAgY29uc3Qgb2Zmc2V0OiBudW1iZXIgPSBzaXplb2ZfdmVydGV4ICogaW5kZXg7XG4gICAgICBjb25zdCBhdHRyaWI6IG51bWJlciA9IHNoYWRlci5hdHRyaWJzW2Zvcm1hdC5yZXBsYWNlKC97aW5kZXh9L2csIGluZGV4LnRvU3RyaW5nKCkpXTtcbiAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0cmliLCB2ZXJ0ZXguc2l6ZSwgdmVydGV4LnR5cGUsIGZhbHNlLCBzdHJpZGUsIG9mZnNldCk7XG4gICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyaWIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBhdHRyaWI6IG51bWJlciA9IHNoYWRlci5hdHRyaWJzW2Zvcm1hdF07XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihhdHRyaWIsIHZlcnRleC5zaXplLCB2ZXJ0ZXgudHlwZSwgZmFsc2UsIDAsIDApO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dHJpYik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdsUmVzZXRBdHRyaWJ1dGUoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgc2hhZGVyOiBnbFNoYWRlciwgZm9ybWF0OiBzdHJpbmcsIHZlcnRleDogZ2xWZXJ0ZXgsIGNvdW50OiBudW1iZXIgPSAwKTogdm9pZCB7XG4gIGlmIChjb3VudCA+IDApIHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7ICsraW5kZXgpIHtcbiAgICAgIGNvbnN0IGF0dHJpYjogbnVtYmVyID0gc2hhZGVyLmF0dHJpYnNbZm9ybWF0LnJlcGxhY2UoL3tpbmRleH0vZywgaW5kZXgudG9TdHJpbmcoKSldO1xuICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dHJpYik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGF0dHJpYjogbnVtYmVyID0gc2hhZGVyLmF0dHJpYnNbZm9ybWF0XTtcbiAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0cmliKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgc3BpbmUgZnJvbSAnLi9zcGluZSc7XG5pbXBvcnQgKiBhcyBhdGxhcyBmcm9tICcuL2F0bGFzJztcblxuaW1wb3J0IHsgbWF0M3gzSWRlbnRpdHksIG1hdDN4M1NjYWxlLCBtYXQzeDNUcmFuc2Zvcm0sIG1hdDN4M0FwcGx5QXRsYXNQYWdlVGV4Y29vcmQsIG1hdDN4M0FwcGx5QXRsYXNTaXRlVGV4Y29vcmQgfSBmcm9tICcuL3JlbmRlci13ZWJnbCc7XG5cbmV4cG9ydCBjbGFzcyBCb25lSW5mbyB7XG59XG5cbmV4cG9ydCBjbGFzcyBTa2luSW5mbyB7XG4gIHB1YmxpYyBzbG90X2luZm9fbWFwOiB7W2tleTogc3RyaW5nXTogU2xvdEluZm99ID0ge307XG59XG5cbmV4cG9ydCBjbGFzcyBTbG90SW5mbyB7XG4gIHB1YmxpYyBhdHRhY2htZW50X2luZm9fbWFwOiB7W2tleTogc3RyaW5nXTogQXR0YWNobWVudEluZm99ID0ge307XG59XG5cbmV4cG9ydCBjbGFzcyBBdHRhY2htZW50SW5mbyB7XG4gIHB1YmxpYyB0eXBlOiBzdHJpbmc7XG4gIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZykge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlZ2lvbkF0dGFjaG1lbnRJbmZvIGV4dGVuZHMgQXR0YWNobWVudEluZm8ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigncmVnaW9uJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJvdW5kaW5nQm94QXR0YWNobWVudEluZm8gZXh0ZW5kcyBBdHRhY2htZW50SW5mbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdib3VuZGluZ2JveCcpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXNoQXR0YWNobWVudEluZm8gZXh0ZW5kcyBBdHRhY2htZW50SW5mbyB7XG4gIHB1YmxpYyB2ZXJ0ZXhfY291bnQ6IG51bWJlcjtcbiAgcHVibGljIHZlcnRleF9wb3NpdGlvbjogRmxvYXQzMkFycmF5O1xuICBwdWJsaWMgdmVydGV4X3RleGNvb3JkOiBGbG9hdDMyQXJyYXk7XG4gIHB1YmxpYyB2ZXJ0ZXhfdHJpYW5nbGU6IFVpbnQxNkFycmF5O1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignbWVzaCcpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTa2lubmVkTWVzaEF0dGFjaG1lbnRJbmZvIGV4dGVuZHMgQXR0YWNobWVudEluZm8ge1xuICBwdWJsaWMgdmVydGV4X2NvdW50OiBudW1iZXI7XG4gIHB1YmxpYyB2ZXJ0ZXhfc2V0dXBfcG9zaXRpb246IEZsb2F0MzJBcnJheTtcbiAgcHVibGljIHZlcnRleF9ibGVuZF9wb3NpdGlvbjogRmxvYXQzMkFycmF5O1xuICBwdWJsaWMgdmVydGV4X3RleGNvb3JkOiBGbG9hdDMyQXJyYXk7XG4gIHB1YmxpYyB2ZXJ0ZXhfdHJpYW5nbGU6IFVpbnQxNkFycmF5O1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc2tpbm5lZG1lc2gnKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVuZGVyQ3R4MkQge1xuICBwdWJsaWMgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHB1YmxpYyBpbWFnZXM6IHtba2V5OiBzdHJpbmddOiBIVE1MSW1hZ2VFbGVtZW50fSA9IHt9O1xuICBwdWJsaWMgc2tpbl9pbmZvX21hcDoge1trZXk6IHN0cmluZ106IFNraW5JbmZvfSA9IHt9O1xuICBwdWJsaWMgcmVnaW9uX3ZlcnRleF9wb3NpdGlvbjogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAxLCAtMSwgMSwgMSwgLTEsIDFdKTsgLy8gWyB4LCB5IF1cbiAgcHVibGljIHJlZ2lvbl92ZXJ0ZXhfdGV4Y29vcmQ6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDEsIDEsIDEsIDEsIDAsIDAsIDBdKTsgLy8gWyB1LCB2IF1cbiAgcHVibGljIHJlZ2lvbl92ZXJ0ZXhfdHJpYW5nbGU6IFVpbnQxNkFycmF5ID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7IC8vIFsgaTAsIGkxLCBpMiBdXG5cbiAgY29uc3RydWN0b3IoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcbiAgICB0aGlzLmN0eCA9IGN0eDtcbiAgfVxuXG4gIHB1YmxpYyBkcm9wRGF0YShzcGluZV9kYXRhOiBzcGluZS5EYXRhLCBhdGxhc19kYXRhOiBhdGxhcy5EYXRhKTogdm9pZCB7XG4gICAgdGhpcy5pbWFnZXMgPSB7fTtcbiAgICB0aGlzLnNraW5faW5mb19tYXAgPSB7fTtcbiAgfVxuXG4gIHB1YmxpYyBsb2FkRGF0YShzcGluZV9kYXRhOiBzcGluZS5EYXRhLCBhdGxhc19kYXRhOiBhdGxhcy5EYXRhLCBpbWFnZXM6IHtba2V5OiBzdHJpbmddOiBIVE1MSW1hZ2VFbGVtZW50fSk6IHZvaWQge1xuICAgIHRoaXMuaW1hZ2VzID0gaW1hZ2VzOyBcbiAgICBzcGluZV9kYXRhLml0ZXJhdGVTa2lucygoc2tpbl9rZXk6IHN0cmluZywgc2tpbjogc3BpbmUuU2tpbik9PiB7XG4gICAgICBjb25zdCBza2luX2luZm86IFNraW5JbmZvID0gdGhpcy5za2luX2luZm9fbWFwW3NraW5fa2V5XSA9IG5ldyBTa2luSW5mbygpO1xuICAgICAgc2tpbi5pdGVyYXRlQXR0YWNobWVudHMoZnVuY3Rpb24oc2xvdF9rZXk6IHN0cmluZywgc2tpbl9zbG90OiBzcGluZS5Ta2luU2xvdCwgYXR0YWNobWVudF9rZXk6IHN0cmluZywgYXR0YWNobWVudDogc3BpbmUuQXR0YWNobWVudCk6IHZvaWQge1xuICAgICAgICBpZiAoIWF0dGFjaG1lbnQpIHsgcmV0dXJuOyB9XG4gICAgICAgIGNvbnN0IHNsb3RfaW5mbzogU2xvdEluZm8gPSBza2luX2luZm8uc2xvdF9pbmZvX21hcFtzbG90X2tleV0gPSBza2luX2luZm8uc2xvdF9pbmZvX21hcFtzbG90X2tleV0gfHwgbmV3IFNsb3RJbmZvKCk7XG4gICAgICAgIHN3aXRjaCAoYXR0YWNobWVudC50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnbWVzaCc6IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc2hfYXR0YWNobWVudDogc3BpbmUuTWVzaEF0dGFjaG1lbnQgPSA8c3BpbmUuTWVzaEF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICAgIGNvbnN0IG1lc2hfYXR0YWNobWVudF9pbmZvOiBNZXNoQXR0YWNobWVudEluZm8gPSBzbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV0gPSBuZXcgTWVzaEF0dGFjaG1lbnRJbmZvKCk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfY291bnQ6IG51bWJlciA9IG1lc2hfYXR0YWNobWVudF9pbmZvLnZlcnRleF9jb3VudCA9IG1lc2hfYXR0YWNobWVudC52ZXJ0aWNlcy5sZW5ndGggLyAyO1xuICAgICAgICAgICAgY29uc3QgdmVydGV4X3Bvc2l0aW9uOiBGbG9hdDMyQXJyYXkgPSBtZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfcG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KG1lc2hfYXR0YWNobWVudC52ZXJ0aWNlcyk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfdGV4Y29vcmQ6IEZsb2F0MzJBcnJheSA9IG1lc2hfYXR0YWNobWVudF9pbmZvLnZlcnRleF90ZXhjb29yZCA9IG5ldyBGbG9hdDMyQXJyYXkobWVzaF9hdHRhY2htZW50LnV2cyk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfdHJpYW5nbGU6IFVpbnQxNkFycmF5ID0gbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X3RyaWFuZ2xlID0gbmV3IFVpbnQxNkFycmF5KG1lc2hfYXR0YWNobWVudC50cmlhbmdsZXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ3NraW5uZWRtZXNoJzoge1xuICAgICAgICAgICAgY29uc3Qgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQ6IHNwaW5lLlNraW5uZWRNZXNoQXR0YWNobWVudCA9IDxzcGluZS5Ta2lubmVkTWVzaEF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICAgIGNvbnN0IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm86IFNraW5uZWRNZXNoQXR0YWNobWVudEluZm8gPSBzbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV0gPSBuZXcgU2tpbm5lZE1lc2hBdHRhY2htZW50SW5mbygpO1xuICAgICAgICAgICAgY29uc3QgdmVydGV4X2NvdW50OiBudW1iZXIgPSBza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvLnZlcnRleF9jb3VudCA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnV2cy5sZW5ndGggLyAyO1xuICAgICAgICAgICAgY29uc3QgdmVydGV4X3NldHVwX3Bvc2l0aW9uOiBGbG9hdDMyQXJyYXkgPSBza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvLnZlcnRleF9zZXR1cF9wb3NpdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMiAqIHZlcnRleF9jb3VudCk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfYmxlbmRfcG9zaXRpb246IEZsb2F0MzJBcnJheSA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X2JsZW5kX3Bvc2l0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgyICogdmVydGV4X2NvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleF90ZXhjb29yZDogRmxvYXQzMkFycmF5ID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfdGV4Y29vcmQgPSBuZXcgRmxvYXQzMkFycmF5KHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnV2cyk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfdHJpYW5nbGU6IFVpbnQxNkFycmF5ID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfdHJpYW5nbGUgPSBuZXcgVWludDE2QXJyYXkoc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudHJpYW5nbGVzKTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uOiBzcGluZS5WZWN0b3IgPSBuZXcgc3BpbmUuVmVjdG9yKCk7XG4gICAgICAgICAgICBmb3IgKGxldCB2ZXJ0ZXhfaW5kZXggPSAwLCBpbmRleCA9IDA7IHZlcnRleF9pbmRleCA8IHZlcnRleF9jb3VudDsgKyt2ZXJ0ZXhfaW5kZXgpIHtcbiAgICAgICAgICAgICAgY29uc3QgYmxlbmRlcl9jb3VudDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgIGxldCBzZXR1cF9wb3NpdGlvbl94OiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgICBsZXQgc2V0dXBfcG9zaXRpb25feTogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgZm9yIChsZXQgYmxlbmRlcl9pbmRleCA9IDA7IGJsZW5kZXJfaW5kZXggPCBibGVuZGVyX2NvdW50OyArK2JsZW5kZXJfaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib25lX2luZGV4OiBudW1iZXIgPSBza2lubmVkX21lc2hfYXR0YWNobWVudC52ZXJ0aWNlc1tpbmRleCsrXTtcbiAgICAgICAgICAgICAgICBjb25zdCB4OiBudW1iZXIgPSBwb3NpdGlvbi54ID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgY29uc3QgeTogbnVtYmVyID0gcG9zaXRpb24ueSA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdlaWdodDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgY29uc3QgYm9uZV9rZXk6IHN0cmluZyA9IHNwaW5lX2RhdGEuYm9uZV9rZXlzW2JvbmVfaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmU6IHNwaW5lLkJvbmUgPSBzcGluZV9kYXRhLmJvbmVzW2JvbmVfa2V5XTtcbiAgICAgICAgICAgICAgICBzcGluZS5TcGFjZS50cmFuc2Zvcm0oYm9uZS53b3JsZF9zcGFjZSwgcG9zaXRpb24sIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBzZXR1cF9wb3NpdGlvbl94ICs9IHBvc2l0aW9uLnggKiB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgc2V0dXBfcG9zaXRpb25feSArPSBwb3NpdGlvbi55ICogd2VpZ2h0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxldCB2ZXJ0ZXhfc2V0dXBfcG9zaXRpb25fb2Zmc2V0OiBudW1iZXIgPSB2ZXJ0ZXhfaW5kZXggKiAyO1xuICAgICAgICAgICAgICB2ZXJ0ZXhfc2V0dXBfcG9zaXRpb25bdmVydGV4X3NldHVwX3Bvc2l0aW9uX29mZnNldCsrXSA9IHNldHVwX3Bvc2l0aW9uX3g7XG4gICAgICAgICAgICAgIHZlcnRleF9zZXR1cF9wb3NpdGlvblt2ZXJ0ZXhfc2V0dXBfcG9zaXRpb25fb2Zmc2V0KytdID0gc2V0dXBfcG9zaXRpb25feTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZlcnRleF9ibGVuZF9wb3NpdGlvbi5zZXQodmVydGV4X3NldHVwX3Bvc2l0aW9uKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuaW1hZ2VzID0gaW1hZ2VzO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVBvc2Uoc3BpbmVfcG9zZTogc3BpbmUuUG9zZSwgYXRsYXNfZGF0YTogYXRsYXMuRGF0YSk6IHZvaWQge1xuICAgIHNwaW5lX3Bvc2UuaXRlcmF0ZUF0dGFjaG1lbnRzKChzbG90X2tleTogc3RyaW5nLCBzbG90OiBzcGluZS5TbG90LCBza2luX3Nsb3Q6IHNwaW5lLlNraW5TbG90LCBhdHRhY2htZW50X2tleTogc3RyaW5nLCBhdHRhY2htZW50OiBzcGluZS5BdHRhY2htZW50KT0+IHtcbiAgICAgIGlmICghYXR0YWNobWVudCkgeyByZXR1cm47IH1cbiAgICAgIGNvbnN0IHNraW5faW5mbzogU2tpbkluZm8gPSB0aGlzLnNraW5faW5mb19tYXBbc3BpbmVfcG9zZS5za2luX2tleV07XG4gICAgICBjb25zdCBkZWZhdWx0X3NraW5faW5mbzogU2tpbkluZm8gPSB0aGlzLnNraW5faW5mb19tYXBbJ2RlZmF1bHQnXTtcbiAgICAgIGNvbnN0IHNsb3RfaW5mbzogU2xvdEluZm8gPSBza2luX2luZm8uc2xvdF9pbmZvX21hcFtzbG90X2tleV0gfHwgZGVmYXVsdF9za2luX2luZm8uc2xvdF9pbmZvX21hcFtzbG90X2tleV07XG4gICAgICBzd2l0Y2ggKGF0dGFjaG1lbnQudHlwZSkge1xuICAgICAgICBjYXNlICdtZXNoJzoge1xuICAgICAgICAgIGNvbnN0IG1lc2hfYXR0YWNobWVudDogc3BpbmUuTWVzaEF0dGFjaG1lbnQgPSA8c3BpbmUuTWVzaEF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICBjb25zdCBtZXNoX2F0dGFjaG1lbnRfaW5mbzogTWVzaEF0dGFjaG1lbnRJbmZvID0gPE1lc2hBdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY29uc3QgYW5pbTogc3BpbmUuQW5pbWF0aW9uID0gc3BpbmVfcG9zZS5kYXRhLmFuaW1zW3NwaW5lX3Bvc2UuYW5pbV9rZXldO1xuICAgICAgICAgIGNvbnN0IGFuaW1fZmZkOiBzcGluZS5BbmltRmZkID0gYW5pbSAmJiBhbmltLmZmZHMgJiYgYW5pbS5mZmRzW3NwaW5lX3Bvc2Uuc2tpbl9rZXldO1xuICAgICAgICAgIGNvbnN0IGZmZF9zbG90OiBzcGluZS5GZmRTbG90ID0gYW5pbV9mZmQgJiYgYW5pbV9mZmQuZmZkX3Nsb3RzW3Nsb3Rfa2V5XTtcbiAgICAgICAgICBjb25zdCBmZmRfYXR0YWNobWVudDogc3BpbmUuRmZkQXR0YWNobWVudCA9IGZmZF9zbG90ICYmIGZmZF9zbG90LmZmZF9hdHRhY2htZW50c1thdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY29uc3QgZmZkX2tleWZyYW1lczogc3BpbmUuRmZkS2V5ZnJhbWVbXSA9IGZmZF9hdHRhY2htZW50ICYmIGZmZF9hdHRhY2htZW50LmZmZF9rZXlmcmFtZXM7XG4gICAgICAgICAgY29uc3QgZmZkX2tleWZyYW1lX2luZGV4OiBudW1iZXIgPSBzcGluZS5LZXlmcmFtZS5maW5kKGZmZF9rZXlmcmFtZXMsIHNwaW5lX3Bvc2UudGltZSk7XG4gICAgICAgICAgaWYgKGZmZF9rZXlmcmFtZV9pbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIGZmZFxuICAgICAgICAgICAgbGV0IHBjdDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGZmZF9rZXlmcmFtZTA6IHNwaW5lLkZmZEtleWZyYW1lID0gZmZkX2tleWZyYW1lc1tmZmRfa2V5ZnJhbWVfaW5kZXhdO1xuICAgICAgICAgICAgbGV0IGZmZF9rZXlmcmFtZTE6IHNwaW5lLkZmZEtleWZyYW1lID0gZmZkX2tleWZyYW1lc1tmZmRfa2V5ZnJhbWVfaW5kZXggKyAxXTtcbiAgICAgICAgICAgIGlmIChmZmRfa2V5ZnJhbWUxKSB7XG4gICAgICAgICAgICAgIHBjdCA9IGZmZF9rZXlmcmFtZTAuY3VydmUuZXZhbHVhdGUoKHNwaW5lX3Bvc2UudGltZSAtIGZmZF9rZXlmcmFtZTAudGltZSkgLyAoZmZkX2tleWZyYW1lMS50aW1lIC0gZmZkX2tleWZyYW1lMC50aW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZmZkX2tleWZyYW1lMSA9IGZmZF9rZXlmcmFtZTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X3Bvc2l0aW9uLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICBjb25zdCB2MDogbnVtYmVyID0gZmZkX2tleWZyYW1lMC52ZXJ0aWNlc1tpbmRleCAtIGZmZF9rZXlmcmFtZTAub2Zmc2V0XSB8fCAwO1xuICAgICAgICAgICAgICBjb25zdCB2MTogbnVtYmVyID0gZmZkX2tleWZyYW1lMS52ZXJ0aWNlc1tpbmRleCAtIGZmZF9rZXlmcmFtZTEub2Zmc2V0XSB8fCAwO1xuICAgICAgICAgICAgICBtZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfcG9zaXRpb25baW5kZXhdID0gbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4XSArIHNwaW5lLnR3ZWVuKHYwLCB2MSwgcGN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnc2tpbm5lZG1lc2gnOiB7XG4gICAgICAgICAgY29uc3Qgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQ6IHNwaW5lLlNraW5uZWRNZXNoQXR0YWNobWVudCA9IDxzcGluZS5Ta2lubmVkTWVzaEF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICBjb25zdCBza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvOiBTa2lubmVkTWVzaEF0dGFjaG1lbnRJbmZvID0gPFNraW5uZWRNZXNoQXR0YWNobWVudEluZm8+c2xvdF9pbmZvLmF0dGFjaG1lbnRfaW5mb19tYXBbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgIGNvbnN0IGFuaW06IHNwaW5lLkFuaW1hdGlvbiA9IHNwaW5lX3Bvc2UuZGF0YS5hbmltc1tzcGluZV9wb3NlLmFuaW1fa2V5XTtcbiAgICAgICAgICBjb25zdCBhbmltX2ZmZDogc3BpbmUuQW5pbUZmZCA9IGFuaW0gJiYgYW5pbS5mZmRzICYmIGFuaW0uZmZkc1tzcGluZV9wb3NlLnNraW5fa2V5XTtcbiAgICAgICAgICBjb25zdCBmZmRfc2xvdDogc3BpbmUuRmZkU2xvdCA9IGFuaW1fZmZkICYmIGFuaW1fZmZkLmZmZF9zbG90c1tzbG90X2tleV07XG4gICAgICAgICAgY29uc3QgZmZkX2F0dGFjaG1lbnQ6IHNwaW5lLkZmZEF0dGFjaG1lbnQgPSBmZmRfc2xvdCAmJiBmZmRfc2xvdC5mZmRfYXR0YWNobWVudHNbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgIGNvbnN0IGZmZF9rZXlmcmFtZXM6IHNwaW5lLkZmZEtleWZyYW1lW10gPSBmZmRfYXR0YWNobWVudCAmJiBmZmRfYXR0YWNobWVudC5mZmRfa2V5ZnJhbWVzO1xuICAgICAgICAgIGNvbnN0IGZmZF9rZXlmcmFtZV9pbmRleDogbnVtYmVyID0gc3BpbmUuS2V5ZnJhbWUuZmluZChmZmRfa2V5ZnJhbWVzLCBzcGluZV9wb3NlLnRpbWUpO1xuICAgICAgICAgIGlmIChmZmRfa2V5ZnJhbWVfaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBmZmRcbiAgICAgICAgICAgIGxldCBwY3Q6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBjb25zdCBmZmRfa2V5ZnJhbWUwOiBzcGluZS5GZmRLZXlmcmFtZSA9IGZmZF9rZXlmcmFtZXNbZmZkX2tleWZyYW1lX2luZGV4XTtcbiAgICAgICAgICAgIGxldCBmZmRfa2V5ZnJhbWUxOiBzcGluZS5GZmRLZXlmcmFtZSA9IGZmZF9rZXlmcmFtZXNbZmZkX2tleWZyYW1lX2luZGV4ICsgMV07XG4gICAgICAgICAgICBpZiAoZmZkX2tleWZyYW1lMSkge1xuICAgICAgICAgICAgICBwY3QgPSBmZmRfa2V5ZnJhbWUwLmN1cnZlLmV2YWx1YXRlKChzcGluZV9wb3NlLnRpbWUgLSBmZmRfa2V5ZnJhbWUwLnRpbWUpIC8gKGZmZF9rZXlmcmFtZTEudGltZSAtIGZmZF9rZXlmcmFtZTAudGltZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmZkX2tleWZyYW1lMSA9IGZmZF9rZXlmcmFtZTA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfYmxlbmRfcG9zaXRpb246IEZsb2F0MzJBcnJheSA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X2JsZW5kX3Bvc2l0aW9uO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb246IHNwaW5lLlZlY3RvciA9IG5ldyBzcGluZS5WZWN0b3IoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHZlcnRleF9pbmRleCA9IDAsIGluZGV4ID0gMCwgZmZkX2luZGV4ID0gMDsgdmVydGV4X2luZGV4IDwgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfY291bnQ7ICsrdmVydGV4X2luZGV4KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGJsZW5kZXJfY291bnQ6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICBsZXQgYmxlbmRfcG9zaXRpb25feDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgbGV0IGJsZW5kX3Bvc2l0aW9uX3k6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgIGZvciAobGV0IGJsZW5kZXJfaW5kZXggPSAwOyBibGVuZGVyX2luZGV4IDwgYmxlbmRlcl9jb3VudDsgKytibGVuZGVyX2luZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9uZV9pbmRleDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgPSBza2lubmVkX21lc2hfYXR0YWNobWVudC52ZXJ0aWNlc1tpbmRleCsrXTtcbiAgICAgICAgICAgICAgICBjb25zdCB3ZWlnaHQ6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVfa2V5OiBzdHJpbmcgPSBzcGluZV9wb3NlLmJvbmVfa2V5c1tib25lX2luZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBib25lOiBzcGluZS5Cb25lID0gc3BpbmVfcG9zZS5ib25lc1tib25lX2tleV07XG4gICAgICAgICAgICAgICAgY29uc3QgeDA6IG51bWJlciA9IGZmZF9rZXlmcmFtZTAudmVydGljZXNbZmZkX2luZGV4IC0gZmZkX2tleWZyYW1lMC5vZmZzZXRdIHx8IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgeDE6IG51bWJlciA9IGZmZF9rZXlmcmFtZTEudmVydGljZXNbZmZkX2luZGV4IC0gZmZkX2tleWZyYW1lMS5vZmZzZXRdIHx8IDA7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCArPSBzcGluZS50d2Vlbih4MCwgeDEsIHBjdCk7ICsrZmZkX2luZGV4O1xuICAgICAgICAgICAgICAgIGNvbnN0IHkwOiBudW1iZXIgPSBmZmRfa2V5ZnJhbWUwLnZlcnRpY2VzW2ZmZF9pbmRleCAtIGZmZF9rZXlmcmFtZTAub2Zmc2V0XSB8fCAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkxOiBudW1iZXIgPSBmZmRfa2V5ZnJhbWUxLnZlcnRpY2VzW2ZmZF9pbmRleCAtIGZmZF9rZXlmcmFtZTEub2Zmc2V0XSB8fCAwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgKz0gc3BpbmUudHdlZW4oeTAsIHkxLCBwY3QpOyArK2ZmZF9pbmRleDtcbiAgICAgICAgICAgICAgICBzcGluZS5TcGFjZS50cmFuc2Zvcm0oYm9uZS53b3JsZF9zcGFjZSwgcG9zaXRpb24sIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBibGVuZF9wb3NpdGlvbl94ICs9IHBvc2l0aW9uLnggKiB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgYmxlbmRfcG9zaXRpb25feSArPSBwb3NpdGlvbi55ICogd2VpZ2h0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxldCB2ZXJ0ZXhfcG9zaXRpb25fb2Zmc2V0OiBudW1iZXIgPSB2ZXJ0ZXhfaW5kZXggKiAyO1xuICAgICAgICAgICAgICB2ZXJ0ZXhfYmxlbmRfcG9zaXRpb25bdmVydGV4X3Bvc2l0aW9uX29mZnNldCsrXSA9IGJsZW5kX3Bvc2l0aW9uX3g7XG4gICAgICAgICAgICAgIHZlcnRleF9ibGVuZF9wb3NpdGlvblt2ZXJ0ZXhfcG9zaXRpb25fb2Zmc2V0KytdID0gYmxlbmRfcG9zaXRpb25feTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gZmZkXG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhfYmxlbmRfcG9zaXRpb246IEZsb2F0MzJBcnJheSA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X2JsZW5kX3Bvc2l0aW9uO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb246IHNwaW5lLlZlY3RvciA9IG5ldyBzcGluZS5WZWN0b3IoKTtcbiAgICAgICAgICAgIGZvciAobGV0IHZlcnRleF9pbmRleCA9IDAsIGluZGV4ID0gMDsgdmVydGV4X2luZGV4IDwgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfY291bnQ7ICsrdmVydGV4X2luZGV4KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGJsZW5kZXJfY291bnQ6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICBsZXQgYmxlbmRfcG9zaXRpb25feDogbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgbGV0IGJsZW5kX3Bvc2l0aW9uX3k6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAgIGZvciAobGV0IGJsZW5kZXJfaW5kZXggPSAwOyBibGVuZGVyX2luZGV4IDwgYmxlbmRlcl9jb3VudDsgKytibGVuZGVyX2luZGV4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9uZV9pbmRleDogbnVtYmVyID0gc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQudmVydGljZXNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgPSBza2lubmVkX21lc2hfYXR0YWNobWVudC52ZXJ0aWNlc1tpbmRleCsrXTtcbiAgICAgICAgICAgICAgICBjb25zdCB3ZWlnaHQ6IG51bWJlciA9IHNraW5uZWRfbWVzaF9hdHRhY2htZW50LnZlcnRpY2VzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVfa2V5OiBzdHJpbmcgPSBzcGluZV9wb3NlLmJvbmVfa2V5c1tib25lX2luZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBib25lOiBzcGluZS5Cb25lID0gc3BpbmVfcG9zZS5ib25lc1tib25lX2tleV07XG4gICAgICAgICAgICAgICAgc3BpbmUuU3BhY2UudHJhbnNmb3JtKGJvbmUud29ybGRfc3BhY2UsIHBvc2l0aW9uLCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgYmxlbmRfcG9zaXRpb25feCArPSBwb3NpdGlvbi54ICogd2VpZ2h0O1xuICAgICAgICAgICAgICAgIGJsZW5kX3Bvc2l0aW9uX3kgKz0gcG9zaXRpb24ueSAqIHdlaWdodDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgdmVydGV4X3Bvc2l0aW9uX29mZnNldDogbnVtYmVyID0gdmVydGV4X2luZGV4ICogMjtcbiAgICAgICAgICAgICAgdmVydGV4X2JsZW5kX3Bvc2l0aW9uW3ZlcnRleF9wb3NpdGlvbl9vZmZzZXQrK10gPSBibGVuZF9wb3NpdGlvbl94O1xuICAgICAgICAgICAgICB2ZXJ0ZXhfYmxlbmRfcG9zaXRpb25bdmVydGV4X3Bvc2l0aW9uX29mZnNldCsrXSA9IGJsZW5kX3Bvc2l0aW9uX3k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZHJhd1Bvc2Uoc3BpbmVfcG9zZTogc3BpbmUuUG9zZSwgYXRsYXNfZGF0YTogYXRsYXMuRGF0YSk6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlUG9zZShzcGluZV9wb3NlLCBhdGxhc19kYXRhKTtcbiAgICBzcGluZV9wb3NlLml0ZXJhdGVBdHRhY2htZW50cygoc2xvdF9rZXk6IHN0cmluZywgc2xvdDogc3BpbmUuU2xvdCwgc2tpbl9zbG90OiBzcGluZS5Ta2luU2xvdCwgYXR0YWNobWVudF9rZXk6IHN0cmluZywgYXR0YWNobWVudDogc3BpbmUuQXR0YWNobWVudCk9PiB7XG4gICAgICBpZiAoIWF0dGFjaG1lbnQpIHsgcmV0dXJuOyB9XG4gICAgICBpZiAoYXR0YWNobWVudC50eXBlID09PSAnYm91bmRpbmdib3gnKSB7IHJldHVybjsgfVxuICAgICAgY29uc3Qgc2l0ZTogYXRsYXMuU2l0ZSA9IGF0bGFzX2RhdGEgJiYgYXRsYXNfZGF0YS5zaXRlc1thdHRhY2htZW50X2tleV07XG4gICAgICBjb25zdCBwYWdlOiBhdGxhcy5QYWdlID0gc2l0ZSAmJiBzaXRlLnBhZ2U7XG4gICAgICBjb25zdCBpbWFnZV9rZXk6IHN0cmluZyA9IChwYWdlICYmIHBhZ2UubmFtZSkgfHwgYXR0YWNobWVudF9rZXk7XG4gICAgICBjb25zdCBpbWFnZTogSFRNTEltYWdlRWxlbWVudCA9IHRoaXMuaW1hZ2VzW2ltYWdlX2tleV07XG4gICAgICBpZiAoIWltYWdlIHx8ICFpbWFnZS5jb21wbGV0ZSkgeyByZXR1cm47IH1cbiAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgIC8vIHNsb3QuY29sb3IucmdiXG4gICAgICAvL3RoaXMuY3R4Lmdsb2JhbEFscGhhICo9IHNsb3QuY29sb3IuYTtcbiAgICAgIHN3aXRjaCAoc2xvdC5ibGVuZCkge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICBjYXNlICdub3JtYWwnOiB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInOyBicmVhaztcbiAgICAgICAgY2FzZSAnYWRkaXRpdmUnOiB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcic7IGJyZWFrO1xuICAgICAgICBjYXNlICdtdWx0aXBseSc6IHRoaXMuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdtdWx0aXBseSc7IGJyZWFrO1xuICAgICAgICBjYXNlICdzY3JlZW4nOiB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc2NyZWVuJzsgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCBza2luX2luZm86IFNraW5JbmZvID0gdGhpcy5za2luX2luZm9fbWFwW3NwaW5lX3Bvc2Uuc2tpbl9rZXldO1xuICAgICAgY29uc3QgZGVmYXVsdF9za2luX2luZm86IFNraW5JbmZvID0gdGhpcy5za2luX2luZm9fbWFwWydkZWZhdWx0J107XG4gICAgICBjb25zdCBzbG90X2luZm86IFNsb3RJbmZvID0gc2tpbl9pbmZvLnNsb3RfaW5mb19tYXBbc2xvdF9rZXldIHx8IGRlZmF1bHRfc2tpbl9pbmZvLnNsb3RfaW5mb19tYXBbc2xvdF9rZXldO1xuICAgICAgc3dpdGNoIChhdHRhY2htZW50LnR5cGUpIHtcbiAgICAgICAgY2FzZSAncmVnaW9uJzoge1xuICAgICAgICAgIGNvbnN0IGJvbmU6IHNwaW5lLkJvbmUgPSBzcGluZV9wb3NlLmJvbmVzW3Nsb3QuYm9uZV9rZXldO1xuICAgICAgICAgIGNvbnN0IHJlZ2lvbl9hdHRhY2htZW50OiBzcGluZS5SZWdpb25BdHRhY2htZW50ID0gPHNwaW5lLlJlZ2lvbkF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICBjb25zdCByZWdpb25fYXR0YWNobWVudF9pbmZvOiBSZWdpb25BdHRhY2htZW50SW5mbyA9IDxSZWdpb25BdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY3R4QXBwbHlTcGFjZSh0aGlzLmN0eCwgYm9uZS53b3JsZF9zcGFjZSk7XG4gICAgICAgICAgY3R4QXBwbHlTcGFjZSh0aGlzLmN0eCwgcmVnaW9uX2F0dGFjaG1lbnQubG9jYWxfc3BhY2UpO1xuICAgICAgICAgIGN0eEFwcGx5QXRsYXNTaXRlUG9zaXRpb24odGhpcy5jdHgsIHNpdGUpO1xuICAgICAgICAgIHRoaXMuY3R4LnNjYWxlKHJlZ2lvbl9hdHRhY2htZW50LndpZHRoIC8gMiwgcmVnaW9uX2F0dGFjaG1lbnQuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgY3R4RHJhd0ltYWdlTWVzaCh0aGlzLmN0eCwgdGhpcy5yZWdpb25fdmVydGV4X3RyaWFuZ2xlLCB0aGlzLnJlZ2lvbl92ZXJ0ZXhfcG9zaXRpb24sIHRoaXMucmVnaW9uX3ZlcnRleF90ZXhjb29yZCwgaW1hZ2UsIHNpdGUsIHBhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ21lc2gnOiB7XG4gICAgICAgICAgY29uc3QgYm9uZTogc3BpbmUuQm9uZSA9IHNwaW5lX3Bvc2UuYm9uZXNbc2xvdC5ib25lX2tleV07XG4gICAgICAgICAgY29uc3QgbWVzaF9hdHRhY2htZW50OiBzcGluZS5NZXNoQXR0YWNobWVudCA9IDxzcGluZS5NZXNoQXR0YWNobWVudD5hdHRhY2htZW50O1xuICAgICAgICAgIGNvbnN0IG1lc2hfYXR0YWNobWVudF9pbmZvOiBNZXNoQXR0YWNobWVudEluZm8gPSA8TWVzaEF0dGFjaG1lbnRJbmZvPnNsb3RfaW5mby5hdHRhY2htZW50X2luZm9fbWFwW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICBjdHhBcHBseVNwYWNlKHRoaXMuY3R4LCBib25lLndvcmxkX3NwYWNlKTtcbiAgICAgICAgICBjdHhBcHBseUF0bGFzU2l0ZVBvc2l0aW9uKHRoaXMuY3R4LCBzaXRlKTtcbiAgICAgICAgICBjdHhEcmF3SW1hZ2VNZXNoKHRoaXMuY3R4LCBtZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfdHJpYW5nbGUsIG1lc2hfYXR0YWNobWVudF9pbmZvLnZlcnRleF9wb3NpdGlvbiwgbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X3RleGNvb3JkLCBpbWFnZSwgc2l0ZSwgcGFnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnc2tpbm5lZG1lc2gnOiB7XG4gICAgICAgICAgY29uc3Qgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnQ6IHNwaW5lLlNraW5uZWRNZXNoQXR0YWNobWVudCA9IDxzcGluZS5Ta2lubmVkTWVzaEF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICBjb25zdCBza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvOiBTa2lubmVkTWVzaEF0dGFjaG1lbnRJbmZvID0gPFNraW5uZWRNZXNoQXR0YWNobWVudEluZm8+c2xvdF9pbmZvLmF0dGFjaG1lbnRfaW5mb19tYXBbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgIGN0eEFwcGx5QXRsYXNTaXRlUG9zaXRpb24odGhpcy5jdHgsIHNpdGUpO1xuICAgICAgICAgIGN0eERyYXdJbWFnZU1lc2godGhpcy5jdHgsIHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X3RyaWFuZ2xlLCBza2lubmVkX21lc2hfYXR0YWNobWVudF9pbmZvLnZlcnRleF9ibGVuZF9wb3NpdGlvbiwgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfdGV4Y29vcmQsIGltYWdlLCBzaXRlLCBwYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGRyYXdEZWJ1Z1Bvc2Uoc3BpbmVfcG9zZTogc3BpbmUuUG9zZSwgYXRsYXNfZGF0YTogYXRsYXMuRGF0YSk6IHZvaWQge1xuICAgIGNvbnN0IHJlbmRlcjogUmVuZGVyQ3R4MkQgPSB0aGlzO1xuICAgIGNvbnN0IGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gcmVuZGVyLmN0eDtcbiAgICByZW5kZXIudXBkYXRlUG9zZShzcGluZV9wb3NlLCBhdGxhc19kYXRhKTtcbiAgICBzcGluZV9wb3NlLml0ZXJhdGVBdHRhY2htZW50cyhmdW5jdGlvbihzbG90X2tleTogc3RyaW5nLCBzbG90OiBzcGluZS5TbG90LCBza2luX3Nsb3Q6IHNwaW5lLlNraW5TbG90LCBhdHRhY2htZW50X2tleTogc3RyaW5nLCBhdHRhY2htZW50OiBzcGluZS5BdHRhY2htZW50KTogdm9pZCB7XG4gICAgICBpZiAoIWF0dGFjaG1lbnQpIHsgcmV0dXJuOyB9XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY29uc3Qgc2tpbl9pbmZvOiBTa2luSW5mbyA9IHJlbmRlci5za2luX2luZm9fbWFwW3NwaW5lX3Bvc2Uuc2tpbl9rZXldO1xuICAgICAgY29uc3QgZGVmYXVsdF9za2luX2luZm86IFNraW5JbmZvID0gcmVuZGVyLnNraW5faW5mb19tYXBbJ2RlZmF1bHQnXTtcbiAgICAgIGNvbnN0IHNsb3RfaW5mbzogU2xvdEluZm8gPSBza2luX2luZm8uc2xvdF9pbmZvX21hcFtzbG90X2tleV0gfHwgZGVmYXVsdF9za2luX2luZm8uc2xvdF9pbmZvX21hcFtzbG90X2tleV07XG4gICAgICBzd2l0Y2ggKGF0dGFjaG1lbnQudHlwZSkge1xuICAgICAgICBjYXNlICdyZWdpb24nOiB7XG4gICAgICAgICAgY29uc3QgYm9uZTogc3BpbmUuQm9uZSA9IHNwaW5lX3Bvc2UuYm9uZXNbc2xvdC5ib25lX2tleV07XG4gICAgICAgICAgY29uc3Qgc2l0ZTogYXRsYXMuU2l0ZSA9IGF0bGFzX2RhdGEgJiYgYXRsYXNfZGF0YS5zaXRlc1thdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY29uc3QgcmVnaW9uX2F0dGFjaG1lbnQ6IHNwaW5lLlJlZ2lvbkF0dGFjaG1lbnQgPSA8c3BpbmUuUmVnaW9uQXR0YWNobWVudD5hdHRhY2htZW50O1xuICAgICAgICAgIGNvbnN0IHJlZ2lvbl9hdHRhY2htZW50X2luZm86IFJlZ2lvbkF0dGFjaG1lbnRJbmZvID0gPFJlZ2lvbkF0dGFjaG1lbnRJbmZvPnNsb3RfaW5mby5hdHRhY2htZW50X2luZm9fbWFwW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICBjdHhBcHBseVNwYWNlKGN0eCwgYm9uZS53b3JsZF9zcGFjZSk7XG4gICAgICAgICAgY3R4QXBwbHlTcGFjZShjdHgsIHJlZ2lvbl9hdHRhY2htZW50LmxvY2FsX3NwYWNlKTtcbiAgICAgICAgICBjdHhBcHBseUF0bGFzU2l0ZVBvc2l0aW9uKGN0eCwgc2l0ZSk7XG4gICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgIGN0eC5yZWN0KC1yZWdpb25fYXR0YWNobWVudC53aWR0aCAvIDIsIC1yZWdpb25fYXR0YWNobWVudC5oZWlnaHQgLyAyLCByZWdpb25fYXR0YWNobWVudC53aWR0aCwgcmVnaW9uX2F0dGFjaG1lbnQuaGVpZ2h0KTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMTI3LDEyNywxMjcsMC4yNSknO1xuICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMTI3LDEyNywxMjcsMS4wKSc7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2JvdW5kaW5nYm94Jzoge1xuICAgICAgICAgIGNvbnN0IGJvbmU6IHNwaW5lLkJvbmUgPSBzcGluZV9wb3NlLmJvbmVzW3Nsb3QuYm9uZV9rZXldO1xuICAgICAgICAgIGNvbnN0IGJvdW5kaW5nX2JveF9hdHRhY2htZW50OiBzcGluZS5Cb3VuZGluZ0JveEF0dGFjaG1lbnQgPSA8c3BpbmUuQm91bmRpbmdCb3hBdHRhY2htZW50PmF0dGFjaG1lbnQ7XG4gICAgICAgICAgY29uc3QgYm91bmRpbmdfYm94X2F0dGFjaG1lbnRfaW5mbzogQm91bmRpbmdCb3hBdHRhY2htZW50SW5mbyA9IDxCb3VuZGluZ0JveEF0dGFjaG1lbnRJbmZvPnNsb3RfaW5mby5hdHRhY2htZW50X2luZm9fbWFwW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICBjdHhBcHBseVNwYWNlKGN0eCwgYm9uZS53b3JsZF9zcGFjZSk7XG4gICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgIGxldCB4OiBudW1iZXIgPSAwO1xuICAgICAgICAgIGJvdW5kaW5nX2JveF9hdHRhY2htZW50LnZlcnRpY2VzLmZvckVhY2goZnVuY3Rpb24odmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgaWYgKGluZGV4ICYgMSkgeyBjdHgubGluZVRvKHgsIHZhbHVlKTsgfSBlbHNlIHsgeCA9IHZhbHVlOyB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICd5ZWxsb3cnO1xuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdtZXNoJzoge1xuICAgICAgICAgIGNvbnN0IGJvbmU6IHNwaW5lLkJvbmUgPSBzcGluZV9wb3NlLmJvbmVzW3Nsb3QuYm9uZV9rZXldO1xuICAgICAgICAgIGNvbnN0IHNpdGU6IGF0bGFzLlNpdGUgPSBhdGxhc19kYXRhICYmIGF0bGFzX2RhdGEuc2l0ZXNbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgIGNvbnN0IG1lc2hfYXR0YWNobWVudDogc3BpbmUuTWVzaEF0dGFjaG1lbnQgPSA8c3BpbmUuTWVzaEF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICBjb25zdCBtZXNoX2F0dGFjaG1lbnRfaW5mbzogTWVzaEF0dGFjaG1lbnRJbmZvID0gPE1lc2hBdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY3R4QXBwbHlTcGFjZShjdHgsIGJvbmUud29ybGRfc3BhY2UpO1xuICAgICAgICAgIGN0eEFwcGx5QXRsYXNTaXRlUG9zaXRpb24oY3R4LCBzaXRlKTtcbiAgICAgICAgICBjdHhEcmF3TWVzaChjdHgsIG1lc2hfYXR0YWNobWVudF9pbmZvLnZlcnRleF90cmlhbmdsZSwgbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X3Bvc2l0aW9uLCAncmdiYSgxMjcsMTI3LDEyNywxLjApJywgJ3JnYmEoMTI3LDEyNywxMjcsMC4yNSknKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdza2lubmVkbWVzaCc6IHtcbiAgICAgICAgICBjb25zdCBzaXRlOiBhdGxhcy5TaXRlID0gYXRsYXNfZGF0YSAmJiBhdGxhc19kYXRhLnNpdGVzW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICBjb25zdCBza2lubmVkX21lc2hfYXR0YWNobWVudDogc3BpbmUuU2tpbm5lZE1lc2hBdHRhY2htZW50ID0gPHNwaW5lLlNraW5uZWRNZXNoQXR0YWNobWVudD5hdHRhY2htZW50O1xuICAgICAgICAgIGNvbnN0IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm86IFNraW5uZWRNZXNoQXR0YWNobWVudEluZm8gPSA8U2tpbm5lZE1lc2hBdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY3R4QXBwbHlBdGxhc1NpdGVQb3NpdGlvbihjdHgsIHNpdGUpO1xuICAgICAgICAgIGN0eERyYXdNZXNoKGN0eCwgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfdHJpYW5nbGUsIHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X2JsZW5kX3Bvc2l0aW9uLCAncmdiYSgxMjcsMTI3LDEyNywxLjApJywgJ3JnYmEoMTI3LDEyNywxMjcsMC4yNSknKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgICBzcGluZV9wb3NlLml0ZXJhdGVCb25lcyhmdW5jdGlvbihib25lX2tleTogc3RyaW5nLCBib25lOiBzcGluZS5Cb25lKTogdm9pZCB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4QXBwbHlTcGFjZShjdHgsIGJvbmUud29ybGRfc3BhY2UpO1xuICAgICAgY3R4RHJhd1BvaW50KGN0eCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0pO1xuICAgIGN0eERyYXdJa0NvbnN0cmFpbnRzKGN0eCwgc3BpbmVfcG9zZS5kYXRhLCBzcGluZV9wb3NlLmJvbmVzKTtcbiAgfVxuXG4gIHB1YmxpYyBkcmF3RGVidWdEYXRhKHNwaW5lX3Bvc2U6IHNwaW5lLlBvc2UsIGF0bGFzX2RhdGE6IGF0bGFzLkRhdGEpOiB2b2lkIHtcbiAgICBjb25zdCByZW5kZXI6IFJlbmRlckN0eDJEID0gdGhpcztcbiAgICBjb25zdCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IHJlbmRlci5jdHg7XG4gICAgc3BpbmVfcG9zZS5kYXRhLml0ZXJhdGVBdHRhY2htZW50cyhzcGluZV9wb3NlLnNraW5fa2V5LCBmdW5jdGlvbihzbG90X2tleTogc3RyaW5nLCBzbG90OiBzcGluZS5TbG90LCBza2luX3Nsb3Q6IHNwaW5lLlNraW5TbG90LCBhdHRhY2htZW50X2tleTogc3RyaW5nLCBhdHRhY2htZW50OiBzcGluZS5BdHRhY2htZW50KTogdm9pZCB7XG4gICAgICBpZiAoIWF0dGFjaG1lbnQpIHsgcmV0dXJuOyB9XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY29uc3Qgc2tpbl9pbmZvOiBTa2luSW5mbyA9IHJlbmRlci5za2luX2luZm9fbWFwW3NwaW5lX3Bvc2Uuc2tpbl9rZXldO1xuICAgICAgY29uc3QgZGVmYXVsdF9za2luX2luZm86IFNraW5JbmZvID0gcmVuZGVyLnNraW5faW5mb19tYXBbJ2RlZmF1bHQnXTtcbiAgICAgIGNvbnN0IHNsb3RfaW5mbzogU2xvdEluZm8gPSBza2luX2luZm8uc2xvdF9pbmZvX21hcFtzbG90X2tleV0gfHwgZGVmYXVsdF9za2luX2luZm8uc2xvdF9pbmZvX21hcFtzbG90X2tleV07XG4gICAgICBzd2l0Y2ggKGF0dGFjaG1lbnQudHlwZSkge1xuICAgICAgICBjYXNlICdyZWdpb24nOiB7XG4gICAgICAgICAgY29uc3QgYm9uZTogc3BpbmUuQm9uZSA9IHNwaW5lX3Bvc2UuZGF0YS5ib25lc1tzbG90LmJvbmVfa2V5XTtcbiAgICAgICAgICBjb25zdCBzaXRlOiBhdGxhcy5TaXRlID0gYXRsYXNfZGF0YSAmJiBhdGxhc19kYXRhLnNpdGVzW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICBjb25zdCByZWdpb25fYXR0YWNobWVudDogc3BpbmUuUmVnaW9uQXR0YWNobWVudCA9IDxzcGluZS5SZWdpb25BdHRhY2htZW50PmF0dGFjaG1lbnQ7XG4gICAgICAgICAgY29uc3QgcmVnaW9uX2F0dGFjaG1lbnRfaW5mbzogUmVnaW9uQXR0YWNobWVudEluZm8gPSA8UmVnaW9uQXR0YWNobWVudEluZm8+c2xvdF9pbmZvLmF0dGFjaG1lbnRfaW5mb19tYXBbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgIGN0eEFwcGx5U3BhY2UoY3R4LCBib25lLndvcmxkX3NwYWNlKTtcbiAgICAgICAgICBjdHhBcHBseVNwYWNlKGN0eCwgcmVnaW9uX2F0dGFjaG1lbnQubG9jYWxfc3BhY2UpO1xuICAgICAgICAgIGN0eEFwcGx5QXRsYXNTaXRlUG9zaXRpb24oY3R4LCBzaXRlKTtcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgY3R4LnJlY3QoLXJlZ2lvbl9hdHRhY2htZW50LndpZHRoIC8gMiwgLXJlZ2lvbl9hdHRhY2htZW50LmhlaWdodCAvIDIsIHJlZ2lvbl9hdHRhY2htZW50LndpZHRoLCByZWdpb25fYXR0YWNobWVudC5oZWlnaHQpO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgxMjcsMTI3LDEyNywwLjI1KSc7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgxMjcsMTI3LDEyNywxLjApJztcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnYm91bmRpbmdib3gnOiB7XG4gICAgICAgICAgY29uc3QgYm9uZTogc3BpbmUuQm9uZSA9IHNwaW5lX3Bvc2UuZGF0YS5ib25lc1tzbG90LmJvbmVfa2V5XTtcbiAgICAgICAgICBjb25zdCBib3VuZGluZ19ib3hfYXR0YWNobWVudDogc3BpbmUuQm91bmRpbmdCb3hBdHRhY2htZW50ID0gPHNwaW5lLkJvdW5kaW5nQm94QXR0YWNobWVudD5hdHRhY2htZW50O1xuICAgICAgICAgIGNvbnN0IGJvdW5kaW5nX2JveF9hdHRhY2htZW50X2luZm86IEJvdW5kaW5nQm94QXR0YWNobWVudEluZm8gPSA8Qm91bmRpbmdCb3hBdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY3R4QXBwbHlTcGFjZShjdHgsIGJvbmUud29ybGRfc3BhY2UpO1xuICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICBsZXQgeDogbnVtYmVyID0gMDtcbiAgICAgICAgICBib3VuZGluZ19ib3hfYXR0YWNobWVudC52ZXJ0aWNlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChpbmRleCAmIDEpIHsgY3R4LmxpbmVUbyh4LCB2YWx1ZSk7IH0gZWxzZSB7IHggPSB2YWx1ZTsgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAneWVsbG93JztcbiAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnbWVzaCc6IHtcbiAgICAgICAgICBjb25zdCBib25lOiBzcGluZS5Cb25lID0gc3BpbmVfcG9zZS5kYXRhLmJvbmVzW3Nsb3QuYm9uZV9rZXldO1xuICAgICAgICAgIGNvbnN0IHNpdGU6IGF0bGFzLlNpdGUgPSBhdGxhc19kYXRhICYmIGF0bGFzX2RhdGEuc2l0ZXNbYXR0YWNobWVudF9rZXldO1xuICAgICAgICAgIGNvbnN0IG1lc2hfYXR0YWNobWVudDogc3BpbmUuTWVzaEF0dGFjaG1lbnQgPSA8c3BpbmUuTWVzaEF0dGFjaG1lbnQ+YXR0YWNobWVudDtcbiAgICAgICAgICBjb25zdCBtZXNoX2F0dGFjaG1lbnRfaW5mbzogTWVzaEF0dGFjaG1lbnRJbmZvID0gPE1lc2hBdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY3R4QXBwbHlTcGFjZShjdHgsIGJvbmUud29ybGRfc3BhY2UpO1xuICAgICAgICAgIGN0eEFwcGx5QXRsYXNTaXRlUG9zaXRpb24oY3R4LCBzaXRlKTtcbiAgICAgICAgICBjdHhEcmF3TWVzaChjdHgsIG1lc2hfYXR0YWNobWVudF9pbmZvLnZlcnRleF90cmlhbmdsZSwgbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X3Bvc2l0aW9uLCAncmdiYSgxMjcsMTI3LDEyNywxLjApJywgJ3JnYmEoMTI3LDEyNywxMjcsMC4yNSknKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdza2lubmVkbWVzaCc6IHtcbiAgICAgICAgICBjb25zdCBzaXRlOiBhdGxhcy5TaXRlID0gYXRsYXNfZGF0YSAmJiBhdGxhc19kYXRhLnNpdGVzW2F0dGFjaG1lbnRfa2V5XTtcbiAgICAgICAgICBjb25zdCBza2lubmVkX21lc2hfYXR0YWNobWVudDogc3BpbmUuU2tpbm5lZE1lc2hBdHRhY2htZW50ID0gPHNwaW5lLlNraW5uZWRNZXNoQXR0YWNobWVudD5hdHRhY2htZW50O1xuICAgICAgICAgIGNvbnN0IHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm86IFNraW5uZWRNZXNoQXR0YWNobWVudEluZm8gPSA8U2tpbm5lZE1lc2hBdHRhY2htZW50SW5mbz5zbG90X2luZm8uYXR0YWNobWVudF9pbmZvX21hcFthdHRhY2htZW50X2tleV07XG4gICAgICAgICAgY3R4QXBwbHlBdGxhc1NpdGVQb3NpdGlvbihjdHgsIHNpdGUpO1xuICAgICAgICAgIGN0eERyYXdNZXNoKGN0eCwgc2tpbm5lZF9tZXNoX2F0dGFjaG1lbnRfaW5mby52ZXJ0ZXhfdHJpYW5nbGUsIHNraW5uZWRfbWVzaF9hdHRhY2htZW50X2luZm8udmVydGV4X3NldHVwX3Bvc2l0aW9uLCAncmdiYSgxMjcsMTI3LDEyNywxLjApJywgJ3JnYmEoMTI3LDEyNywxMjcsMC4yNSknKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgICBzcGluZV9wb3NlLmRhdGEuaXRlcmF0ZUJvbmVzKGZ1bmN0aW9uKGJvbmVfa2V5OiBzdHJpbmcsIGJvbmU6IHNwaW5lLkJvbmUpOiB2b2lkIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHhBcHBseVNwYWNlKGN0eCwgYm9uZS53b3JsZF9zcGFjZSk7XG4gICAgICBjdHhEcmF3UG9pbnQoY3R4KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSk7XG4gICAgY3R4RHJhd0lrQ29uc3RyYWludHMoY3R4LCBzcGluZV9wb3NlLmRhdGEsIHNwaW5lX3Bvc2UuZGF0YS5ib25lcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3R4QXBwbHlTcGFjZShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgc3BhY2U6IHNwaW5lLlNwYWNlKTogdm9pZCB7XG4gIGlmIChzcGFjZSkge1xuICAgIGN0eC50cmFuc2xhdGUoc3BhY2UucG9zaXRpb24ueCwgc3BhY2UucG9zaXRpb24ueSk7XG4gICAgY3R4LnJvdGF0ZShzcGFjZS5yb3RhdGlvbi5yYWQpO1xuICAgIGN0eC5zY2FsZShzcGFjZS5zY2FsZS54LCBzcGFjZS5zY2FsZS55KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjdHhBcHBseUF0bGFzU2l0ZVBvc2l0aW9uKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBzaXRlOiBhdGxhcy5TaXRlKTogdm9pZCB7XG4gIGlmIChzaXRlKSB7XG4gICAgY3R4LnNjYWxlKDEgLyBzaXRlLm9yaWdpbmFsX3csIDEgLyBzaXRlLm9yaWdpbmFsX2gpO1xuICAgIGN0eC50cmFuc2xhdGUoMiAqIHNpdGUub2Zmc2V0X3ggLSAoc2l0ZS5vcmlnaW5hbF93IC0gc2l0ZS53KSwgKHNpdGUub3JpZ2luYWxfaCAtIHNpdGUuaCkgLSAyICogc2l0ZS5vZmZzZXRfeSk7XG4gICAgY3R4LnNjYWxlKHNpdGUudywgc2l0ZS5oKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjdHhEcmF3Q2lyY2xlKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb2xvcjogc3RyaW5nID0gJ2dyZXknLCBzY2FsZTogbnVtYmVyID0gMSk6IHZvaWQge1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoMCwgMCwgMTIgKiBzY2FsZSwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gIGN0eC5zdHJva2UoKTtcbn1cblxuZnVuY3Rpb24gY3R4RHJhd1BvaW50KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb2xvcjogc3RyaW5nID0gJ2JsdWUnLCBzY2FsZTogbnVtYmVyID0gMSk6IHZvaWQge1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoMCwgMCwgMTIgKiBzY2FsZSwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gIGN0eC5zdHJva2UoKTtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKDAsIDApO1xuICBjdHgubGluZVRvKDI0ICogc2NhbGUsIDApO1xuICBjdHguc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgY3R4LnN0cm9rZSgpO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5tb3ZlVG8oMCwgMCk7XG4gIGN0eC5saW5lVG8oMCwgMjQgKiBzY2FsZSk7XG4gIGN0eC5zdHJva2VTdHlsZSA9ICdncmVlbic7XG4gIGN0eC5zdHJva2UoKTtcbn1cblxuZnVuY3Rpb24gY3R4RHJhd01lc2goY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHRyaWFuZ2xlczogRmxvYXQzMkFycmF5LCBwb3NpdGlvbnM6IEZsb2F0MzJBcnJheSwgc3Ryb2tlX3N0eWxlOiBzdHJpbmcgPSAnZ3JleScsIGZpbGxfc3R5bGU6IHN0cmluZyA9ICcnKTogdm9pZCB7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRyaWFuZ2xlcy5sZW5ndGg7ICkge1xuICAgIGNvbnN0IHRyaWFuZ2xlMDogbnVtYmVyID0gdHJpYW5nbGVzW2luZGV4KytdICogMjtcbiAgICBjb25zdCB4MDogbnVtYmVyID0gcG9zaXRpb25zW3RyaWFuZ2xlMF07XG4gICAgY29uc3QgeTA6IG51bWJlciA9IHBvc2l0aW9uc1t0cmlhbmdsZTAgKyAxXTtcbiAgICBjb25zdCB0cmlhbmdsZTE6IG51bWJlciA9IHRyaWFuZ2xlc1tpbmRleCsrXSAqIDI7XG4gICAgY29uc3QgeDE6IG51bWJlciA9IHBvc2l0aW9uc1t0cmlhbmdsZTFdO1xuICAgIGNvbnN0IHkxOiBudW1iZXIgPSBwb3NpdGlvbnNbdHJpYW5nbGUxICsgMV07XG4gICAgY29uc3QgdHJpYW5nbGUyOiBudW1iZXIgPSB0cmlhbmdsZXNbaW5kZXgrK10gKiAyO1xuICAgIGNvbnN0IHgyOiBudW1iZXIgPSBwb3NpdGlvbnNbdHJpYW5nbGUyXTtcbiAgICBjb25zdCB5MjogbnVtYmVyID0gcG9zaXRpb25zW3RyaWFuZ2xlMiArIDFdO1xuICAgIGN0eC5tb3ZlVG8oeDAsIHkwKTtcbiAgICBjdHgubGluZVRvKHgxLCB5MSk7XG4gICAgY3R4LmxpbmVUbyh4MiwgeTIpO1xuICAgIGN0eC5saW5lVG8oeDAsIHkwKTtcbiAgfVxuICBpZiAoZmlsbF9zdHlsZSkge1xuICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsX3N0eWxlO1xuICAgIGN0eC5maWxsKCk7XG4gIH1cbiAgY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlX3N0eWxlO1xuICBjdHguc3Ryb2tlKCk7XG59XG5cbmZ1bmN0aW9uIGN0eERyYXdJbWFnZU1lc2goY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHRyaWFuZ2xlczogVWludDE2QXJyYXksIHBvc2l0aW9uczogRmxvYXQzMkFycmF5LCB0ZXhjb29yZHM6IEZsb2F0MzJBcnJheSwgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQsIHNpdGU6IGF0bGFzLlNpdGUsIHBhZ2U6IGF0bGFzLlBhZ2UpOiB2b2lkIHtcbiAgY29uc3Qgc2l0ZV90ZXhtYXRyaXg6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gIGNvbnN0IHNpdGVfdGV4Y29vcmQ6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG4gIG1hdDN4M0lkZW50aXR5KHNpdGVfdGV4bWF0cml4KTtcbiAgbWF0M3gzU2NhbGUoc2l0ZV90ZXhtYXRyaXgsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xuICBtYXQzeDNBcHBseUF0bGFzUGFnZVRleGNvb3JkKHNpdGVfdGV4bWF0cml4LCBwYWdlKTtcbiAgbWF0M3gzQXBwbHlBdGxhc1NpdGVUZXhjb29yZChzaXRlX3RleG1hdHJpeCwgc2l0ZSk7XG5cbiAgLy8gaHR0cDovL3d3dy5pcnJsaWNodDNkLm9yZy9waXZvdC9lbnRyeS5waHA/aWQ9MTMyOVxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdHJpYW5nbGVzLmxlbmd0aDsgKSB7XG4gICAgY29uc3QgdHJpYW5nbGUwOiBudW1iZXIgPSB0cmlhbmdsZXNbaW5kZXgrK10gKiAyO1xuICAgIGNvbnN0IHBvc2l0aW9uMDogRmxvYXQzMkFycmF5ID0gcG9zaXRpb25zLnN1YmFycmF5KHRyaWFuZ2xlMCwgdHJpYW5nbGUwICsgMik7XG4gICAgY29uc3QgeDA6IG51bWJlciA9IHBvc2l0aW9uMFswXTtcbiAgICBjb25zdCB5MDogbnVtYmVyID0gcG9zaXRpb24wWzFdO1xuICAgIGNvbnN0IHRleGNvb3JkMDogRmxvYXQzMkFycmF5ID0gbWF0M3gzVHJhbnNmb3JtKHNpdGVfdGV4bWF0cml4LCB0ZXhjb29yZHMuc3ViYXJyYXkodHJpYW5nbGUwLCB0cmlhbmdsZTAgKyAyKSwgc2l0ZV90ZXhjb29yZCk7XG4gICAgY29uc3QgdTA6IG51bWJlciA9IHRleGNvb3JkMFswXTtcbiAgICBjb25zdCB2MDogbnVtYmVyID0gdGV4Y29vcmQwWzFdO1xuXG4gICAgY29uc3QgdHJpYW5nbGUxOiBudW1iZXIgPSB0cmlhbmdsZXNbaW5kZXgrK10gKiAyO1xuICAgIGNvbnN0IHBvc2l0aW9uMTogRmxvYXQzMkFycmF5ID0gcG9zaXRpb25zLnN1YmFycmF5KHRyaWFuZ2xlMSwgdHJpYW5nbGUxICsgMik7XG4gICAgbGV0IHgxOiBudW1iZXIgPSBwb3NpdGlvbjFbMF07XG4gICAgbGV0IHkxOiBudW1iZXIgPSBwb3NpdGlvbjFbMV07XG4gICAgY29uc3QgdGV4Y29vcmQxOiBGbG9hdDMyQXJyYXkgPSBtYXQzeDNUcmFuc2Zvcm0oc2l0ZV90ZXhtYXRyaXgsIHRleGNvb3Jkcy5zdWJhcnJheSh0cmlhbmdsZTEsIHRyaWFuZ2xlMSArIDIpLCBzaXRlX3RleGNvb3JkKTtcbiAgICBsZXQgdTE6IG51bWJlciA9IHRleGNvb3JkMVswXTtcbiAgICBsZXQgdjE6IG51bWJlciA9IHRleGNvb3JkMVsxXTtcblxuICAgIGNvbnN0IHRyaWFuZ2xlMjogbnVtYmVyID0gdHJpYW5nbGVzW2luZGV4KytdICogMjtcbiAgICBjb25zdCBwb3NpdGlvbjI6IEZsb2F0MzJBcnJheSA9IHBvc2l0aW9ucy5zdWJhcnJheSh0cmlhbmdsZTIsIHRyaWFuZ2xlMiArIDIpO1xuICAgIGxldCB4MjogbnVtYmVyID0gcG9zaXRpb24yWzBdO1xuICAgIGxldCB5MjogbnVtYmVyID0gcG9zaXRpb24yWzFdO1xuICAgIGNvbnN0IHRleGNvb3JkMjogRmxvYXQzMkFycmF5ID0gbWF0M3gzVHJhbnNmb3JtKHNpdGVfdGV4bWF0cml4LCB0ZXhjb29yZHMuc3ViYXJyYXkodHJpYW5nbGUyLCB0cmlhbmdsZTIgKyAyKSwgc2l0ZV90ZXhjb29yZCk7XG4gICAgbGV0IHUyOiBudW1iZXIgPSB0ZXhjb29yZDJbMF07XG4gICAgbGV0IHYyOiBudW1iZXIgPSB0ZXhjb29yZDJbMV07XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKHgwLCB5MCk7XG4gICAgY3R4LmxpbmVUbyh4MSwgeTEpO1xuICAgIGN0eC5saW5lVG8oeDIsIHkyKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmNsaXAoKTtcbiAgICB4MSAtPSB4MDsgeTEgLT0geTA7XG4gICAgeDIgLT0geDA7IHkyIC09IHkwO1xuICAgIHUxIC09IHUwOyB2MSAtPSB2MDtcbiAgICB1MiAtPSB1MDsgdjIgLT0gdjA7XG4gICAgY29uc3QgaWQ6IG51bWJlciA9IDEgLyAodTEgKiB2MiAtIHUyICogdjEpO1xuICAgIGNvbnN0IGE6IG51bWJlciA9IGlkICogKHYyICogeDEgLSB2MSAqIHgyKTtcbiAgICBjb25zdCBiOiBudW1iZXIgPSBpZCAqICh2MiAqIHkxIC0gdjEgKiB5Mik7XG4gICAgY29uc3QgYzogbnVtYmVyID0gaWQgKiAodTEgKiB4MiAtIHUyICogeDEpO1xuICAgIGNvbnN0IGQ6IG51bWJlciA9IGlkICogKHUxICogeTIgLSB1MiAqIHkxKTtcbiAgICBjb25zdCBlOiBudW1iZXIgPSB4MCAtIChhICogdTAgKyBjICogdjApO1xuICAgIGNvbnN0IGY6IG51bWJlciA9IHkwIC0gKGIgKiB1MCArIGQgKiB2MCk7XG4gICAgY3R4LnRyYW5zZm9ybShhLCBiLCBjLCBkLCBlLCBmKTtcbiAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGN0eERyYXdJa0NvbnN0cmFpbnRzKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkYXRhOiBzcGluZS5EYXRhLCBib25lczoge1trZXk6IHN0cmluZ106IHNwaW5lLkJvbmV9KTogdm9pZCB7XG4gIGRhdGEuaWtjX2tleXMuZm9yRWFjaChmdW5jdGlvbihpa2Nfa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBpa2M6IHNwaW5lLklrYyA9IGRhdGEuaWtjc1tpa2Nfa2V5XTtcbiAgICBjb25zdCB0YXJnZXQ6IHNwaW5lLkJvbmUgPSBib25lc1tpa2MudGFyZ2V0X2tleV07XG4gICAgc3dpdGNoIChpa2MuYm9uZV9rZXlzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICBjb25zdCBib25lOiBzcGluZS5Cb25lID0gYm9uZXNbaWtjLmJvbmVfa2V5c1swXV07XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHRhcmdldC53b3JsZF9zcGFjZS5wb3NpdGlvbi54LCB0YXJnZXQud29ybGRfc3BhY2UucG9zaXRpb24ueSk7XG4gICAgICAgIGN0eC5saW5lVG8oYm9uZS53b3JsZF9zcGFjZS5wb3NpdGlvbi54LCBib25lLndvcmxkX3NwYWNlLnBvc2l0aW9uLnkpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAneWVsbG93JztcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eEFwcGx5U3BhY2UoY3R4LCB0YXJnZXQud29ybGRfc3BhY2UpO1xuICAgICAgICBjdHhEcmF3Q2lyY2xlKGN0eCwgJ3llbGxvdycsIDEuNSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4QXBwbHlTcGFjZShjdHgsIGJvbmUud29ybGRfc3BhY2UpO1xuICAgICAgICBjdHhEcmF3Q2lyY2xlKGN0eCwgJ3llbGxvdycsIDAuNSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBjb25zdCBwYXJlbnQ6IHNwaW5lLkJvbmUgPSBib25lc1tpa2MuYm9uZV9rZXlzWzBdXTtcbiAgICAgICAgY29uc3QgY2hpbGQ6IHNwaW5lLkJvbmUgPSBib25lc1tpa2MuYm9uZV9rZXlzWzFdXTtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8odGFyZ2V0LndvcmxkX3NwYWNlLnBvc2l0aW9uLngsIHRhcmdldC53b3JsZF9zcGFjZS5wb3NpdGlvbi55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhjaGlsZC53b3JsZF9zcGFjZS5wb3NpdGlvbi54LCBjaGlsZC53b3JsZF9zcGFjZS5wb3NpdGlvbi55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhwYXJlbnQud29ybGRfc3BhY2UucG9zaXRpb24ueCwgcGFyZW50LndvcmxkX3NwYWNlLnBvc2l0aW9uLnkpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAneWVsbG93JztcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eEFwcGx5U3BhY2UoY3R4LCB0YXJnZXQud29ybGRfc3BhY2UpO1xuICAgICAgICBjdHhEcmF3Q2lyY2xlKGN0eCwgJ3llbGxvdycsIDEuNSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4QXBwbHlTcGFjZShjdHgsIGNoaWxkLndvcmxkX3NwYWNlKTtcbiAgICAgICAgY3R4RHJhd0NpcmNsZShjdHgsICd5ZWxsb3cnLCAwLjc1KTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHhBcHBseVNwYWNlKGN0eCwgcGFyZW50LndvcmxkX3NwYWNlKTtcbiAgICAgICAgY3R4RHJhd0NpcmNsZShjdHgsICd5ZWxsb3cnLCAwLjUpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG59XG4iLCJpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICcuL2FwcGxpY2F0aW9uJztcbmltcG9ydCB7RGV2aWNlfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7R2FtZSwgR2FtZU9iamVjdEZhY3Rvcnl9IGZyb20gJy4vY29yZSc7XG5pbXBvcnQge01lZGlhdG9yfSBmcm9tICcuL212Yyc7XG5cbi8qKlxuICogU3ByaXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBTcHJpdGUgZXh0ZW5kcyBQaGFzZXIuU3ByaXRlIHtcbiAgICBwdWJsaWMgZ2FtZTogR2FtZTtcblxuICAgIHByb3RlY3RlZCBfaGFzQ29tcG9uZW50czogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfY29tcG9uZW50S2V5czogc3RyaW5nW10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgX2NvbXBvbmVudHM6IHsgW2NvbXBvbmVudE5hbWU6IHN0cmluZ106IENvbXBvbmVudCB9ID0ge307XG5cbiAgICBjb25zdHJ1Y3Rvcih4PzogbnVtYmVyLCB5PzogbnVtYmVyLCBrZXk/OiBzdHJpbmcgfCBQaGFzZXIuUmVuZGVyVGV4dHVyZSB8IFBoYXNlci5CaXRtYXBEYXRhIHwgUElYSS5UZXh0dXJlLCBmcmFtZT86IHN0cmluZyB8IG51bWJlciwgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiZFNwcml0ZVwiLCBjb21wb25lbnRzOiBDb21wb25lbnRbXSA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIoQXBwbGljYXRpb24uZ2V0SW5zdGFuY2UoKS5nYW1lLCB4LCB5LCBrZXksIGZyYW1lKTtcblxuICAgICAgICBpZiAoY29tcG9uZW50cylcbiAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50cyhjb21wb25lbnRzKTtcbiAgICB9XG4gICAgLy8gUGhhc2VyLlNwcml0ZSBvdmVycmlkZXNcbiAgICAvKipcbiAgICAqIGNhbGxlZCBldmVyeSBmcmFtZVxuICAgICogaXRlcmF0ZXMgdGhlIGNvbXBvbmVudHMgbGlzdCBhbmQgY2FsbHMgY29tcG9uZW50LnVwZGF0ZSgpIG9uIGVhY2ggY29tcG9uZW50XG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQG92ZXJyaWRlXG4gICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5faGFzQ29tcG9uZW50cylcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogcmVtb3ZlcyBhbGwgY29tcG9uZW50c1xuICAgICogQHJldHVybiB7UGhhc2VyLkdyb3VwLmRlc3Ryb3l9XG4gICAgKiBAb3ZlcnJpZGVcbiAgICAqL1xuICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbENvbXBvbmVudHMoKTtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8vIHByaXZhdGUgbWV0aG9kc1xuICAgIC8qKlxuICAgICogaW5pdGlhbGl6ZSB2YXJpYWJsZXNcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwcm90ZWN0ZWQgaW5pdCgpOiB2b2lkIHsgfVxuXG4gICAgLyoqXG4gICAgKiBhZGQgdmlzdWFsIGVsZW1lbnRzXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHJvdGVjdGVkIGJ1aWxkSW50ZXJmYWNlKCk6IHZvaWQgeyB9XG5cbiAgICAvKipcbiAgICAqIHVwZGF0ZXMgdGhlIGludGVybmFsIGxpc3Qgb2YgY29tcG9uZW50IGtleXMgKHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCBPYmplY3Qua2V5cygpIGFsbCB0aGUgdGltZSlcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwcml2YXRlIF91cGRhdGVDb21wb25lbnRLZXlzKCkge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRLZXlzID0gT2JqZWN0LmtleXModGhpcy5fY29tcG9uZW50cyk7XG4gICAgICAgIHRoaXMuX2hhc0NvbXBvbmVudHMgPSB0aGlzLl9jb21wb25lbnRLZXlzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgLy8gcHVibGljIG1ldGhvZHNcbiAgICAvKipcbiAgICAqIGF0dGFjaGVzIGEgbGlzdCBvZiBjb21wb25lbnRzIHRvIHRoZSBEaWpvbi5VSUdyb3VwXG4gICAgKiBAcGFyYW0ge0FycmF5fSBjb21wb25lbnRzIHRoZSBsaXN0IG9mIGNvbXBvbmVudHMgdG8gYWRkXG4gICAgKi9cbiAgICBwdWJsaWMgYWRkQ29tcG9uZW50cyA9IGZ1bmN0aW9uIChjb21wb25lbnRzOiBDb21wb25lbnRbXSkge1xuICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudHMubGVuZ3RoID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGlqb24uVUlHcm91cCBjb21wb25lbnRzIG11c3QgYmUgYW4gYXJyYXknKTtcblxuICAgICAgICB3aGlsZSAoY29tcG9uZW50cy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoY29tcG9uZW50cy5zaGlmdCgpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiBhdHRhY2hlcyBhIGNvbXBvbmVudCB0byB0aGUgRGlqb24uVUlHcm91cFxuICAgICogQHBhcmFtIHtkaWpvbi5Db21wb25lbnR9IGNvbXBvbmVudCB0byBiZSBhdHRhY2hlZFxuICAgICovXG4gICAgcHVibGljIGFkZENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudCk6IENvbXBvbmVudCB7XG4gICAgICAgIGNvbXBvbmVudC5zZXRPd25lcih0aGlzKTtcbiAgICAgICAgY29tcG9uZW50LmluaXQoKTtcbiAgICAgICAgY29tcG9uZW50LmJ1aWxkSW50ZXJmYWNlKCk7XG5cbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnQubmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbXBvbmVudEtleXMoKTtcblxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqIGl0ZXJhdGVzIHRocm91Z2ggdGhlIGxpc3Qgb2YgY29tcG9uZW50cyBhbmQgdXBkYXRlcyBlYWNoIG9uZVxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGVDb21wb25lbnRzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRLZXlzLmZvckVhY2goXG4gICAgICAgICAgICBjb21wb25lbnROYW1lID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHVwZGF0ZXMgYW4gYXR0YWNoZWQgY29tcG9uZW50IChjYWxscyBjb21wb25lbnQudXBkYXRlKCkpXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNvbXBvbmVudE5hbWUgdGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCB0byB1cGRhdGVcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlQ29tcG9uZW50KGNvbXBvbmVudE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogcmVtb3ZlcyBhbGwgdGhlIGNvbXBvbmVudHMgY3VycmVudGx5IGF0dGFjaGVkXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHVibGljIHJlbW92ZUFsbENvbXBvbmVudHMoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLl9jb21wb25lbnRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29tcG9uZW50KHRoaXMuX2NvbXBvbmVudEtleXMucG9wKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiByZW1vdmVzIGEgc3BlY2lmaWMgY29tcG9uZW50XG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNvbXBvbmVudE5hbWUgdGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCB0byByZW1vdmVcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwdWJsaWMgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50TmFtZV0gPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50TmFtZV0uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlQ29tcG9uZW50S2V5cygpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmbGF0dGVuKGRlbGF5OiBudW1iZXIgPSAwKTogdm9pZCB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jYWNoZUFzQml0bWFwID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS50aW1lLmV2ZW50cy5hZGQoZGVsYXksICgpID0+IHsgdGhpcy5jYWNoZUFzQml0bWFwID0gdHJ1ZSB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB1bkZsYXR0ZW4oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FjaGVBc0JpdG1hcCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByZXNvbHV0aW9uKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICB9XG59XG5cbi8qKlxuICogSW52aXNpYmxlQnV0dG9uXG4gKi9cblxuZXhwb3J0IGNsYXNzIEludmlzaWJsZUJ1dHRvbiBleHRlbmRzIFNwcml0ZSB7XG4gICAgcHJpdmF0ZSBfaGl0V2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9oaXRIZWlnaHQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIHc6IG51bWJlciwgaDogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKHgsIHksIG51bGwsIG51bGwsIG5hbWUpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5idWlsZEludGVyZmFjZSgpO1xuICAgICAgICB0aGlzLnNldFNpemUodywgaCk7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaW5wdXRFbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYnVpbGRJbnRlcmZhY2UoKSB7XG4gICAgICAgIHRoaXMuX2FkZEhpdFJlY3QoKTtcbiAgICB9XG5cbiAgICAvLyBwcml2YXRlIG1ldGhvZHNcbiAgICBwcml2YXRlIF9hZGRIaXRSZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5faGl0V2lkdGggPiAwICYmIHRoaXMuX2hpdEhlaWdodCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaGl0QXJlYSA9IG5ldyBQaGFzZXIuUmVjdGFuZ2xlKDAsIDAsIHRoaXMuX2hpdFdpZHRoLCB0aGlzLl9oaXRIZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcHVibGljIG1ldGhvZHNcbiAgICBwdWJsaWMgc2V0U2l6ZSh3LCBoKSB7XG4gICAgICAgIHRoaXMuX2hpdFdpZHRoID0gdyB8fCAwO1xuICAgICAgICB0aGlzLl9oaXRIZWlnaHQgPSBoIHx8IDA7XG5cbiAgICAgICAgdGhpcy5fYWRkSGl0UmVjdCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHcm91cFxuICovXG5leHBvcnQgY2xhc3MgR3JvdXAgZXh0ZW5kcyBQaGFzZXIuR3JvdXAge1xuICAgIHB1YmxpYyBnYW1lOiBHYW1lO1xuXG4gICAgcHJvdGVjdGVkIF9oYXNDb21wb25lbnRzOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9jb21wb25lbnRLZXlzOiBzdHJpbmdbXSA9IFtdO1xuICAgIHByb3RlY3RlZCBfY29tcG9uZW50czogeyBbY29tcG9uZW50TmFtZTogc3RyaW5nXTogQ29tcG9uZW50IH0gPSB7fTtcblxuICAgIHByb3RlY3RlZCBfbWVkaWF0b3I6IE1lZGlhdG9yID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDAsIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcImRHcm91cFwiLCBhZGRUb1N0YWdlOiBib29sZWFuID0gZmFsc2UsIGNvbXBvbmVudHM6IENvbXBvbmVudFtdID0gbnVsbCwgZW5hYmxlQm9keT86IGJvb2xlYW4sIHBoeXNpY3NCb2R5VHlwZT86IG51bWJlcikge1xuICAgICAgICBzdXBlcihBcHBsaWNhdGlvbi5nZXRJbnN0YW5jZSgpLmdhbWUsIG51bGwsIG5hbWUsIGFkZFRvU3RhZ2UsIGVuYWJsZUJvZHksIHBoeXNpY3NCb2R5VHlwZSk7XG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbi5zZXQoeCwgeSk7XG5cbiAgICAgICAgaWYgKCFhZGRUb1N0YWdlKVxuICAgICAgICAgICAgdGhpcy5nYW1lLmFkZC5leGlzdGluZyh0aGlzKTtcblxuXG4gICAgICAgIGlmIChjb21wb25lbnRzKVxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnRzKGNvbXBvbmVudHMpO1xuICAgIH1cblxuICAgIC8vIFBoYXNlci5Hcm91cCBvdmVycmlkZXNcbiAgICAvKipcbiAgICAqIGNhbGxlZCBldmVyeSBmcmFtZVxuICAgICogaXRlcmF0ZXMgdGhlIGNvbXBvbmVudHMgbGlzdCBhbmQgY2FsbHMgY29tcG9uZW50LnVwZGF0ZSgpIG9uIGVhY2ggY29tcG9uZW50XG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQG92ZXJyaWRlXG4gICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBzdXBlci51cGRhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0NvbXBvbmVudHMpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHJlbW92ZXMgYWxsIGNvbXBvbmVudHNcbiAgICAqIEByZXR1cm4ge1BoYXNlci5Hcm91cC5kZXN0cm95fVxuICAgICogQG92ZXJyaWRlXG4gICAgKi9cbiAgICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxDb21wb25lbnRzKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlTWVkaWF0b3IoKTtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8vIHByaXZhdGUgbWV0aG9kc1xuICAgIC8qKlxuICAgICogaW5pdGlhbGl6ZSB2YXJpYWJsZXNcbiAgICAqIGFkZCBtZWRpYXRvciwgaWYgbmVlZGVkXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHJvdGVjdGVkIGluaXQoKTogdm9pZCB7IH1cblxuICAgIC8qKlxuICAgICogYWRkIHZpc3VhbCBlbGVtZW50c1xuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgIHByb3RlY3RlZCBidWlsZEludGVyZmFjZSgpOiB2b2lkIHsgfVxuXG4gICAgLyoqXG4gICAgKiB1cGRhdGVzIHRoZSBpbnRlcm5hbCBsaXN0IG9mIGNvbXBvbmVudCBrZXlzIChzbyB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgT2JqZWN0LmtleXMoKSBhbGwgdGhlIHRpbWUpXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHJpdmF0ZSBfdXBkYXRlQ29tcG9uZW50S2V5cygpIHtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50S2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2NvbXBvbmVudHMpO1xuICAgICAgICB0aGlzLl9oYXNDb21wb25lbnRzID0gdGhpcy5fY29tcG9uZW50S2V5cy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIC8vIHB1YmxpYyBtZXRob2RzXG4gICAgLyoqXG4gICAgKiBhdHRhY2hlcyBhIGxpc3Qgb2YgY29tcG9uZW50cyB0byB0aGUgRGlqb24uVUlHcm91cFxuICAgICogQHBhcmFtIHtBcnJheX0gY29tcG9uZW50cyB0aGUgbGlzdCBvZiBjb21wb25lbnRzIHRvIGFkZFxuICAgICovXG4gICAgcHVibGljIGFkZENvbXBvbmVudHMgPSBmdW5jdGlvbiAoY29tcG9uZW50czogQ29tcG9uZW50W10pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRzLmxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rpam9uLlVJR3JvdXAgY29tcG9uZW50cyBtdXN0IGJlIGFuIGFycmF5Jyk7XG5cbiAgICAgICAgd2hpbGUgKGNvbXBvbmVudHMubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudHMuc2hpZnQoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBhdHRhY2hlcyBhIGNvbXBvbmVudCB0byB0aGUgRGlqb24uVUlHcm91cFxuICAgICogQHBhcmFtIHtkaWpvbi5Db21wb25lbnR9IGNvbXBvbmVudCB0byBiZSBhdHRhY2hlZFxuICAgICovXG4gICAgcHVibGljIGFkZENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudCk6IENvbXBvbmVudCB7XG4gICAgICAgIGNvbXBvbmVudC5zZXRPd25lcih0aGlzKTtcbiAgICAgICAgY29tcG9uZW50LmluaXQoKTtcbiAgICAgICAgY29tcG9uZW50LmJ1aWxkSW50ZXJmYWNlKCk7XG5cbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnQubmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvbXBvbmVudEtleXMoKTtcblxuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICogaXRlcmF0ZXMgdGhyb3VnaCB0aGUgbGlzdCBvZiBjb21wb25lbnRzIGFuZCB1cGRhdGVzIGVhY2ggb25lXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHVibGljIHVwZGF0ZUNvbXBvbmVudHMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEtleXMuZm9yRWFjaChcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogdXBkYXRlcyBhbiBhdHRhY2hlZCBjb21wb25lbnQgKGNhbGxzIGNvbXBvbmVudC51cGRhdGUoKSlcbiAgICAqIEBwYXJhbSAge1N0cmluZ30gY29tcG9uZW50TmFtZSB0aGUgbmFtZSBvZiB0aGUgY29tcG9uZW50IHRvIHVwZGF0ZVxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGVDb21wb25lbnQoY29tcG9uZW50TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50TmFtZV0udXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiByZW1vdmVzIGFsbCB0aGUgY29tcG9uZW50cyBjdXJyZW50bHkgYXR0YWNoZWRcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwdWJsaWMgcmVtb3ZlQWxsQ29tcG9uZW50cygpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2NvbXBvbmVudEtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQodGhpcy5fY29tcG9uZW50S2V5cy5wb3AoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHJlbW92ZXMgYSBzcGVjaWZpYyBjb21wb25lbnRcbiAgICAqIEBwYXJhbSAge1N0cmluZ30gY29tcG9uZW50TmFtZSB0aGUgbmFtZSBvZiB0aGUgY29tcG9uZW50IHRvIHJlbW92ZVxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgIHB1YmxpYyByZW1vdmVDb21wb25lbnQoY29tcG9uZW50TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnROYW1lXSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnROYW1lXS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50TmFtZV0gPSBudWxsO1xuICAgICAgICBkZWxldGUgdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnROYW1lXTtcblxuICAgICAgICB0aGlzLl91cGRhdGVDb21wb25lbnRLZXlzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGZsYXR0ZW4oZGVsYXk6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nYW1lLnRpbWUuZXZlbnRzLmFkZChkZWxheSwgKCkgPT4geyB0aGlzLmNhY2hlQXNCaXRtYXAgPSB0cnVlIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVuRmxhdHRlbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jYWNoZUFzQml0bWFwID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHJlbW92ZXMgdGhlIG1lZGlhdG9yLCBpZiBpdCBleGlzdHNcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwdWJsaWMgcmVtb3ZlTWVkaWF0b3IoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5fbWVkaWF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tZWRpYXRvci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX21lZGlhdG9yID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGFkZEludGVybmFsKCk6IEdhbWVPYmplY3RGYWN0b3J5IHtcbiAgICAgICAgdGhpcy5nYW1lLmFkZC50YXJnZXRHcm91cCA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWUuYWRkO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUZXh0XG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0IGV4dGVuZHMgUGhhc2VyLlRleHQge1xuICAgIC8vIGNvbnN0YW50c1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9GT05UX1NJWkU6IG51bWJlciA9IDEyO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9GT05UX0NPTE9SOiBzdHJpbmcgPSBcIiMwMDAwMDBcIjtcbiAgICBwdWJsaWMgc3RhdGljIERFRkFVTFRfRk9OVDogc3RyaW5nID0gXCJIZWx2ZXRpY2EgTmV1ZSwgQXJpYWxcIjtcbiAgICBwdWJsaWMgc3RhdGljIEdMT0JBTF9QQURESU5HX1g6IG51bWJlciA9IDA7XG4gICAgcHVibGljIHN0YXRpYyBHTE9CQUxfUEFERElOR19ZOiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIGdhbWU6IEdhbWU7XG4gICAgcHVibGljIHN0eWxlOiBhbnk7XG4gICAgcHVibGljIG9uQW5pbWF0aW9uQ29tcGxldGU6IFBoYXNlci5TaWduYWwgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuXG4gICAgcHJvdGVjdGVkIF9jYW5VcGRhdGUgPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgX3JlcGVhdFRpbWVyOiBQaGFzZXIuVGltZXJFdmVudDtcbiAgICBwcm90ZWN0ZWQgX2RlbGF5VGltZXI6IFBoYXNlci5UaW1lckV2ZW50O1xuICAgIHByb3RlY3RlZCBfbG93ZXJjYXNlVGV4dDogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfbGV0dGVyVGltZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfdGV4dExlbmd0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfdGV4dFRvQW5pbWF0ZTogc3RyaW5nW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCB0ZXh0OiBzdHJpbmcgPSBcIlwiLCBmb250TmFtZT86IHN0cmluZywgZm9udFNpemU6IG51bWJlciA9IFRleHQuREVGQVVMVF9GT05UX1NJWkUsIGZvbnRDb2xvcjogc3RyaW5nID0gVGV4dC5ERUZBVUxUX0ZPTlRfQ09MT1IsIGZvbnRBbGlnbjogc3RyaW5nID0gJ2xlZnQnLCB3b3JkV3JhcDogYm9vbGVhbiA9IGZhbHNlLCB3aWR0aDogbnVtYmVyID0gMCwgcHVibGljIGxpbmVTcGFjaW5nOiBudW1iZXIgPSAwLCBzZXR0aW5nczogT2JqZWN0ID0gbnVsbCkge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLmdldEluc3RhbmNlKCkuZ2FtZSxcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIFRleHQuX2FkZFNldHRpbmdzKHtcbiAgICAgICAgICAgICAgICBmb250OiBmb250U2l6ZSArICdweCAnICsgZm9udE5hbWUsXG4gICAgICAgICAgICAgICAgZmlsbDogZm9udENvbG9yLFxuICAgICAgICAgICAgICAgIGFsaWduOiBmb250QWxpZ24sXG4gICAgICAgICAgICAgICAgd29yZFdyYXA6IHdvcmRXcmFwLFxuICAgICAgICAgICAgICAgIHdvcmRXcmFwV2lkdGg6IHdpZHRoXG4gICAgICAgICAgICB9LCBzZXR0aW5ncylcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0LnJlcGxhY2UoLycvZywgXCJcXCdcIik7XG4gICAgICAgIHRoaXMuX2xvd2VyY2FzZVRleHQgPSB0aGlzLnRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gUGhhc2VyLlRleHQgb3ZlcnJpZGVzXG4gICAgcHVibGljIHNldFRleHQodGV4dDogc3RyaW5nKTogUGhhc2VyLlRleHQge1xuICAgICAgICBzdXBlci5zZXRUZXh0KHRleHQpO1xuXG4gICAgICAgIHRoaXMuX2xvd2VyY2FzZVRleHQgPSB0aGlzLnRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGhpcy5zZXRSZXNvbHV0aW9uKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFJlc29sdXRpb24oKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5nYW1lIHx8ICF0aGlzLmdhbWUuZGV2aWNlLmNvY29vbkpTKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lLmRldmljZS5jb2Nvb25KUykge1xuICAgICAgICAgICAgLy8gZml4IGZvciBmb250cyBsb29raW5nIHJlYWxseSBibHVycnkgaW4gY29jb29uSlNcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHRoaXMuZ2FtZS5yZXNvbHV0aW9uICogdGhpcy5nYW1lLnJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBwcml2YXRlIG1ldGhvZHNcdFx0XG4gICAgLyoqXG4gICAgKiBzdGFydHMgdGhlIHRleHQgYW5pbWF0aW9uXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByb3RlY3RlZCBfc3RhcnRUZXh0QW5pbWF0aW9uKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jYW5VcGRhdGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZXBlYXRUaW1lciA9IHRoaXMuZ2FtZS50aW1lLmV2ZW50cy5yZXBlYXQodGhpcy5fbGV0dGVyVGltZSAqIDEwMCwgdGhpcy5fdGV4dExlbmd0aCwgdGhpcy5fdXBkYXRlVGV4dEFuaW1hdGlvbiwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF91cGRhdGVUZXh0QW5pbWF0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NhblVwZGF0ZSB8fCAhdGhpcy5fdGV4dFRvQW5pbWF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3RleHRMZW5ndGggLSB0aGlzLl90ZXh0VG9BbmltYXRlLmxlbmd0aDtcbiAgICAgICAgdGhpcy5hZGRDb2xvcih0aGlzLnN0eWxlLmZpbGwsIGluZGV4KTtcbiAgICAgICAgdGhpcy5hZGRDb2xvcigncmdiYSgwLDAsMCwwKScsIGluZGV4ICsgMSk7XG4gICAgICAgIHRoaXMuX3RleHRUb0FuaW1hdGUuc2hpZnQoKTtcblxuICAgICAgICBpZiAodGhpcy5fdGV4dFRvQW5pbWF0ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMub25BbmltYXRpb25Db21wbGV0ZS5kaXNwYXRjaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcHVibGljIG1ldGhvZHNcbiAgICAvKipcbiAgICAqIHNldHMgdGhlIGNvbG9yIG9mIHRoZSBlbnRpcmUgdGV4dFxuICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIGNzcyBjb2xvciBzdHJpbmcgKHN1Y2ggYXMgXCIjZmYwMDAwXCIpXG4gICAgKiBAcmV0dXJuIHtEaWpvbi5VSVRleHQuaGlnaGxpZ2h0UGhyYXNlfSBjYWxscyB0aGUgaGlnaGxpZ2h0UGhyYXNlIG1ldGhvZCBhbmQgXCJoaWdobGlnaHRzXCIgdGhlIGVudGlyZSB0ZXh0IHN0cmluZ1xuICAgICovXG4gICAgcHVibGljIHNldENvbG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlnaGxpZ2h0UGhyYXNlKHRoaXMudGV4dCwgY29sb3IsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHJlc2V0cyB0aGUgY29sb3IgdG8gdGhlIG9yaWdpbmFsIGZpbGwgY29sb3JcbiAgICAqIEByZXR1cm4ge0Rpam9uLlVJVGV4dC5oaWdobGlnaHRQaHJhc2V9IGNhbGxzIHRoZSBoaWdobGlnaHRQaHJhc2UgbWV0aG9kIGFuZCBcImhpZ2hsaWdodHNcIiB0aGUgZW50aXJlIHRleHQgc3RyaW5nXG4gICAgKi9cbiAgICBwdWJsaWMgcmVzZXRDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlnaGxpZ2h0UGhyYXNlKHRoaXMudGV4dCwgdGhpcy5zdHlsZS5maWxsLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBjaGFuZ2VzIHRoZSBjb2xvdXIgb2YgYSBwb3J0aW9uIG9mIHRoZSB0ZXh0XG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IHBocmFzZSAgICAgICAgdGhlIHBocmFzZSB3aXRoaW4gdGhlIHRleHQgdG8gY2hhbmdlXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNvbG9yICAgICAgICAgY3NzIGNvbG9yIHN0cmluZyAoc3VjaCBhcyBcIiNmZjAwMDBcIilcbiAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtjYXNlU2Vuc2l0aXZlID0gZmFsc2VdIHdoZXRoZXIgdGhlIHNlYXJjaCBmb3IgdGhlIHBocmFzZSB3aXRoaW4gdGhpcyB0ZXh0IHNob3VsZCBiZSBjYXNlIHNlbnNpdGl2ZVxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgIHB1YmxpYyBoaWdobGlnaHRQaHJhc2UocGhyYXNlOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcsIGNhc2VTZW5zaXRpdmU6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBsZXQgdGV4dCA9IGNhc2VTZW5zaXRpdmUgPyB0aGlzLnRleHQgOiB0aGlzLl9sb3dlcmNhc2VUZXh0O1xuXG4gICAgICAgIHBocmFzZSA9IGNhc2VTZW5zaXRpdmUgPyBwaHJhc2UgOiBwaHJhc2UudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBsZXQgbGVuID0gcGhyYXNlLmxlbmd0aDtcblxuICAgICAgICBsZXQgc3RhcnRJbmRleCA9IHRleHQuaW5kZXhPZihwaHJhc2UpO1xuICAgICAgICBsZXQgZW5kSW5kZXggPSBzdGFydEluZGV4ICsgbGVuO1xuXG4gICAgICAgIHdoaWxlIChzdGFydEluZGV4IDw9IGVuZEluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbG9yKGNvbG9yLCBzdGFydEluZGV4KTtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkQ29sb3IodGhpcy5zdHlsZS5maWxsLCBlbmRJbmRleCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAqIGFuaW1hdGVzIHRoZSB0ZXh0IGluIGJ5IHJldmVhbGluZyBlYWNoIGNoYXJhY3RlciBpbiBzZXF1ZW5jZVxuICAgICogQHBhcmFtICB7TnVtYmVyfSBbbGV0dGVyVGltZSA9IDAuMV0gIHRoZSB0aW1lIChpbiBzZWNvbmRzKSBiZXR3ZWVuIGVhY2ggY2hhcmFjdGVyXG4gICAgKiBAcGFyYW0gIHtpbnR9IFtkZWxheSA9IDBdICAgICAgICAgICAgdGhlIGRlbGF5IGJlZm9yZSBzdGFydGluZyB0aGUgYW5pbWF0aW9uXG4gICAgKi9cbiAgICBwdWJsaWMgYW5pbWF0ZShsZXR0ZXJUaW1lOiBudW1iZXIgPSAwLjEsIGRlbGF5OiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHRoaXMuZ2FtZS50aW1lLmV2ZW50cy5yZW1vdmUodGhpcy5fZGVsYXlUaW1lcik7XG4gICAgICAgIHRoaXMuZ2FtZS50aW1lLmV2ZW50cy5yZW1vdmUodGhpcy5fcmVwZWF0VGltZXIpO1xuXG4gICAgICAgIHRoaXMuX2xldHRlclRpbWUgPSBsZXR0ZXJUaW1lO1xuICAgICAgICB0aGlzLl90ZXh0TGVuZ3RoID0gdGhpcy50ZXh0Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5fdGV4dFRvQW5pbWF0ZSA9IHRoaXMudGV4dC5zcGxpdCgnJyk7XG5cbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSAwO1xuICAgICAgICB2YXIgZW5kSW5kZXggPSB0aGlzLl90ZXh0TGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChzdGFydEluZGV4IDw9IGVuZEluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbG9yKCdyZ2JhKDAsMCwwLDApJywgc3RhcnRJbmRleCk7XG4gICAgICAgICAgICBzdGFydEluZGV4Kys7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWxheVRpbWVyID0gdGhpcy5nYW1lLnRpbWUuZXZlbnRzLmFkZChkZWxheSAqIFBoYXNlci5UaW1lci5TRUNPTkQsIHRoaXMuX3N0YXJ0VGV4dEFuaW1hdGlvbiwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBzdG9wcyB0aGUgdGV4dCBhbmltYXRpb24gYW5kIGNsZWFycyB0aGUgdGltZXJzXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHVibGljIHN0b3BBbmltYXRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2NhblVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90ZXh0VG9BbmltYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5nYW1lLnRpbWUuZXZlbnRzLnJlbW92ZSh0aGlzLl9kZWxheVRpbWVyKTtcbiAgICAgICAgdGhpcy5nYW1lLnRpbWUuZXZlbnRzLnJlbW92ZSh0aGlzLl9yZXBlYXRUaW1lcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiByb3VuZHMgdGhlIHBvc2l0aW9uXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHVibGljIHJvdW5kUGl4ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KE1hdGgucm91bmQodGhpcy54KSwgTWF0aC5yb3VuZCh0aGlzLnkpKTtcbiAgICB9XG5cbiAgICAvLyBzdGF0aWMgbWV0aG9kc1xuICAgIHByaXZhdGUgc3RhdGljIF9hZGRTZXR0aW5ncyhvYmo6IE9iamVjdCwgc2V0dGluZ3M6IE9iamVjdCk6IE9iamVjdCB7XG4gICAgICAgIGlmICghc2V0dGluZ3MpXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNldHRpbmdzW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBnZXQgcmVhbEhlaWdodCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCAvIHRoaXMuZ2FtZS5yZXNvbHV0aW9uO1xuICAgIH1cblxuICAgIGdldCByZWFsV2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueCAqIHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aCAvIHRoaXMuZ2FtZS5yZXNvbHV0aW9uO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XG4gICAgcHVibGljIGdhbWU6IEdhbWU7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgICBwdWJsaWMgb3duZXI6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdhbWUgPSBBcHBsaWNhdGlvbi5nZXRJbnN0YW5jZSgpLmdhbWU7XG4gICAgICAgIHRoaXMubmFtZSA9ICdDb21wb25lbnQnO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRPd25lcihvd25lcjogU3ByaXRlIHwgR3JvdXApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogaW5pdGlhbGl6ZSB0aGUgY29tcG9uZW50LCBzZXQgdXAgdmFyaWFibGVzXG4gICAgKiBjYWxsZWQgYnkgdGhlIG93bmVyIGZpcnN0IGFmdGVyIHRoZSBjb21wb25lbnQgaXMgYXR0YWNoZWRcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwdWJsaWMgaW5pdCgpIHsgfVxuXG4gICAgLyoqXG4gICAgKiBhZGQgdmlzdWFsIGVsZW1lbnRzXG4gICAgKiBjYWxsZWQgYnkgdGhlIG93bmVyIGFmdGVyIGl0IGNhbGxzIHRoaXMgaW5pdCBtZXRob2RcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwdWJsaWMgYnVpbGRJbnRlcmZhY2UoKSB7IH1cblxuICAgIC8qKlxuICAgICogY2FsbGVkIGJ5IHRoZSBvd25lciBpbiBpdHMgdXBkYXRlIGN5Y2xlLCBldmVyeSBmcmFtZVxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGUoKSB7IH1cblxuICAgIC8qKlxuICAgICogcmVtb3ZlIGFueSB2aXN1YWwgZWxlbWVudHMgLyBzaWduYWxzIGFkZGVkXG4gICAgKiBvd25lciBjYWxscyB0aGlzIG1ldGhvZCBpbiBpdHMgb3duIGRlc3Ryb3kgbWV0aG9kXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHVibGljIGRlc3Ryb3koKSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIE5pbmVTbGljZUltYWdlIGV4dGVuZHMgR3JvdXAge1xuICAgIHByaXZhdGUgX193aWR0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX19oZWlnaHQ6IG51bWJlcjtcbiAgICBwcml2YXRlIF9zaXplOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIF9kaXNwbGF5TGF5ZXI6IFBoYXNlci5Hcm91cDtcbiAgICBwcml2YXRlIF9pbnB1dExheWVyOiBQaGFzZXIuR3JvdXA7XG5cbiAgICBwdWJsaWMgdGw6IFBoYXNlci5JbWFnZTtcbiAgICBwdWJsaWMgdDogUGhhc2VyLlRpbGVTcHJpdGU7XG4gICAgcHVibGljIHRyOiBQaGFzZXIuSW1hZ2U7XG4gICAgcHVibGljIHI6IFBoYXNlci5UaWxlU3ByaXRlO1xuICAgIHB1YmxpYyBicjogUGhhc2VyLkltYWdlO1xuICAgIHB1YmxpYyBiOiBQaGFzZXIuVGlsZVNwcml0ZTtcbiAgICBwdWJsaWMgYmw6IFBoYXNlci5JbWFnZTtcbiAgICBwdWJsaWMgbDogUGhhc2VyLlRpbGVTcHJpdGU7XG4gICAgcHVibGljIHRpbGU6IFBoYXNlci5UaWxlU3ByaXRlO1xuXG4gICAgcHJpdmF0ZSBfaW50ZXJhY3RpdmVCYWNraW5nOiBQaGFzZXIuSW1hZ2UgPSBudWxsO1xuICAgIHByaXZhdGUgX2lucHV0RW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBfY3VycmVudEJvdW5kczogUElYSS5SZWN0YW5nbGUgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBwdWJsaWMga2V5OiBzdHJpbmcsIHB1YmxpYyB0ZXh0dXJlUGF0aDogc3RyaW5nLCBwdWJsaWMgZmlsbE1pZGRsZTogYm9vbGVhbiA9IHRydWUsIHB1YmxpYyB0b3BIZWlnaHQ/OiBudW1iZXIsIHB1YmxpYyByaWdodFdpZHRoPzogbnVtYmVyLCBwdWJsaWMgYm90dG9tSGVpZ2h0PzogbnVtYmVyLCBwdWJsaWMgbGVmdFdpZHRoPzogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKHgsIHkpO1xuXG4gICAgICAgIHRoaXMuX193aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICB0aGlzLl9faGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuX2J1aWxkKCk7XG4gICAgICAgIHRoaXMuZ2FtZS50aW1lLmV2ZW50cy5hZGQoMTAsIHRoaXMuX2ZsYXR0ZW4sIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2J1aWxkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9pbnB1dExheWVyID0gdGhpcy5hZGQodGhpcy5nYW1lLmFkZC5ncm91cCgpKTtcbiAgICAgICAgdGhpcy5fZGlzcGxheUxheWVyID0gdGhpcy5hZGQodGhpcy5nYW1lLmFkZC5ncm91cCgpKTtcblxuICAgICAgICB0aGlzLnRsID0gPFBoYXNlci5JbWFnZT50aGlzLl9kaXNwbGF5TGF5ZXIuYWRkKHRoaXMuZ2FtZS5hZGQuaW1hZ2UoMCwgMCwgdGhpcy5rZXksIHRoaXMudGV4dHVyZVBhdGggKyAnL3RsJykpO1xuXG4gICAgICAgIHRoaXMudHIgPSA8UGhhc2VyLkltYWdlPnRoaXMuX2Rpc3BsYXlMYXllci5hZGQodGhpcy5nYW1lLmFkZC5pbWFnZSh0aGlzLl9fd2lkdGgsIDAsIHRoaXMua2V5LCB0aGlzLnRleHR1cmVQYXRoICsgJy90cicpKTtcblxuICAgICAgICB0aGlzLnQgPSA8UGhhc2VyLlRpbGVTcHJpdGU+dGhpcy5fZGlzcGxheUxheWVyLmFkZCh0aGlzLmdhbWUuYWRkLnRpbGVTcHJpdGUodGhpcy50bC5nZXRCb3VuZHMoKS53aWR0aCwgMCwgdGhpcy5fX3dpZHRoIC0gdGhpcy50bC5nZXRCb3VuZHMoKS53aWR0aCAtIHRoaXMudHIuZ2V0Qm91bmRzKCkud2lkdGgsIHRoaXMudG9wSGVpZ2h0IHx8IHRoaXMudGwuZ2V0Qm91bmRzKCkuaGVpZ2h0LCB0aGlzLmtleSwgdGhpcy50ZXh0dXJlUGF0aCArICcvdCcpKTtcblxuICAgICAgICB0aGlzLmwgPSA8UGhhc2VyLlRpbGVTcHJpdGU+dGhpcy5fZGlzcGxheUxheWVyLmFkZCh0aGlzLmdhbWUuYWRkLnRpbGVTcHJpdGUoMCwgdGhpcy50bC5nZXRCb3VuZHMoKS5oZWlnaHQsIHRoaXMubGVmdFdpZHRoIHx8IHRoaXMudGwuZ2V0Qm91bmRzKCkud2lkdGgsIDEwMCwgdGhpcy5rZXksIHRoaXMudGV4dHVyZVBhdGggKyAnL2wnKSk7XG5cbiAgICAgICAgdGhpcy5ibCA9IDxQaGFzZXIuSW1hZ2U+dGhpcy5fZGlzcGxheUxheWVyLmFkZCh0aGlzLmdhbWUuYWRkLmltYWdlKDAsIHRoaXMuX19oZWlnaHQsIHRoaXMua2V5LCB0aGlzLnRleHR1cmVQYXRoICsgJy9ibCcpKTtcblxuICAgICAgICB0aGlzLmwuaGVpZ2h0ID0gdGhpcy5fX2hlaWdodCAtIHRoaXMudGwuZ2V0Qm91bmRzKCkuaGVpZ2h0IC0gdGhpcy5ibC5nZXRCb3VuZHMoKS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5iID0gPFBoYXNlci5UaWxlU3ByaXRlPnRoaXMuX2Rpc3BsYXlMYXllci5hZGQodGhpcy5nYW1lLmFkZC50aWxlU3ByaXRlKHRoaXMuYmwuZ2V0Qm91bmRzKCkud2lkdGgsIHRoaXMuX19oZWlnaHQsIDEwMCwgdGhpcy5ib3R0b21IZWlnaHQgfHwgdGhpcy5ibC5nZXRCb3VuZHMoKS5oZWlnaHQsIHRoaXMua2V5LCB0aGlzLnRleHR1cmVQYXRoICsgJy9iJykpO1xuXG4gICAgICAgIHRoaXMuYnIgPSA8UGhhc2VyLkltYWdlPnRoaXMuX2Rpc3BsYXlMYXllci5hZGQodGhpcy5nYW1lLmFkZC5pbWFnZSh0aGlzLl9fd2lkdGgsIHRoaXMuX19oZWlnaHQsIHRoaXMua2V5LCB0aGlzLnRleHR1cmVQYXRoICsgJy9icicpKTtcblxuICAgICAgICB0aGlzLmIud2lkdGggPSB0aGlzLl9fd2lkdGggLSB0aGlzLmJsLmdldEJvdW5kcygpLndpZHRoIC0gdGhpcy5ici5nZXRCb3VuZHMoKS53aWR0aDtcbiAgICAgICAgdGhpcy5yID0gPFBoYXNlci5UaWxlU3ByaXRlPnRoaXMuX2Rpc3BsYXlMYXllci5hZGQodGhpcy5nYW1lLmFkZC50aWxlU3ByaXRlKHRoaXMuX193aWR0aCwgdGhpcy50ci5nZXRCb3VuZHMoKS5oZWlnaHQsIHRoaXMucmlnaHRXaWR0aCB8fCB0aGlzLnRyLmdldEJvdW5kcygpLndpZHRoLCB0aGlzLl9faGVpZ2h0IC0gdGhpcy50bC5nZXRCb3VuZHMoKS5oZWlnaHQgLSB0aGlzLmJyLmdldEJvdW5kcygpLmhlaWdodCwgdGhpcy5rZXksIHRoaXMudGV4dHVyZVBhdGggKyAnL3InKSk7XG5cbiAgICAgICAgdGhpcy50ci5zZXRQaXZvdCgndHInKTtcbiAgICAgICAgdGhpcy5yLnNldFBpdm90KCd0cicpO1xuXG4gICAgICAgIHRoaXMuYnIuc2V0UGl2b3QoJ2JyJyk7XG4gICAgICAgIHRoaXMuYi5zZXRQaXZvdCgnYmwnKTtcbiAgICAgICAgdGhpcy5ibC5zZXRQaXZvdCgnYmwnKTtcblxuICAgICAgICBpZiAodGhpcy5maWxsTWlkZGxlKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGUgPSA8UGhhc2VyLlRpbGVTcHJpdGU+dGhpcy5fZGlzcGxheUxheWVyLmFkZCh0aGlzLmdhbWUuYWRkLnRpbGVTcHJpdGUodGhpcy50bC5nZXRCb3VuZHMoKS53aWR0aCAtIDEsIHRoaXMudGwuZ2V0Qm91bmRzKCkuaGVpZ2h0IC0gMSwgdGhpcy5fX3dpZHRoIC0gdGhpcy50bC5nZXRCb3VuZHMoKS53aWR0aCAtIHRoaXMudHIuZ2V0Qm91bmRzKCkud2lkdGggKyAyLCB0aGlzLl9faGVpZ2h0IC0gdGhpcy50bC5nZXRCb3VuZHMoKS5oZWlnaHQgLSB0aGlzLmJyLmdldEJvdW5kcygpLmhlaWdodCArIDQsIHRoaXMua2V5LCB0aGlzLnRleHR1cmVQYXRoICsgJy90aWxlJykpO1xuICAgICAgICAgICAgdGhpcy5zZW5kVG9CYWNrKHRoaXMudGlsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9hZGRJbnRlcmFjdGl2ZUJhY2tpbmcoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGdmeCA9IHRoaXMuZ2FtZS5hZGQuZ3JhcGhpY3MoKTtcbiAgICAgICAgZ2Z4LmJlZ2luRmlsbCgweEZGMDAwMCwgMCk7XG4gICAgICAgIGdmeC5kcmF3UmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy5fX3dpZHRoLCB0aGlzLl9faGVpZ2h0KTtcbiAgICAgICAgZ2Z4LmVuZEZpbGwoKTtcblxuICAgICAgICB0aGlzLl9pbnRlcmFjdGl2ZUJhY2tpbmcgPSB0aGlzLl9pbnB1dExheWVyLmFkZCh0aGlzLmdhbWUuYWRkLmltYWdlKDAsIDAsIGdmeC5nZW5lcmF0ZVRleHR1cmUoKSkpO1xuXG4gICAgICAgIHRoaXMuX2ludGVyYWN0aXZlQmFja2luZy5pbnB1dEVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZ2FtZS53b3JsZC5yZW1vdmUoZ2Z4KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zZXRTaXplKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl91bmZsYXR0ZW4oKTtcblxuICAgICAgICB0aGlzLnQud2lkdGggPSB0aGlzLmIud2lkdGggPSB0aGlzLl9fd2lkdGggLSB0aGlzLnRsLmdldEJvdW5kcygpLndpZHRoIC0gdGhpcy50ci5nZXRCb3VuZHMoKS53aWR0aDtcbiAgICAgICAgdGhpcy5yLnggPSB0aGlzLnRyLnggPSB0aGlzLmJyLnggPSB0aGlzLl9fd2lkdGg7XG4gICAgICAgIHRoaXMubC5oZWlnaHQgPSB0aGlzLnIuaGVpZ2h0ID0gdGhpcy5fX2hlaWdodCAtIHRoaXMudHIuZ2V0Qm91bmRzKCkuaGVpZ2h0IC0gdGhpcy5ibC5nZXRCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgIHRoaXMuYmwueSA9IHRoaXMuYi55ID0gdGhpcy5ici55ID0gdGhpcy5fX2hlaWdodDtcblxuICAgICAgICBpZiAodGhpcy5maWxsTWlkZGxlKSB7XG4gICAgICAgICAgICB0aGlzLnRpbGUud2lkdGggPSB0aGlzLl9fd2lkdGggLSB0aGlzLnRyLmdldEJvdW5kcygpLndpZHRoIC0gdGhpcy50bC5nZXRCb3VuZHMoKS53aWR0aCArIDRcbiAgICAgICAgICAgIHRoaXMudGlsZS5oZWlnaHQgPSB0aGlzLl9faGVpZ2h0IC0gdGhpcy50bC5nZXRCb3VuZHMoKS5oZWlnaHQgLSB0aGlzLmJsLmdldEJvdW5kcygpLmhlaWdodCArIDQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pbnRlcmFjdGl2ZUJhY2tpbmcud2lkdGggPSB0aGlzLl9fd2lkdGg7XG4gICAgICAgIHRoaXMuX2ludGVyYWN0aXZlQmFja2luZy5oZWlnaHQgPSB0aGlzLl9faGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZ2FtZS50aW1lLmV2ZW50cy5hZGQoMTAsIHRoaXMuX2ZsYXR0ZW4sIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2FkZElucHV0KCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuX2ludGVyYWN0aXZlQmFja2luZykge1xuICAgICAgICAgICAgdGhpcy5fYWRkSW50ZXJhY3RpdmVCYWNraW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZW1vdmVJbnB1dCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbnRlcmFjdGl2ZUJhY2tpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnRlcmFjdGl2ZUJhY2tpbmcuaW5wdXRFbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdW5mbGF0dGVuKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9kaXNwbGF5TGF5ZXIuY2FjaGVBc0JpdG1hcCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZmxhdHRlbigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fZGlzcGxheUxheWVyLmNhY2hlQXNCaXRtYXAgPSB0cnVlOy8vdGhpcy5nYW1lLnJlbmRlclR5cGUgPT09IFBoYXNlci5XRUJHTDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGlucHV0RW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9pbnB1dEVuYWJsZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2lucHV0RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkSW5wdXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUlucHV0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGV2ZW50cygpOiBQaGFzZXIuRXZlbnRzIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pbnRlcmFjdGl2ZUJhY2tpbmcgfHwgIXRoaXMuX2ludGVyYWN0aXZlQmFja2luZy5pbnB1dEVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGl2ZUJhY2tpbmcuZXZlbnRzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaW5wdXQoKTogUGhhc2VyLklucHV0SGFuZGxlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGl2ZUJhY2tpbmcuaW5wdXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBoU2l6ZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX193aWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9zZXRTaXplKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCB2U2l6ZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX19oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fc2V0U2l6ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaFNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX193aWR0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHZTaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9faGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX193aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9zZXRTaXplKCk7XG4gICAgfVxufVxuXG5cbi8vIEFERElORyBTUElORSAvL1xuaW1wb3J0ICogYXMgc3BpbmUgZnJvbSBcIi4vc3BpbmUvc3BpbmVcIjtcbmltcG9ydCAqIGFzIGF0bGFzIGZyb20gXCIuL3NwaW5lL2F0bGFzXCI7XG5pbXBvcnQge1JlbmRlcldlYkdMfSBmcm9tIFwiLi9zcGluZS9yZW5kZXItd2ViZ2xcIjtcbmltcG9ydCB7UmVuZGVyQ3R4MkR9IGZyb20gXCIuL3NwaW5lL3JlbmRlci1jdHgyZFwiO1xuaW1wb3J0IHsgbWF0NHg0T3J0aG8sIG1hdDR4NFRyYW5zbGF0ZSwgbWF0NHg0Um90YXRlWiwgbWF0NHg0U2NhbGUgfSBmcm9tICcuL3NwaW5lL3JlbmRlci13ZWJnbCc7XG5cbmV4cG9ydCBjbGFzcyBTcGluZSBleHRlbmRzIFNwcml0ZSB7XG4gICAgcHVibGljIGRlYnVnOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIHNXaWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBzSGVpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIHNwaW5lQW5pbWF0aW9uczogc3RyaW5nW107XG5cbiAgICBwdWJsaWMgb25BbmltYXRpb25Db21wbGV0ZTogUGhhc2VyLlNpZ25hbCA9IG5ldyBQaGFzZXIuU2lnbmFsKCk7XG5cbiAgICBwcm90ZWN0ZWQgc3BpbmVfZGF0YTogc3BpbmUuRGF0YTtcbiAgICBwcm90ZWN0ZWQgYXRsYXNfZGF0YTogYXRsYXMuRGF0YTtcbiAgICBwcm90ZWN0ZWQgaW1hZ2VzOiB7IFtpbWFnZV9rZXk6IHN0cmluZ106IEhUTUxJbWFnZUVsZW1lbnQgfTtcbiAgICBwcm90ZWN0ZWQgc3BpbmVfcG9zZTogc3BpbmUuUG9zZTtcbiAgICBwcm90ZWN0ZWQgcmVuZGVyX3dlYmdsOiBSZW5kZXJXZWJHTFxuICAgIHByb3RlY3RlZCByZW5kZXJfY3R4MmQ6IFJlbmRlckN0eDJEO1xuICAgIHByb3RlY3RlZCBibWQ6IFBoYXNlci5CaXRtYXBEYXRhO1xuICAgIHByb3RlY3RlZCBpbWc6IFBoYXNlci5JbWFnZSA9IG51bGw7XG4gICAgcHJvdGVjdGVkIGZyYW1lQW5pbWF0aW9uczogeyBba2V5OiBzdHJpbmddOiB7IHNwcml0ZTogUGhhc2VyLlNwcml0ZSwgYm9uZU5hbWU6IHN0cmluZywgcHJvcHM/OiB7IHg/OiBudW1iZXIsIHk/OiBudW1iZXIsIGFuZ2xlPzogbnVtYmVyIH0gfSB9ID0ge307XG4gICAgcHJvdGVjdGVkIGZyYW1lQW5pbWF0aW9uS2V5czogc3RyaW5nW10gPSBbXTtcblxuICAgIHByaXZhdGUgX2JvdW5kczogUElYSS5SZWN0YW5nbGUgPSBuZXcgUElYSS5SZWN0YW5nbGUoKTtcbiAgICBwcml2YXRlIF9jYW5VcGRhdGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9wYXVzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zcGVlZDogbnVtYmVyID0gMTtcbiAgICBwcml2YXRlIF9mcHM6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgYXNzZXROYW1lOiBzdHJpbmcgPSAnJywgeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCwgd2lkdGg6IG51bWJlciA9IDAsIGhlaWdodDogbnVtYmVyID0gMCwgcHVibGljIHNraW46IHN0cmluZyA9ICdkZWZhdWx0JywgcHVibGljIGFuaW06IHN0cmluZyA9ICcnLCBwdWJsaWMgaE9mZnNldDogbnVtYmVyID0gMCwgcHVibGljIHZPZmZzZXQ6IG51bWJlciA9IDApIHtcbiAgICAgICAgc3VwZXIoeCwgeSwgbnVsbCwgbnVsbCwgJ3NwaW5lXycgKyBhc3NldE5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGpzb25fa2V5ID0gYXNzZXROYW1lICsgJy5qc29uJztcbiAgICAgICAgY29uc3QgYXRsYXNfa2V5ID0gYXNzZXROYW1lICsgJy5hdGxhcyc7XG4gICAgICAgIGNvbnN0IGltYWdlX2tleSA9IGFzc2V0TmFtZSArICcucG5nJztcblxuICAgICAgICBpZiAod2lkdGggPT09IDApIHtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5nYW1lLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuZ2FtZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNXaWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnNIZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5zcGluZV9kYXRhID0gbmV3IHNwaW5lLkRhdGEoKS5sb2FkKHRoaXMuZ2FtZS5jYWNoZS5nZXRKU09OKGpzb25fa2V5KSk7XG4gICAgICAgIHRoaXMuc3BpbmVBbmltYXRpb25zID0gdGhpcy5zcGluZV9kYXRhLmFuaW1fa2V5cztcbiAgICAgICAgdGhpcy5hdGxhc19kYXRhID0gbmV3IGF0bGFzLkRhdGEoKS5pbXBvcnRBdGxhc1RleHQodGhpcy5nYW1lLmNhY2hlLmdldFRleHQoYXRsYXNfa2V5KSk7XG4gICAgICAgIHRoaXMuaW1hZ2VzID0ge307XG4gICAgICAgIHRoaXMuaW1hZ2VzW2ltYWdlX2tleV0gPSB0aGlzLmdhbWUuY2FjaGUuZ2V0SW1hZ2UoaW1hZ2Vfa2V5KTtcblxuICAgICAgICB0aGlzLnNwaW5lX3Bvc2UgPSBuZXcgc3BpbmUuUG9zZSh0aGlzLnNwaW5lX2RhdGEpO1xuICAgICAgICB0aGlzLnNwaW5lX3Bvc2Uuc2V0U2tpbihza2luKTtcblxuICAgICAgICAvL2lmICh0aGlzLnNwaW5lQW5pbWF0aW9ucy5pbmRleE9mKGFuaW0pIDwgMCkgeyBcbiAgICAgICAgLy8gYW5pbSA9IHRoaXMuc3BpbmVBbmltYXRpb25zWzBdO1xuICAgICAgICAvL31cblxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IGFuaW07XG4gICAgICAgIHRoaXMuc3BpbmVfcG9zZS5vbkNvbXBsZXRlLmFkZCh0aGlzLl9vbkFuaW1hdGlvbkNvbXBsZXRlLCB0aGlzKTtcblxuICAgICAgICAvL3RoaXMuc3BpbmVfcG9zZS5zZXRBbmltKGFuaW0pO1xuICAgICAgICAvKlxuICAgICAgICBpZiAodGhpcy5nYW1lLnJlbmRlclR5cGUgPT09IFBoYXNlci5XRUJHTCkge1xuICAgICAgICAgICAgY29uc3QgZ2wgPSAoPFBJWEkuV2ViR0xSZW5kZXJlcj50aGlzLmdhbWUucmVuZGVyZXIpLmdsO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJfd2ViZ2wgPSBuZXcgUmVuZGVyV2ViR0woZ2wpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJfd2ViZ2wubG9hZERhdGEodGhpcy5zcGluZV9kYXRhLCB0aGlzLmF0bGFzX2RhdGEsIHRoaXMuaW1hZ2VzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdhbWUucmVuZGVyVHlwZSA9PT0gUGhhc2VyLkNBTlZBUykge1xuICAgICAgICAgICAgdGhpcy5ibWQgPSB0aGlzLmdhbWUuYWRkLmJpdG1hcERhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcl9jdHgyZCA9IG5ldyBSZW5kZXJDdHgyRCh0aGlzLmJtZC5jdHgpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJfY3R4MmQubG9hZERhdGEodGhpcy5zcGluZV9kYXRhLCB0aGlzLmF0bGFzX2RhdGEsIHRoaXMuaW1hZ2VzKTtcbiAgICAgICAgICAgIHRoaXMubG9hZFRleHR1cmUodGhpcy5ibWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUT0RPXCIpO1xuICAgICAgICB9XG4gICAgICAgICovXG5cbiAgICAgICAgdGhpcy5ibWQgPSB0aGlzLmdhbWUuYWRkLmJpdG1hcERhdGEod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMucmVuZGVyX2N0eDJkID0gbmV3IFJlbmRlckN0eDJEKHRoaXMuYm1kLmN0eCk7XG4gICAgICAgIHRoaXMucmVuZGVyX2N0eDJkLmxvYWREYXRhKHRoaXMuc3BpbmVfZGF0YSwgdGhpcy5hdGxhc19kYXRhLCB0aGlzLmltYWdlcyk7XG4gICAgICAgIHRoaXMubG9hZFRleHR1cmUodGhpcy5ibWQpO1xuXG4gICAgICAgIHRoaXMuc3BlZWQgPSAxO1xuXG4gICAgICAgIHRoaXMuX2NhblVwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmdhbWUucmVuZGVyVHlwZSA9PT0gUGhhc2VyLldFQkdMKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcl93ZWJnbC5kcm9wRGF0YSh0aGlzLnNwaW5lX2RhdGEsIHRoaXMuYXRsYXNfZGF0YSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5yZW5kZXJfd2ViZ2w7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5nYW1lLnJlbmRlclR5cGUgPT09IFBoYXNlci5DQU5WQVMpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyX2N0eDJkLmRyb3BEYXRhKHRoaXMuc3BpbmVfZGF0YSwgdGhpcy5hdGxhc19kYXRhKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnJlbmRlcl9jdHgyZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVE9ET1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLnNwaW5lX2RhdGE7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNwaW5lX3Bvc2U7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmltYWdlcztcblxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuX2NhblVwZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLnNwaW5lX3Bvc2UudXBkYXRlKHRoaXMuX2Zwcyk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zcGluZV9wb3NlLnN0cmlrZSgpO1xuICAgICAgICB0aGlzLmZyYW1lQW5pbWF0aW9uS2V5cy5mb3JFYWNoKHRoaXMuX3VwZGF0ZUZyYW1lQW5pbWF0aW9uQnlOYW1lLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ibWQuY3R4LnNhdmUoKTtcbiAgICAgICAgdGhpcy5ibWQuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmJtZC53aWR0aCwgdGhpcy5ibWQuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5ibWQuY3R4LnRyYW5zbGF0ZSh0aGlzLmhPZmZzZXQsIHRoaXMudk9mZnNldCArIHRoaXMuYm1kLmhlaWdodCk7XG4gICAgICAgIHRoaXMuYm1kLmN0eC5zY2FsZSgxLjAsIC0xLjApOyAvLyB4OiByaWdodCwgeTogdXBcbiAgICAgICAgdGhpcy5ibWQuY3R4Lmdsb2JhbEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnJlbmRlcl9jdHgyZC5kcmF3UG9zZSh0aGlzLnNwaW5lX3Bvc2UsIHRoaXMuYXRsYXNfZGF0YSk7XG4gICAgICAgIHRoaXMuYm1kLmN0eC5yZXN0b3JlKCk7XG4gICAgICAgIHRoaXMuYm1kLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gcHVibGljIF9yZW5kZXJXZWJHTChyZW5kZXJTZXNzaW9uOiBhbnkpOiB2b2lkIHtcbiAgICAvLyAgICAgY29uc3QgZ2wgLyo6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCovID0gcmVuZGVyU2Vzc2lvbi5nbDtcbiAgICAvLyAgICAgdGhpcy5zcGluZV9wb3NlLnN0cmlrZSgpO1xuICAgIC8vICAgICBjb25zdCBnbF9wcm9qZWN0aW9uID0gdGhpcy5yZW5kZXJfd2ViZ2wuZ2xfcHJvamVjdGlvbjtcbiAgICAvLyAgICAgY29uc3QgcHggPSByZW5kZXJTZXNzaW9uLnJlbmRlcmVyLnByb2plY3Rpb24ueDtcbiAgICAvLyAgICAgY29uc3QgcHkgPSByZW5kZXJTZXNzaW9uLnJlbmRlcmVyLnByb2plY3Rpb24ueTtcbiAgICAvLyAgICAgbWF0NHg0T3J0aG8oZ2xfcHJvamVjdGlvbiwgLXB4LCBweCwgLXB5LCBweSwgLTEsIDEpO1xuICAgIC8vICAgICBjb25zdCBob2ZmID0gdGhpcy5zY2FsZS54ID09PSAtMSA/IHRoaXMuc1dpZHRoIC0gdGhpcy5oT2Zmc2V0IDogdGhpcy5oT2Zmc2V0O1xuICAgIC8vICAgICBtYXQ0eDRUcmFuc2xhdGUoZ2xfcHJvamVjdGlvbiwgdGhpcy54IC0gaG9mZiAtdGhpcy5zV2lkdGggKiAwLjUsIHRoaXMud29ybGRQb3NpdGlvbi55ICsgdGhpcy5zSGVpZ2h0ICogMC41LCAwLjApO1xuICAgIC8vICAgICBtYXQ0eDRSb3RhdGVaKGdsX3Byb2plY3Rpb24sIHRoaXMucm90YXRpb24pO1xuICAgIC8vICAgICBtYXQ0eDRTY2FsZShnbF9wcm9qZWN0aW9uLCB0aGlzLnNjYWxlLngsIHRoaXMuc2NhbGUueSwgMS4wKTtcbiAgICAvLyAgICAgbWF0NHg0U2NhbGUoZ2xfcHJvamVjdGlvbiwgMS4wLCAtMS4wLCAxLjApOyAvLyB4OiByaWdodCwgeTogdXBcbiAgICAvLyAgICAgY29uc3QgZ2xfY29sb3IgPSB0aGlzLnJlbmRlcl93ZWJnbC5nbF9jb2xvcjtcbiAgICAvLyAgICAgZ2xfY29sb3JbM10gPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgLy8gICAgIHRoaXMucmVuZGVyX3dlYmdsLmRyYXdQb3NlKHRoaXMuc3BpbmVfcG9zZSwgdGhpcy5hdGxhc19kYXRhKTtcbiAgICAvLyB9XG5cbiAgICAvLyBwdWJsaWMgX3JlbmRlckNhbnZhcyhyZW5kZXJTZXNzaW9uOiBhbnkpOiB2b2lkIHtcbiAgICAvLyAgICAgdGhpcy5zcGluZV9wb3NlLnN0cmlrZSgpO1xuICAgIC8vICAgICB0aGlzLmJtZC5jdHguc2F2ZSgpO1xuICAgIC8vICAgICB0aGlzLmJtZC5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuYm1kLndpZHRoLCB0aGlzLmJtZC5oZWlnaHQpO1xuICAgIC8vICAgICB0aGlzLmJtZC5jdHgudHJhbnNsYXRlKHRoaXMuaE9mZnNldCwgdGhpcy52T2Zmc2V0ICsgdGhpcy5ibWQuaGVpZ2h0KTtcbiAgICAvLyAgICAgdGhpcy5ibWQuY3R4LnNjYWxlKDEuMCwgLTEuMCk7IC8vIHg6IHJpZ2h0LCB5OiB1cFxuICAgIC8vICAgICB0aGlzLmJtZC5jdHguZ2xvYmFsQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgLy8gICAgIHRoaXMucmVuZGVyX2N0eDJkLmRyYXdQb3NlKHRoaXMuc3BpbmVfcG9zZSwgdGhpcy5hdGxhc19kYXRhKTtcbiAgICAvLyAgICAgdGhpcy5ibWQuY3R4LnJlc3RvcmUoKTtcbiAgICAvLyAgICAgUElYSS5TcHJpdGUucHJvdG90eXBlWydfcmVuZGVyQ2FudmFzJ10uY2FsbCh0aGlzLCByZW5kZXJTZXNzaW9uKTtcbiAgICAvLyB9XG5cbiAgICBwdWJsaWMgZGVidWdEcmF3KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5yZW5kZXJUeXBlID09PSBQaGFzZXIuQ0FOVkFTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJfY3R4MmQuZHJhd0RlYnVnUG9zZSh0aGlzLnNwaW5lX3Bvc2UsIHRoaXMuYXRsYXNfZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgbmV4dEFuaW1hdGlvbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY3VycmVudEFuaW1hdGlvbk5hbWUgPSB0aGlzLmFuaW1hdGlvbjtcbiAgICAgICAgbGV0IGFuaW1hdGlvbkluZGV4ID0gdGhpcy5zcGluZUFuaW1hdGlvbnMuaW5kZXhPZihjdXJyZW50QW5pbWF0aW9uTmFtZSk7XG4gICAgICAgIGFuaW1hdGlvbkluZGV4Kys7XG4gICAgICAgIGlmIChhbmltYXRpb25JbmRleCA9PT0gdGhpcy5zcGluZUFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhbmltYXRpb25JbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSB0aGlzLnNwaW5lQW5pbWF0aW9uc1thbmltYXRpb25JbmRleF07XG4gICAgfVxuXG4gICAgLy8gcHJpdmF0ZSBtZXRob2RzXG4gICAgcHJpdmF0ZSBfb25BbmltYXRpb25Db21wbGV0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vbkFuaW1hdGlvbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMuc3BpbmVfcG9zZS5jdXJBbmltKCkubmFtZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdXBkYXRlRnJhbWVBbmltYXRpb25CeU5hbWUoYW5pbU5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl91cGRhdGVGcmFtZUFuaW1hdGlvbih0aGlzLmZyYW1lQW5pbWF0aW9uc1thbmltTmFtZV0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VwZGF0ZUZyYW1lQW5pbWF0aW9uKGFuaW06IHsgc3ByaXRlOiBQaGFzZXIuU3ByaXRlLCBib25lTmFtZTogc3RyaW5nLCBwcm9wcz86IHsgeD86IG51bWJlciwgeT86IG51bWJlciwgYW5nbGU/OiBudW1iZXIgfSB9KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNwcml0ZSA9IGFuaW0uc3ByaXRlO1xuICAgICAgICBsZXQgYm9uZSA9IHRoaXMuc3BpbmVfcG9zZS5ib25lc1thbmltLmJvbmVOYW1lXTtcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IGJvbmUubG9jYWxfc3BhY2UucG9zaXRpb24ueCArIGFuaW0ucHJvcHMueCwgeTogbnVtYmVyID0gYm9uZS5sb2NhbF9zcGFjZS5wb3NpdGlvbi55ICsgYW5pbS5wcm9wcy55LCBhbmdsZTogbnVtYmVyID0gYm9uZS5sb2NhbF9zcGFjZS5yb3RhdGlvbi5kZWcgKyBhbmltLnByb3BzLmFuZ2xlLFxuICAgICAgICAgICAgc2NhbGU6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfSA9IGJvbmUubG9jYWxfc3BhY2Uuc2NhbGU7XG4gICAgICAgIGlmIChib25lLnBhcmVudF9rZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2hpbGUgKGJvbmUgJiYgYm9uZSAhPT0gdW5kZWZpbmVkICYmIGJvbmUucGFyZW50X2tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYm9uZSA9IHRoaXMuc3BpbmVfcG9zZS5ib25lc1tib25lLnBhcmVudF9rZXldO1xuICAgICAgICAgICAgICAgIGlmIChib25lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHggKz0gYm9uZS5sb2NhbF9zcGFjZS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgICAgIHkgKz0gYm9uZS5sb2NhbF9zcGFjZS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgICAgIGFuZ2xlICs9IGJvbmUubG9jYWxfc3BhY2Uucm90YXRpb24uZGVnO1xuICAgICAgICAgICAgICAgIHNjYWxlLnggKj0gYm9uZS5sb2NhbF9zcGFjZS5zY2FsZS54O1xuICAgICAgICAgICAgICAgIHNjYWxlLnkgKj0gYm9uZS5sb2NhbF9zcGFjZS5zY2FsZS55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3ByaXRlLnggPSB4O1xuICAgICAgICBzcHJpdGUueSA9IHk7XG4gICAgICAgIHNwcml0ZS5hbmdsZSA9IGFuZ2xlO1xuICAgICAgICBzcHJpdGUuc2NhbGUueCA9IHNjYWxlLng7XG4gICAgICAgIHNwcml0ZS5zY2FsZS55ID0gc2NhbGUueTtcbiAgICB9XG5cbiAgICAvLyBnZXR0ZXIgLyBzZXR0ZXJcbiAgICBwdWJsaWMgZ2V0IHNrZWxldG9uKCk6IHNwaW5lLlNrZWxldG9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BpbmVfZGF0YS5za2VsZXRvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRnJhbWVBbmltYXRpb24obmFtZTogc3RyaW5nLCBzcHJpdGU6IFBoYXNlci5TcHJpdGUsIGJvbmVOYW1lOiBzdHJpbmcsIHByb3BzPzogeyB4PzogbnVtYmVyLCB5PzogbnVtYmVyLCBhbmdsZT86IG51bWJlciB9KTogdm9pZCB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoc3ByaXRlKTtcbiAgICAgICAgaWYgKHByb3BzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb3BzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLnggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvcHMueCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvcHMueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLmFuZ2xlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb3BzLmFuZ2xlID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyYW1lQW5pbWF0aW9uc1tuYW1lXSA9IHsgc3ByaXRlOiBzcHJpdGUsIGJvbmVOYW1lOiBib25lTmFtZSwgcHJvcHM6IHByb3BzIH07XG4gICAgICAgIHRoaXMuZnJhbWVBbmltYXRpb25LZXlzID0gT2JqZWN0LmtleXModGhpcy5mcmFtZUFuaW1hdGlvbnMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRGcmFtZUFuaW1hdGlvbihuYW1lOiBzdHJpbmcpOiBQaGFzZXIuU3ByaXRlIHtcbiAgICAgICAgaWYgKHRoaXMuZnJhbWVBbmltYXRpb25zW25hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lQW5pbWF0aW9uc1tuYW1lXS5zcHJpdGU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBhbmltYXRpb24odmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb24pIHsgXG4gICAgICAgICAgICB0aGlzLnNwaW5lX3Bvc2Uuc2V0VGltZSgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zcGluZV9kYXRhLmFuaW1zW3ZhbHVlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhlcmUgaXMgbm8gYW5pbWF0aW9uOicsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwaW5lX3Bvc2Uuc2V0QW5pbSh2YWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBnZXQgYW5pbWF0aW9uKCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLnNwaW5lX3Bvc2UuY3VyQW5pbSgpID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3BpbmVfcG9zZS5jdXJBbmltKCkubmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHBhdXNlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9wYXVzZWQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHNwZWVkKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fc3BlZWQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fZnBzID0gMTAwMCAvIDYwICogdGhpcy5fc3BlZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBzcGVlZCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XG4gICAgfVxufSIsImltcG9ydCB7SUJyb3dzZXJ9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tIFwiLi9hcHBsaWNhdGlvblwiO1xuaW1wb3J0IHtHYW1lfSBmcm9tIFwiLi9jb3JlXCI7XG5pbXBvcnQge1RleHR9IGZyb20gXCIuL2Rpc3BsYXlcIjtcblxuZXhwb3J0IGNsYXNzIFV0aWwge1xuICAgIHB1YmxpYyBzdGF0aWMgaXNOdW1iZXIodmFsdWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKCt2YWx1ZSA9PT0gK3ZhbHVlKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gICAgcHVibGljIHN0YXRpYyBlbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwdWJsaWMgc3RhdGljIGxvZyhpbnN0YW5jZSwgLi4uYXJncykge1xuICAgICAgICBpZiAoIUxvZ2dlci5lbmFibGVkKSB7IFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgYXJncy51bnNoaWZ0KGluc3RhbmNlLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkubWF0Y2goL1xcdysvZylbMV0gKyAnIDo6Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpOyBcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIERldmljZSB7XG4gICAgcHVibGljIHN0YXRpYyBJT1M6IHN0cmluZyA9ICdpT1MnO1xuICAgIHB1YmxpYyBzdGF0aWMgQU5EUk9JRDogc3RyaW5nID0gJ2FuZHJvaWQnO1xuICAgIHB1YmxpYyBzdGF0aWMgVU5LTk9XTjogc3RyaW5nID0gJ3Vua25vd24nO1xuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgbW9iaWxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gRGV2aWNlLm1vYmlsZU9TICE9PSBEZXZpY2UuVU5LTk9XTjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBjb2Nvb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIG5hdmlnYXRvclsnaXNDb2Nvb25KUyddICE9PSBcInVuZGVmaW5lZFwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBtb2JpbGVPUygpIHtcbiAgICAgICAgY29uc3QgdXNlckFnZW50ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQgfHwgd2luZG93Lm5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93WydvcGVyYSddO1xuICAgICAgICBpZiAodXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpIHx8IHVzZXJBZ2VudC5tYXRjaCgvaVBob25lL2kpIHx8IHVzZXJBZ2VudC5tYXRjaCgvaVBvZC9pKSkge1xuICAgICAgICAgICAgcmV0dXJuIERldmljZS5JT1M7XG4gICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpKSB7XG4gICAgICAgICAgICByZXR1cm4gRGV2aWNlLkFORFJPSUQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRGV2aWNlLlVOS05PV047XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBicm93c2VyKCk6IElCcm93c2VyIHtcbiAgICAgICAgY29uc3QgdWE6IHN0cmluZyA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcmVmb3g6IHVhLmluZGV4T2YoJ2ZpcmVmb3gnKSA+IC0xLFxuICAgICAgICAgICAgaWU6IHVhLmluZGV4T2YoJ2llJykgPiAtMSxcbiAgICAgICAgICAgIHNhZmFyaTogdWEuaW5kZXhPZignc2FmYXJpJykgPiAtMSxcbiAgICAgICAgICAgIGNocm9tZTogdWEuaW5kZXhPZignY2hyb21lJykgPiAtMSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHBpeGVsUmF0aW8oKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygd2luZG93LmRldmljZVBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDogMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBjdXN0b21QaXhlbFJhdGlvKCkge1xuICAgICAgICByZXR1cm4gRGV2aWNlLnBpeGVsUmF0aW8gPj0gMS41ID8gMiA6IDE7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGV4dHVyZXMge1xuICAgIHByaXZhdGUgc3RhdGljIGdldCBnYW1lKCk6IFBoYXNlci5HYW1lIHtcbiAgICAgICAgcmV0dXJuIEFwcGxpY2F0aW9uLmdldEluc3RhbmNlKCkuZ2FtZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVjdCh3aWR0aDogbnVtYmVyID0gMTAwLCBoZWlnaHQ6IG51bWJlciA9IDEwMCwgY29sb3I6IG51bWJlciA9IDB4ZmZmZmZmLCBhbHBoYTogbnVtYmVyID0gMSwgZmlsbDogYm9vbGVhbiA9IHRydWUsIGxpbmVDb2xvcjogbnVtYmVyID0gMHhmZmZmZmYsIGxpbmVUaGlja25lc3M6IG51bWJlciA9IDEsIGxpbmVBbHBoYTogbnVtYmVyID0gMSwgb3V0bGluZTogYm9vbGVhbiA9IGZhbHNlKTogUElYSS5UZXh0dXJlIHtcbiAgICAgICAgY29uc3QgZ2Z4ID0gVGV4dHVyZXMuZ2FtZS5hZGQuZ3JhcGhpY3MoMCwgMCk7XG4gICAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgICAgICBnZnguYmVnaW5GaWxsKGNvbG9yLCBhbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dGxpbmUpIHtcbiAgICAgICAgICAgIGdmeC5saW5lV2lkdGggPSBsaW5lVGhpY2tuZXNzO1xuICAgICAgICAgICAgZ2Z4LmxpbmVTdHlsZShsaW5lVGhpY2tuZXNzLCBsaW5lQ29sb3IsIGxpbmVBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2Z4LmRyYXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBnZnguZ2VuZXJhdGVUZXh0dXJlKCk7XG4gICAgICAgIFRleHR1cmVzLmdhbWUud29ybGQucmVtb3ZlKGdmeCk7XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfVxuXG4gICAgc3RhdGljIHJvdW5kZWRSZWN0KHdpZHRoOiBudW1iZXIgPSAxMDAsIGhlaWdodDogbnVtYmVyID0gMTAwLCByYWRpdXM6IG51bWJlciA9IDEwLCBjb2xvcjogbnVtYmVyID0gMHhmZmZmZmYsIGFscGhhOiBudW1iZXIgPSAxLCBmaWxsOiBib29sZWFuID0gdHJ1ZSwgbGluZUNvbG9yOiBudW1iZXIgPSAweGZmZmZmZiwgbGluZVRoaWNrbmVzczogbnVtYmVyID0gMSwgbGluZUFscGhhOiBudW1iZXIgPSAxLCBvdXRsaW5lOiBib29sZWFuID0gZmFsc2UpOiBQSVhJLlRleHR1cmUge1xuICAgICAgICBjb25zdCBnZnggPSBUZXh0dXJlcy5nYW1lLmFkZC5ncmFwaGljcygwLCAwKTtcbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGdmeC5iZWdpbkZpbGwoY29sb3IsIGFscGhhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0bGluZSkge1xuICAgICAgICAgICAgZ2Z4LmxpbmVXaWR0aCA9IGxpbmVUaGlja25lc3M7XG4gICAgICAgICAgICBnZngubGluZVN0eWxlKGxpbmVUaGlja25lc3MsIGxpbmVDb2xvciwgbGluZUFscGhhKTtcbiAgICAgICAgfVxuICAgICAgICBnZnguZHJhd1JvdW5kZWRSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQsIHJhZGl1cyk7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGdmeC5nZW5lcmF0ZVRleHR1cmUoKTtcbiAgICAgICAgVGV4dHVyZXMuZ2FtZS53b3JsZC5yZW1vdmUoZ2Z4KTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc3F1YXJlKHNpemU6IG51bWJlciA9IDEwMCwgY29sb3I6IG51bWJlciA9IDB4ZmZmZmZmLCBhbHBoYTogbnVtYmVyID0gMSwgZmlsbDogYm9vbGVhbiA9IHRydWUsIGxpbmVDb2xvcjogbnVtYmVyID0gMHhmZmZmZmYsIGxpbmVUaGlja25lc3M6IG51bWJlciA9IDEsIGxpbmVBbHBoYTogbnVtYmVyID0gMSwgb3V0bGluZTogYm9vbGVhbiA9IGZhbHNlKTogUElYSS5UZXh0dXJlIHtcbiAgICAgICAgcmV0dXJuIFRleHR1cmVzLnJlY3Qoc2l6ZSwgc2l6ZSwgY29sb3IsIGFscGhhLCBmaWxsLCBsaW5lQ29sb3IsIGxpbmVUaGlja25lc3MsIGxpbmVBbHBoYSwgb3V0bGluZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNpcmNsZShkaWFtZXRlcjogbnVtYmVyID0gMTAwLCBjb2xvcjogbnVtYmVyID0gMHhmZmZmZmYsIGFscGhhOiBudW1iZXIgPSAxLCBmaWxsOiBib29sZWFuID0gdHJ1ZSwgbGluZUNvbG9yOiBudW1iZXIgPSAweGZmZmZmZiwgbGluZVRoaWNrbmVzczogbnVtYmVyID0gMSwgbGluZUFscGhhOiBudW1iZXIgPSAxLCBvdXRsaW5lOiBib29sZWFuID0gZmFsc2UpOiBQSVhJLlRleHR1cmUge1xuICAgICAgICBjb25zdCBnZnggPSBUZXh0dXJlcy5nYW1lLmFkZC5ncmFwaGljcygwLCAwKTtcbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGdmeC5iZWdpbkZpbGwoY29sb3IsIGFscGhhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0bGluZSkge1xuICAgICAgICAgICAgZ2Z4LmxpbmVXaWR0aCA9IGxpbmVUaGlja25lc3M7XG4gICAgICAgICAgICBnZngubGluZVN0eWxlKGxpbmVUaGlja25lc3MsIGxpbmVDb2xvciwgbGluZUFscGhhKTtcbiAgICAgICAgfVxuICAgICAgICBnZnguZHJhd0NpcmNsZSgwLCAwLCBkaWFtZXRlcik7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGdmeC5nZW5lcmF0ZVRleHR1cmUoKTtcbiAgICAgICAgVGV4dHVyZXMuZ2FtZS53b3JsZC5yZW1vdmUoZ2Z4KTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZWxsaXBzZSh3aWR0aDogbnVtYmVyID0gNTAsIGhlaWdodDogbnVtYmVyID0gMTAwLCBjb2xvcjogbnVtYmVyID0gMHhmZmZmZmYsIGFscGhhOiBudW1iZXIgPSAxLCBmaWxsOiBib29sZWFuID0gdHJ1ZSwgbGluZUNvbG9yOiBudW1iZXIgPSAweGZmZmZmZiwgbGluZVRoaWNrbmVzczogbnVtYmVyID0gMSwgbGluZUFscGhhOiBudW1iZXIgPSAxLCBvdXRsaW5lOiBib29sZWFuID0gZmFsc2UpOiBQSVhJLlRleHR1cmUge1xuICAgICAgICBjb25zdCBnZnggPSBUZXh0dXJlcy5nYW1lLmFkZC5ncmFwaGljcygwLCAwKTtcbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGdmeC5iZWdpbkZpbGwoY29sb3IsIGFscGhhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0bGluZSkge1xuICAgICAgICAgICAgZ2Z4LmxpbmVXaWR0aCA9IGxpbmVUaGlja25lc3M7XG4gICAgICAgICAgICBnZngubGluZVN0eWxlKGxpbmVUaGlja25lc3MsIGxpbmVDb2xvciwgbGluZUFscGhhKTtcbiAgICAgICAgfVxuICAgICAgICBnZnguZHJhd0VsbGlwc2UoMCwgMCwgd2lkdGggKiAwLjUsIGhlaWdodCAqIDAuNSk7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGdmeC5nZW5lcmF0ZVRleHR1cmUoKTtcbiAgICAgICAgVGV4dHVyZXMuZ2FtZS53b3JsZC5yZW1vdmUoZ2Z4KTtcblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQbGFjZWhvbGRlcnMge1xuICAgIHByaXZhdGUgc3RhdGljIGdldCBnYW1lKCk6IFBoYXNlci5HYW1lIHtcbiAgICAgICAgcmV0dXJuIEFwcGxpY2F0aW9uLmdldEluc3RhbmNlKCkuZ2FtZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW1hZ2UoeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCwgdGV4dHVyZTogYW55LCBuYW1lOiBzdHJpbmcgPSBcIlwiKTogUGhhc2VyLkltYWdlIHtcbiAgICAgICAgY29uc3QgaW1hZ2VJbnN0YW5jZSA9IG5ldyBQaGFzZXIuSW1hZ2UoUGxhY2Vob2xkZXJzLmdhbWUsIHgsIHksIHRleHR1cmUpO1xuICAgICAgICBpbWFnZUluc3RhbmNlLm5hbWUgPSBuYW1lO1xuICAgICAgICByZXR1cm4gaW1hZ2VJbnN0YW5jZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYnV0dG9uKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDAsIHdpZHRoOiBudW1iZXIgPSAxMDAsIGhlaWdodDogbnVtYmVyID0gNTAsIGF1dG9TaXplOiBib29sZWFuID0gZmFsc2UsIHRleHQ6IHN0cmluZyA9ICdidXR0b24nLCBjYWxsYmFjazogRnVuY3Rpb24gPSBudWxsLCBjYWxsYmFja0NvbnRleHQ6IGFueSA9IG51bGwsIGRlZmF1bHRDb2xvcjogbnVtYmVyID0gMHhmZmZmZmYsIG92ZXJDb2xvcjogbnVtYmVyID0gMHhmZjAwMDAsIGRvd25Db2xvcjogbnVtYmVyID0gMHgwMGZmMDApOiBQaGFzZXIuU3ByaXRlIHtcbiAgICAgICAgY29uc3Qgc3ByaXRlOiBQaGFzZXIuU3ByaXRlID0gbmV3IFBoYXNlci5TcHJpdGUoUGxhY2Vob2xkZXJzLmdhbWUsIHgsIHkpO1xuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdGV4dCBpbnN0YW5jZSB3aXRoIGFuIGF1dG8gc2l6ZSBvZiAyNSBvciA2MCUgb2YgdGhlIGhlaWdodCBwYXNzZWQgaW4uXG4gICAgICAgIGNvbnN0IHRleHRJbnN0YW5jZTogVGV4dCA9IG5ldyBUZXh0KHdpZHRoICogMC41LCBoZWlnaHQgKiAwLjU1LCBcIiBcIiArIHRleHQgKyBcIiBcIiwgJ0FyaWFsJywgYXV0b1NpemUgPyAyNSA6IGhlaWdodCAqIDAuNiwgJyMwMDAwMDAnKTtcbiAgICAgICAgdGV4dEluc3RhbmNlLmNlbnRlclBpdm90KCk7XG4gICAgICAgIHRleHRJbnN0YW5jZS5uYW1lID0gXCJMYWJlbFwiO1xuXG4gICAgICAgIGlmIChhdXRvU2l6ZSkge1xuICAgICAgICAgICAgLy8gVXNlIGEgcGFkZGluZyBvZiAxMFxuICAgICAgICAgICAgd2lkdGggPSB0ZXh0SW5zdGFuY2Uud2lkdGggKyAxMDtcbiAgICAgICAgICAgIGhlaWdodCA9IHRleHRJbnN0YW5jZS5oZWlnaHQgKyAxMDtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdGV4dCBwb3NpdGlvblxuICAgICAgICAgICAgdGV4dEluc3RhbmNlLnBvc2l0aW9uLnNldCh3aWR0aCAqIDAuNSwgaGVpZ2h0ICogMC41NSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cEltYWdlOiBQaGFzZXIuSW1hZ2UgPSBQbGFjZWhvbGRlcnMuaW1hZ2UoMCwgMCwgVGV4dHVyZXMucm91bmRlZFJlY3Qod2lkdGgsIGhlaWdodCwgMTAsIGRlZmF1bHRDb2xvciksIFwiVXBcIik7XG4gICAgICAgIGNvbnN0IG92ZXJJbWFnZTogUGhhc2VyLkltYWdlID0gUGxhY2Vob2xkZXJzLmltYWdlKDAsIDAsIFRleHR1cmVzLnJvdW5kZWRSZWN0KHdpZHRoLCBoZWlnaHQsIDEwLCBvdmVyQ29sb3IpLCBcIk92ZXJcIik7XG4gICAgICAgIGNvbnN0IGRvd25JbWFnZTogUGhhc2VyLkltYWdlID0gUGxhY2Vob2xkZXJzLmltYWdlKDAsIDAsIFRleHR1cmVzLnJvdW5kZWRSZWN0KHdpZHRoLCBoZWlnaHQsIDEwLCBkb3duQ29sb3IpLCBcIkRvd25cIik7XG5cblxuICAgICAgICBvdmVySW1hZ2UudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBkb3duSW1hZ2UudmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHNwcml0ZS5hZGRDaGlsZCh1cEltYWdlKTtcbiAgICAgICAgc3ByaXRlLmFkZENoaWxkKG92ZXJJbWFnZSk7XG4gICAgICAgIHNwcml0ZS5hZGRDaGlsZChkb3duSW1hZ2UpO1xuICAgICAgICBzcHJpdGUuYWRkQ2hpbGQodGV4dEluc3RhbmNlKTtcblxuICAgICAgICBzcHJpdGUuaW5wdXRFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgc3ByaXRlLmlucHV0LnVzZUhhbmRDdXJzb3IgPSB0cnVlO1xuXG4gICAgICAgIHNwcml0ZS5ldmVudHMub25JbnB1dFVwLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICBkb3duSW1hZ2UudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgb3ZlckltYWdlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHVwSW1hZ2UudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY2FsbGJhY2tDb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3ByaXRlLmV2ZW50cy5vbklucHV0RG93bi5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgZG93bkltYWdlLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgb3ZlckltYWdlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHVwSW1hZ2UudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBzcHJpdGUuZXZlbnRzLm9uSW5wdXRPdmVyLmFkZCgoKSA9PiB7XG4gICAgICAgICAgICBkb3duSW1hZ2UudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgb3ZlckltYWdlLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdXBJbWFnZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNwcml0ZS5ldmVudHMub25JbnB1dE91dC5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgZG93bkltYWdlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIG92ZXJJbWFnZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB1cEltYWdlLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBzcHJpdGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24oKTogUElYSS5SZWN0YW5nbGUge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCB1cEltYWdlLndpZHRoLCB1cEltYWdlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwcml0ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25zIHtcbiAgICBwdWJsaWMgc3RhdGljIEFTU0VUX01BTkFHRVJfREFUQV9TRVQ6IHN0cmluZyA9ICdkaWpvbkFzc2V0TWFuYWdlckRhdGFTZXQnO1xuICAgIHB1YmxpYyBzdGF0aWMgQVNTRVRfTUFOQUdFUl9BU1NFVFNfQ0xFQVJFRDogc3RyaW5nID0gJ2Rpam9uQXNzZXRNYW5hZ2VyQXNzZXRzQ2xlYXJlZCc7XG5cbiAgICBwdWJsaWMgc3RhdGljIE1PVVNFX0xFQVZFX0dMT0JBTDogc3RyaW5nID0gJ21vdXNlT3V0R2xvYmFsJztcbiAgICBwdWJsaWMgc3RhdGljIE1PVVNFX0VOVEVSX0dMT0JBTDogc3RyaW5nID0gJ21vdXNlRW50ZXJHbG9iYWwnO1xufSIsImltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJy4vYXBwbGljYXRpb24nO1xuaW1wb3J0IHtJTm90aWZpZXIsIElBc3NldExpc3QsIElQYXRoQ29uZmlnLCBJU291bmQsIElBc3NldCwgSVRpbGVkbWFwQXNzZXRzLCBJR2FtZUNvbmZpZywgSVRyYW5zaXRpb24sIElUcmFuc2l0aW9uSGFuZGxlciwgSVByZWxvYWRIYW5kbGVyfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuaW1wb3J0IHtNZWRpYXRvcn0gZnJvbSAnLi9tdmMnO1xuaW1wb3J0IHtOb3RpZmljYXRpb25zfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7U3ByaXRlLCBHcm91cCwgVGV4dCwgQ29tcG9uZW50LCBTcGluZX0gZnJvbSAnLi9kaXNwbGF5JztcblxuZXhwb3J0IGNsYXNzIEFuYWx5dGljc01hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmFibGVkOiBib29sZWFuID0gdHJ1ZSwgcHVibGljIGNhdGVnb3J5OiBzdHJpbmcgPSBudWxsKSB7IH1cblxuICAgIHB1YmxpYyB0cmFja0V2ZW50KGFjdGlvbjogc3RyaW5nID0gbnVsbCwgbGFiZWw6IHN0cmluZyA9IG51bGwsIHZhbHVlOiBzdHJpbmcgPSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUgfHwgIXRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBbmFseXRpY3NFeGNlcHRpb24oJ05vIGFjdGlvbiBkZWZpbmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2EoJ3NlbmQnLCAnZXZlbnQnLCB0aGlzLmNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZ2EoJ3NlbmQnLCAnZXZlbnQnLCB0aGlzLmNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2EoJ3NlbmQnLCAnZXZlbnQnLCB0aGlzLmNhdGVnb3J5LCBhY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJhY2tPbW5pdHVyZUV2ZW50KGdhbWVOYW1lOiBzdHJpbmcsIGFjdGl2aXR5OiBzdHJpbmcsIGlzR2FtZUV2ZW50OiBib29sZWFuKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy9jb25zb2xlLmxvZygndHJhY2tpbmcgb21uaXR1cmUnLCBnYW1lTmFtZSwgYWN0aXZpdHksIGlzR2FtZUV2ZW50KTtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3dbJ3RyYWNrRmxhc2hFdmVudCddID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgd2luZG93Wyd0cmFja0ZsYXNoRXZlbnQnXShnYW1lTmFtZSwgYWN0aXZpdHksIGlzR2FtZUV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBnZXR0ZXIgLyBzZXR0ZXJcbiAgICBnZXQgYWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHdpbmRvd1snZ2EnXSkgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0IGdhKCk6IEZ1bmN0aW9uIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvd1snZ2EnXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbmFseXRpY3NFeGNlcHRpb24ge1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSAnQW5hbHl0aWNzRXhjZXB0aW9uJztcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbWVzc2FnZTogc3RyaW5nKSB7IH1cbn1cblxuXG4vKipcbiAqIFdyYXBzIFBoYXNlci5Mb2FkZXJcbiovXG5leHBvcnQgY2xhc3MgQXNzZXRNYW5hZ2VyIGltcGxlbWVudHMgSU5vdGlmaWVyIHtcbiAgICBwcm90ZWN0ZWQgYXBwOiBBcHBsaWNhdGlvbjtcblxuICAgIC8vIHByaXZhdGUgdmFyaWFibGVzXG4gICAgcHJpdmF0ZSBfZGF0YSA9IHt9O1xuICAgIHByaXZhdGUgX2Jhc2VVUkw6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgX3BhdGhPYmo6IElQYXRoQ29uZmlnIHwgYW55ID0ge307XG4gICAgcHJpdmF0ZSBfYXNzZXRQYXRoOiBzdHJpbmcgPSBudWxsO1xuICAgIHByaXZhdGUgX2RhdGFQYXRoOiBzdHJpbmcgPSBudWxsO1xuICAgIHByaXZhdGUgX3Nwcml0ZVNoZWV0UGF0aDogc3RyaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF9pbWdQYXRoOiBzdHJpbmcgPSBudWxsO1xuICAgIHByaXZhdGUgX3NwaW5lUGF0aDogc3RyaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF9mb250UGF0aDogc3RyaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF9iaXRtYXBGb250UGF0aDogc3RyaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF9waHlzaWNzUGF0aDogc3RyaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF9hdWRpb1Nwcml0ZVBhdGg6IHN0cmluZyA9IG51bGw7XG4gICAgcHJpdmF0ZSBfc291bmRQYXRoOiBzdHJpbmcgPSBudWxsO1xuICAgIHByaXZhdGUgX3NvdW5kRGVjb2RpbmdNb2RpZmllcjogbnVtYmVyID0gMjtcbiAgICBwcml2YXRlIF9yZXM6IG51bWJlciA9IDE7XG4gICAgcHJpdmF0ZSBfcmVzb2x1dGlvbjogc3RyaW5nID0gbnVsbDtcblxuICAgIHByaXZhdGUgX2xvYWREYXRhID0ge307XG4gICAgcHJpdmF0ZSBfYXV0b0xvYWREYXRhID0ge307XG4gICAgcHJpdmF0ZSBfY29tcGxldGVkTG9hZHMgPSB7fTtcbiAgICBwcml2YXRlIF9yZXF1aXJlZERhdGEgPSB7fTtcblxuICAgIHByaXZhdGUgX2N1cnJlbnRBc3NldExpc3Q6IHN0cmluZyA9IG51bGw7XG4gICAgcHJpdmF0ZSBfaGFzRmlsZXM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zb3VuZHNUb0RlY29kZTogQXJyYXk8SVNvdW5kPiA9IFtdO1xuICAgIHByaXZhdGUgX2lzTG9hZGluZ1F1ZXVlOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfZmlsZUNvbXBsZXRlUHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfbWF4UGVyY2VudDogbnVtYmVyID0gMTAwO1xuXG4gICAgcHJpdmF0ZSBfbnVtU291bmRzOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3NvdW5kc0RlY29kZWQ6IG51bWJlciA9IDA7XG5cbiAgICBwcml2YXRlIF9jYWNoZUJ1c3RWZXJzaW9uOiBzdHJpbmcgPSAnJztcblxuICAgIC8vIHB1YmxpYyB2YXJpYWJsZXNcbiAgICBwdWJsaWMgZ2FtZTogR2FtZTtcblxuICAgIHB1YmxpYyBvbkxvYWRTdGFydCA9IG5ldyBQaGFzZXIuU2lnbmFsKCk7XG4gICAgcHVibGljIG9uRmlsZVN0YXJ0ID0gbmV3IFBoYXNlci5TaWduYWwoKTtcbiAgICBwdWJsaWMgb25GaWxlQ29tcGxldGUgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuICAgIHB1YmxpYyBvbkxvYWRDb21wbGV0ZSA9IG5ldyBQaGFzZXIuU2lnbmFsKCk7XG4gICAgcHVibGljIG9uTG9hZENvbXBsZXRlQW5kQXVkaW9EZWNvZGVkID0gbmV3IFBoYXNlci5TaWduYWwoKTtcblxuICAgIHB1YmxpYyBvbkJhY2tncm91bmRMb2FkU3RhcnQgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuICAgIHB1YmxpYyBvbkJhY2tncm91bmRGaWxlU3RhcnQgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuICAgIHB1YmxpYyBvbkJhY2tncm91bmRGaWxlQ29tcGxldGUgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuICAgIHB1YmxpYyBvbkJhY2tncm91bmRMb2FkQ29tcGxldGUgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuICAgIHB1YmxpYyBvbkJhY2tncm91bmRMb2FkQ29tcGxldGVBbmRBdWRpb0RlY29kZWQgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuXG4gICAgLy8gc3RhdGljIGNvbnN0YW50c1xuICAgIC8vIGFzc2V0IHR5cGVzXG4gICAgcHVibGljIHN0YXRpYyBBVURJTzogc3RyaW5nID0gJ2F1ZGlvJztcbiAgICBwdWJsaWMgc3RhdGljIFNPVU5EOiBzdHJpbmcgPSAnc291bmQnO1xuICAgIHB1YmxpYyBzdGF0aWMgQVVESU9fU1BSSVRFOiBzdHJpbmcgPSAnYXVkaW9TcHJpdGUnO1xuICAgIHB1YmxpYyBzdGF0aWMgSU1BR0U6IHN0cmluZyA9ICdpbWFnZSc7XG4gICAgcHVibGljIHN0YXRpYyBBVExBUzogc3RyaW5nID0gJ2F0bGFzJztcbiAgICBwdWJsaWMgc3RhdGljIFRFWFQ6IHN0cmluZyA9ICd0ZXh0JztcbiAgICBwdWJsaWMgc3RhdGljIEpTT046IHN0cmluZyA9ICdqc29uJztcbiAgICBwdWJsaWMgc3RhdGljIFRJTEVNQVA6IHN0cmluZyA9ICd0aWxlbWFwJztcbiAgICBwdWJsaWMgc3RhdGljIFRJTEVETUFQOiBzdHJpbmcgPSAndGlsZWRtYXAnO1xuICAgIHB1YmxpYyBzdGF0aWMgVElMRURNQVBfVElMRVNFVDogc3RyaW5nID0gJ3RpbGVzZXQnO1xuICAgIHB1YmxpYyBzdGF0aWMgVElMRURNQVBfTEFZRVI6IHN0cmluZyA9ICdsYXllcic7XG4gICAgcHVibGljIHN0YXRpYyBQSFlTSUNTOiBzdHJpbmcgPSAncGh5c2ljcyc7XG4gICAgcHVibGljIHN0YXRpYyBTUElORTogc3RyaW5nID0gJ3NwaW5lJztcbiAgICBwdWJsaWMgc3RhdGljIEFTU0VUX0xJU1Q6IHN0cmluZyA9ICdhc3NldExpc3QnO1xuXG4gICAgLy8gcmVzb2x1dGlvbnNcbiAgICBwdWJsaWMgc3RhdGljIFJFU09MVVRJT05fMlg6IHN0cmluZyA9IFwiQDJ4XCI7XG4gICAgcHVibGljIHN0YXRpYyBSRVNPTFVUSU9OXzNYOiBzdHJpbmcgPSBcIkAzeFwiO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2luaXQoKTtcbiAgICB9XG4gICAgLy8gcHJpdmF0ZSBtZXRob2RzXG4gICAgLyoqXG4gICAgKiBhZGRzIGludGVybmFsIHZhcmlhYmxlcyBhbmQgc2lnbmFsc1xuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBwcml2YXRlIF9pbml0KCkge1xuICAgICAgICB0aGlzLmFwcCA9IEFwcGxpY2F0aW9uLmdldEluc3RhbmNlKCk7XG4gICAgICAgIHRoaXMuZ2FtZSA9IHRoaXMuYXBwLmdhbWU7XG4gICAgICAgIHRoaXMuYmFzZVVSTCA9ICcnO1xuICAgICAgICB0aGlzLnBhdGhzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5nYW1lLnJlc29sdXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBwYXJzZXMgYW4gYXNzZXQgbGlzdCBieSBrZXkgKHVzdWFsbHkgZnJvbSBkYXRhL2Fzc2V0cy5qc29uKSBhbmQgc3RvcmVzIHRoZW0gaW50ZXJuYWxseVxuICAgICogQHBhcmFtICB7U3RyaW5nfSBrZXkgdGhlIGlkIG9mIHRoZSBsaXN0XG4gICAgKiBAcGFyYW0gIHtBcnJheX0gIGxpc3QgdGhlIGpzb24gYXJyYXkgb2YgYXNzZXRzXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByaXZhdGUgX3BhcnNlQXNzZXRMaXN0KGtleTogc3RyaW5nLCBsaXN0OiBJQXNzZXRMaXN0KSB7XG4gICAgICAgIHRoaXMuX2F1dG9Mb2FkRGF0YVtrZXldID0gbGlzdC5hdXRvbG9hZDtcbiAgICAgICAgdGhpcy5fcmVxdWlyZWREYXRhW2tleV0gPSBsaXN0LnJlcXVpcmVkO1xuXG4gICAgICAgIHRoaXMuX2xvYWREYXRhW2tleV0gPSBbXTtcblxuICAgICAgICBsaXN0LmFzc2V0cy5mb3JFYWNoKGFzc2V0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWREYXRhW2tleV0ucHVzaChhc3NldCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogYWRkcyBhc3NldHMgZnJvbSBhIGxpc3QgdG8gdGhlIGxvYWQgbGlzdFxuICAgICogQHBhcmFtICB7U3RyaW5nfSBpZCBpZCBvZiB0aGUgbGlzdCB0byBhZGRcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgcHJpdmF0ZSBfbG9hZEFzc2V0cyhpZDogc3RyaW5nKSB7XG4gICAgICAgIHZhciBhc3NldHMgPSB0aGlzLl9sb2FkRGF0YVtpZF0sXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhc3NldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRBc3NldChhc3NldHNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBzdGFydCB0aGUgYmFja2dyb3VuZCBsb2FkaW5nXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByaXZhdGUgX2JhY2tncm91bmRMb2FkU3RhcnQoKSB7XG4gICAgICAgIHRoaXMub25CYWNrZ3JvdW5kTG9hZFN0YXJ0LmRpc3BhdGNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiB3aGVuIGEgZmlsZSBjb21wbGV0ZXMgaW4gYW4gYmFja2dyb3VuZCBsb2FkIHF1ZXVlIC0gZGlzcGF0Y2hlcyB0aGUgb25CYWNrZ3JvdW5kRmlsZUNvbXBsZXRlIHNpZ25hbFxuICAgICogQHBhcmFtICB7TnVtYmVyfSBwcm9ncmVzcyAgIHRoZSBwZXJjZW50IHByb2dyZXNzXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkICAgICAgICAgdGhlIGZpbGUgaWRcbiAgICAqIEBwYXJhbSAge2ludH0gICAgZmlsZUluZGV4ICB0aGUgaW5kZXggb2YgdGhlIGZpbGUgaW4gdGhlIGxpc3RcbiAgICAqIEBwYXJhbSAge2ludH0gICAgdG90YWxGaWxlcyB0aGUgdG90YWwgbnVtYmVyIG9mIGZpbGVzIGluIHRoZSBsaXN0XG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByaXZhdGUgX2JhY2tncm91bmRGaWxlQ29tcGxldGUocHJvZ3Jlc3M6IG51bWJlciwgaWQ6IHN0cmluZywgZmlsZUluZGV4OiBudW1iZXIsIHRvdGFsRmlsZXM6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5nYW1lLmNhY2hlLmNoZWNrS2V5KFBoYXNlci5DYWNoZS5JTUFHRSwgaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCYXNlVGV4dHVyZVJlc29sdXRpb24odGhpcy5nYW1lLmNhY2hlLmdldFBpeGlCYXNlVGV4dHVyZShpZCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbGVDb21wbGV0ZVByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMub25CYWNrZ3JvdW5kRmlsZUNvbXBsZXRlLmRpc3BhdGNoKHByb2dyZXNzLCBpZCwgZmlsZUluZGV4LCB0b3RhbEZpbGVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHdoZW4gdGhlIGJhY2tncm91bmQgbG9hZCBjb21wbGV0ZXMgLSBkaXNwYXRjaGVzIHRoZSBvbkJhY2tncm91bmRMb2FkQ29tcGxldGUgc2lnbmFsLCBzdGFydHMgY2hlY2tpbmcgZm9yIGRlY29kZWQgc291bmRzXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByaXZhdGUgX2JhY2tncm91bmRMb2FkQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLm9uRmlsZUNvbXBsZXRlLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kRmlsZUNvbXBsZXRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLm9uQmFja2dyb3VuZExvYWRDb21wbGV0ZS5kaXNwYXRjaCgpO1xuICAgICAgICB0aGlzLl9jaGVja1NvdW5kRGVjb2RpbmcodGhpcy5vbkJhY2tncm91bmRMb2FkQ29tcGxldGVBbmRBdWRpb0RlY29kZWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogd2hlbiB0aGUgYXNzZXQgbGlzdCBzdGFydHMgbG9hZGluZywgZGlzcGF0Y2hlcyB0aGUgb25Mb2FkU3RhcnQgc2lnbmFsXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHJpdmF0ZSBfZ2FtZUxvYWRTdGFydCgpIHtcbiAgICAgICAgdGhpcy5vbkxvYWRTdGFydC5kaXNwYXRjaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogd2hlbiBhIGZpbGUgc3RhcnRzIGxvYWRpbmcgLSBkaXNwYXRjaGVzIHRoZSBvbkZpbGVTdGFydCBzaWduYWxcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwcml2YXRlIF9nYW1lRmlsZVN0YXJ0KCkge1xuICAgICAgICB0aGlzLm9uRmlsZVN0YXJ0LmRpc3BhdGNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiB3aGVuIGEgZmlsZSBjb21wbGV0ZXMgaW4gdGhlIGdhbWUgbG9hZCAtIGRpc3BhdGNoZXMgdGhlIG9uRmlsZUNvbXBsZXRlIHNpZ25hbFxuICAgICogQHBhcmFtICB7TnVtYmVyfSBwcm9ncmVzcyAgIHRoZSBwZXJjZW50IHByb2dyZXNzXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkICAgICAgICAgdGhlIGZpbGUgaWRcbiAgICAqIEBwYXJhbSAge2ludH0gICAgZmlsZUluZGV4ICB0aGUgaW5kZXggb2YgdGhlIGZpbGUgaW4gdGhlIGxpc3RcbiAgICAqIEBwYXJhbSAge2ludH0gICAgdG90YWxGaWxlcyB0aGUgdG90YWwgbnVtYmVyIG9mIGZpbGVzIGluIHRoZSBsaXN0XG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByaXZhdGUgX2dhbWVGaWxlQ29tcGxldGUocHJvZ3Jlc3M6IG51bWJlciwgaWQ/OiBzdHJpbmcsIGZpbGVJbmRleD86IG51bWJlciwgdG90YWxGaWxlcz86IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5nYW1lLmNhY2hlLmNoZWNrS2V5KFBoYXNlci5DYWNoZS5JTUFHRSwgaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRCYXNlVGV4dHVyZVJlc29sdXRpb24odGhpcy5nYW1lLmNhY2hlLmdldFBpeGlCYXNlVGV4dHVyZShpZCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbGVDb21wbGV0ZVByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICAgIHRoaXMub25GaWxlQ29tcGxldGUuZGlzcGF0Y2godGhpcy5nZXRMb2FkUHJvZ3Jlc3MoKSwgaWQsIGZpbGVJbmRleCwgdG90YWxGaWxlcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0QmFzZVRleHR1cmVSZXNvbHV0aW9uKHRleHR1cmU6IFBJWEkuQmFzZVRleHR1cmUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRleHR1cmUgJiYgdGV4dHVyZS5zb3VyY2Uuc3JjLmluZGV4T2YoJ0AnICsgdGhpcy5yZXNvbHV0aW9uICsgJ3gnKSA+PSAwKSB7XG4gICAgICAgICAgICB0ZXh0dXJlLnJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiB3aGVuIHRoZSBiYWNrZ3JvdW5kIGxvYWQgY29tcGxldGVzIC0gZGlzcGF0Y2hlcyB0aGUgb25Mb2FkQ29tcGxldGUgc2lnbmFsLCBzdGFydHMgY2hlY2tpbmcgZm9yIGRlY29kZWQgc291bmRzXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByaXZhdGUgX2dhbWVMb2FkQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuX2NvbXBsZXRlZExvYWRzW3RoaXMuX2N1cnJlbnRBc3NldExpc3RdID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vbkxvYWRDb21wbGV0ZS5kaXNwYXRjaCgpO1xuICAgICAgICB0aGlzLmdhbWUubG9hZC5vbkZpbGVTdGFydC5yZW1vdmUodGhpcy5fZ2FtZUZpbGVTdGFydCwgdGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLm9uRmlsZUNvbXBsZXRlLnJlbW92ZSh0aGlzLl9nYW1lRmlsZUNvbXBsZXRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9jaGVja1NvdW5kRGVjb2RpbmcodGhpcy5vbkxvYWRDb21wbGV0ZUFuZEF1ZGlvRGVjb2RlZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBjaGVja3MgaWYgYWxsIHRoZSBzb3VuZHMgaW4gdGhlIHF1ZXVlIGFyZSBkZWNvZGVkXG4gICAgKiBAcGFyYW0gIHtQaGFzZXIuU2lnbmFsfSBldmVudFRvRGlzcGF0Y2ggdGhlIHNpZ25hbCB0byBiZSBkaXNwYXRjaGVkIHdoZW4gYWxsIHNvdW5kcyBhcmUgZGVjb2RlZFxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBwcml2YXRlIF9jaGVja1NvdW5kRGVjb2RpbmcoZXZlbnRUb0Rpc3BhdGNoOiBQaGFzZXIuU2lnbmFsKSB7XG4gICAgICAgIHZhciBzb3VuZCwgaSwgaXNBdWRpb1Nwcml0ZTtcblxuICAgICAgICBpZiAodGhpcy5fc291bmRzVG9EZWNvZGUgJiYgdGhpcy5fc291bmRzVG9EZWNvZGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuX3NvdW5kc1RvRGVjb2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaXNBdWRpb1Nwcml0ZSA9IHRoaXMuX3NvdW5kc1RvRGVjb2RlW2ldLmlzQXVkaW9TcHJpdGU7XG4gICAgICAgICAgICAgICAgc291bmQgPSB0aGlzLmdhbWUuYWRkLnNvdW5kKHRoaXMuX3NvdW5kc1RvRGVjb2RlW2ldLnVybCk7XG4gICAgICAgICAgICAgICAgc291bmQuX19pc0F1ZGlvU3ByaXRlID0gaXNBdWRpb1Nwcml0ZTtcbiAgICAgICAgICAgICAgICBzb3VuZC5ldmVudFRvRGlzcGF0Y2ggPSBldmVudFRvRGlzcGF0Y2g7XG4gICAgICAgICAgICAgICAgc291bmQub25EZWNvZGVkLmFkZE9uY2UodGhpcy5fb25Tb3VuZERlY29kZWQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXZlbnRUb0Rpc3BhdGNoLmRpc3BhdGNoKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHdoZW4gYSBzb3VuZCBpcyBkZWNvZGVkLCB0aGlzIG1ldGhvZCByZW1vdmVzIGl0IGZyb20gdGhlIF9zb3VuZHNUb0RlY29kZSBhcnJheSwgYW5kIGluY3JlYXNlcyB0aGUgb3ZlcmFsbCBwZXJjZW50YWdlIGxvYWRlZFxuICAgICogQHBhcmFtICB7UGhhc2VyLlNvdW5kfSBzb3VuZCB0aGUgc291bmQgYmVpbmcgZGVjb2RlZFxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBwcml2YXRlIF9vblNvdW5kRGVjb2RlZChzb3VuZDogSVNvdW5kKSB7XG4gICAgICAgIHZhciBzb3VuZEluZGV4ID0gdGhpcy5fc291bmRzVG9EZWNvZGUuaW5kZXhPZihzb3VuZC5rZXkpO1xuICAgICAgICB0aGlzLl9zb3VuZHNUb0RlY29kZS5zcGxpY2Uoc291bmRJbmRleCwgMSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmdhbWUuYXVkaW8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0aGlzLmdhbWUuYXVkaW8uYWRkQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoc291bmQuX19pc0F1ZGlvU3ByaXRlKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5hZGQuYXVkaW9TcHJpdGUoc291bmQua2V5KTtcblxuICAgICAgICAgICAgdGhpcy5nYW1lLmF1ZGlvLmFkZEF1ZGlvKHNvdW5kLmtleSwgc291bmQuX19pc0F1ZGlvU3ByaXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NvdW5kc0RlY29kZWQrKztcbiAgICAgICAgdGhpcy5fbWF4UGVyY2VudCA9ICgxMDAgLSAodGhpcy5fbnVtU291bmRzICogdGhpcy5zb3VuZERlY29kaW5nTW9kaWZpZXIpICsgKHRoaXMuX3NvdW5kc0RlY29kZWQgKiB0aGlzLnNvdW5kRGVjb2RpbmdNb2RpZmllcikpO1xuICAgICAgICB0aGlzLl9nYW1lRmlsZUNvbXBsZXRlKDEwMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NvdW5kc1RvRGVjb2RlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc291bmQuZXZlbnRUb0Rpc3BhdGNoLmRpc3BhdGNoKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHNob3J0Y3V0IHRvIGdldCBhbiBhc3NldCBrZXkgdXNpbmcgYSBmaWxlIG5hbWUgKHN0cmlwcyBpdHMgZXh0ZW5zaW9uKVxuICAgICogQHBhcmFtICB7U3RyaW5nfSBmaWxlTmFtZSB0aGUgdXJsIG9mIHRoZSBmaWxlXG4gICAgKiBAcmV0dXJuIHtTdGlybmd9ICAgICAgICAgIHRoZSBhc3NldCBrZXkgKHRoZSBmaWxlbmFtZSB3aXRoIGl0cyBleHRlbnNpb24gc3RyaXBwZWQpXG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgcHJpdmF0ZSBfZ2V0QXNzZXRLZXkoZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmIChmaWxlTmFtZS5pbmRleE9mKCcuJykgPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZpbGVOYW1lO1xuICAgICAgICB2YXIgZXh0ID0gZmlsZU5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgZXh0LnBvcCgpO1xuXG4gICAgICAgIHJldHVybiBleHQuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBnZXRzIHRoZSBleHRlbnNpb24gb2YgYSBnaXZlbiBmaWxlXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZpbGVOYW1lXG4gICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgICAgIHRoZSBleHRlbnNpb25cbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBwcml2YXRlIF9nZXRFeHRlbnNpb24oZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBmaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogZ2V0cyB0aGUgZXh0ZW5zaW9uIG9mIGEgZ2l2ZW4gZmlsZVxuICAgICogQHBhcmFtICB7U3RyaW5nfSBmaWxlTmFtZVxuICAgICogQHJldHVybiB7U3RyaW5nfSAgICAgICAgICB0aGUgZXh0ZW5zaW9uXG4gICAgKiBAcHJpdmF0ZVxuICAgICovXG4gICAgcHJpdmF0ZSBfZ2V0UmVzb2x1dGlvbihyZXM6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcblxuICAgICAgICBpZiAodHlwZW9mIHJlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlcyA9IHBhcnNlRmxvYXQocmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzID0gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcyA+IDEuNSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gQXNzZXRNYW5hZ2VyLlJFU09MVVRJT05fMlg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICogZGV0ZXJtaW5lcyB3aGF0IGtpbmQgb2YgYXNzZXQgd2UncmUgZGVhbGluZyB3aXRoIGFuZCBhZGRzIGl0IHRvIHRoZSBsb2FkIHF1ZXVlXG4gICAgKiBAcGFyYW0gIHtPYmplY3R9IGFzc2V0IHRoZSBhc3NldCBvYmplY3Qgd2UncmUgZ29pbmcgdG8gbG9hZFxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgICBwcml2YXRlIF9sb2FkQXNzZXQoYXNzZXQ6IElBc3NldCkge1xuICAgICAgICB2YXIgdHlwZSA9IGFzc2V0LnR5cGUsXG4gICAgICAgICAgICB1cmwgPSBhc3NldC51cmwgfHwgYXNzZXQua2V5O1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBBc3NldE1hbmFnZXIuQVNTRVRfTElTVDpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkQXNzZXRzKGFzc2V0LmlkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXNzZXRNYW5hZ2VyLlNPVU5EOlxuICAgICAgICAgICAgICAgIHRoaXMubG9hZFNvdW5kKHVybCwgYXNzZXQuZXh0ZW5zaW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzc2V0TWFuYWdlci5BVURJT19TUFJJVEU6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkQXVkaW9TcHJpdGUodXJsLCBhc3NldC5leHRlbnNpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXNzZXRNYW5hZ2VyLklNQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEltYWdlKHVybCwgdGhpcy5fZ2V0UmVzb2x1dGlvbihhc3NldC5yZXNvbHV0aW9uKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzc2V0TWFuYWdlci5BVExBUzpcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRBdGxhcyh1cmwsIHRoaXMuX2dldFJlc29sdXRpb24oYXNzZXQucmVzb2x1dGlvbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBc3NldE1hbmFnZXIuVEVYVDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRUZXh0KHVybCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzc2V0TWFuYWdlci5KU09OOlxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEpTT04odXJsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXNzZXRNYW5hZ2VyLlRJTEVNQVA6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZW1hcCh1cmwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBc3NldE1hbmFnZXIuVElMRURNQVA6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkVGlsZWRtYXAodXJsLCAoPElUaWxlZG1hcEFzc2V0cz5hc3NldCkuYXNzZXRzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXNzZXRNYW5hZ2VyLlBIWVNJQ1M6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkUGh5c2ljcyh1cmwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBc3NldE1hbmFnZXIuU1BJTkU6XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkU3BpbmUodXJsLCB0aGlzLl9nZXRSZXNvbHV0aW9uKGFzc2V0LnJlc29sdXRpb24pKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBwYXJzZXMgdGhlIGRhdGEgZnJvbSB0aGUgZXh0ZXJuYWwgYXNzZXRzIGZpbGUgKG5vcm1hbGx5IGRhdGEvYXNzZXRzLmpzb24pXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQHByaXZhdGVcbiAgICAqL1xuICAgIHByaXZhdGUgX3BhcnNlRGF0YSgpIHtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUFzc2V0TGlzdChrZXksIHRoaXMuX2RhdGFba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRDYWNoZUJ1c3RlZFVybCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZUJ1c3RWZXJzaW9uID09PSB1bmRlZmluZWQgfHwgdGhpcy5fY2FjaGVCdXN0VmVyc2lvbiA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXJsICsgJz92PScgKyB0aGlzLl9jYWNoZUJ1c3RWZXJzaW9uO1xuICAgIH1cbiAgICAvLyBwdWJsaWMgbWV0aG9kc1xuICAgIHB1YmxpYyBsb2FkVGV4dCh1cmw6IHN0cmluZykge1xuICAgICAgICB2YXIga2V5ID0gdGhpcy5fZ2V0QXNzZXRLZXkodXJsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZS5sb2FkLnRleHQoa2V5LCB0aGlzLl9nZXRDYWNoZUJ1c3RlZFVybCh0aGlzLl9kYXRhUGF0aCArICcvJyArIHVybCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkSlNPTihrZXk6IHN0cmluZykge1xuICAgICAgICBrZXkgPSB0aGlzLl9nZXRBc3NldEtleShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lLmxvYWQuanNvbihrZXksIHRoaXMuX2dldENhY2hlQnVzdGVkVXJsKHRoaXMuX2RhdGFQYXRoICsgJy8nICsga2V5ICsgJy5qc29uJykpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkVGlsZW1hcChrZXk6IHN0cmluZykge1xuICAgICAgICBrZXkgPSB0aGlzLl9nZXRBc3NldEtleShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lLmxvYWQudGlsZW1hcChrZXksIHRoaXMuX2dldENhY2hlQnVzdGVkVXJsKHRoaXMuX2RhdGFQYXRoICsgJy90aWxlbWFwLycgKyBrZXkgKyAnLmpzb24nKSwgbnVsbCwgUGhhc2VyLlRpbGVtYXAuVElMRURfSlNPTik7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRUaWxlZG1hcChrZXk6IHN0cmluZywgYXNzZXRzOiBJQXNzZXRbXSkge1xuICAgICAgICBpZiAoUGhhc2VyLlBsdWdpblsnVGlsZWQnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGlsZWRtYXAgcmVxdWlyZXMgdGhlIHBoYXNlci10aWxlZCBwbHVnaW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcGhhc2VyLXRpbGVkJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWNoZUtleTogYW55ID0gUGhhc2VyLlBsdWdpblsnVGlsZWQnXS51dGlscy5jYWNoZUtleTtcblxuICAgICAgICB0aGlzLmdhbWUubG9hZFsndGlsZWRtYXAnXShjYWNoZUtleShrZXksICd0aWxlZG1hcCcpLCB0aGlzLl9nZXRDYWNoZUJ1c3RlZFVybCh0aGlzLl9kYXRhUGF0aCArICcvdGlsZW1hcC8nICsga2V5ICsgJy5qc29uJyksIG51bGwsIFBoYXNlci5UaWxlbWFwLlRJTEVEX0pTT04pO1xuXG4gICAgICAgIGFzc2V0cy5mb3JFYWNoKGFzc2V0ID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoYXNzZXQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQXNzZXRNYW5hZ2VyLlRJTEVETUFQX1RJTEVTRVQ6XG4gICAgICAgICAgICAgICAgY2FzZSBBc3NldE1hbmFnZXIuVElMRURNQVBfTEFZRVI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFRpbGVkbWFwSW1hZ2Uoa2V5LCBhc3NldC50eXBlLCBhc3NldCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkVGlsZWRtYXBJbWFnZShrZXk6IHN0cmluZywgdGlsZXNldEltYWdlVHlwZTogc3RyaW5nLCBhc3NldDogSUFzc2V0KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5OiBhbnkgPSBQaGFzZXIuUGx1Z2luWydUaWxlZCddLnV0aWxzLmNhY2hlS2V5O1xuXG4gICAgICAgIGxldCByZXNvbHV0aW9uOiBzdHJpbmcgPSAnJztcbiAgICAgICAgY29uc3QgbmV3S2V5OiBzdHJpbmcgPSB0aGlzLl9nZXRBc3NldEtleShhc3NldC51cmwpO1xuICAgICAgICBjb25zdCBjS2V5OiBzdHJpbmcgPSBjYWNoZUtleShrZXksICd0aWxlc2V0JywgbmV3S2V5KTtcblxuICAgICAgICBpZiAodHlwZW9mIGFzc2V0LnJlc29sdXRpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5fZ2V0UmVzb2x1dGlvbihhc3NldC5yZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLl9nZXRBc3NldEtleShuZXdLZXkgKyByZXNvbHV0aW9uICsgJy4nICsgdGhpcy5fZ2V0RXh0ZW5zaW9uKGFzc2V0LnVybCkpO1xuICAgICAgICBjb25zb2xlLmxvZyhhc3NldC51cmwsIGNLZXkpO1xuICAgICAgICB0aGlzLmdhbWUubG9hZC5pbWFnZShjS2V5LCB0aGlzLl9nZXRDYWNoZUJ1c3RlZFVybCh0aGlzLl9zcHJpdGVTaGVldFBhdGggKyAnLycgKyB1cmwgKyAnLnBuZycpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZFBoeXNpY3Moa2V5OiBzdHJpbmcpIHtcbiAgICAgICAga2V5ID0gdGhpcy5fZ2V0QXNzZXRLZXkoa2V5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZS5sb2FkLnBoeXNpY3Moa2V5LCB0aGlzLl9nZXRDYWNoZUJ1c3RlZFVybCh0aGlzLl9waHlzaWNzUGF0aCArICcvJyArIGtleSArICcuanNvbicpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZEF0bGFzKHVybDogc3RyaW5nLCByZXNvbHV0aW9uPzogYW55KTogUGhhc2VyLkxvYWRlciB8IHN0cmluZyB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzb2x1dGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0aGlzLl9nZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdhbWUuY2FjaGUuY2hlY2tJbWFnZUtleSh1cmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWUubG9hZC5hdGxhc0pTT05IYXNoKHVybCwgdGhpcy5fZ2V0Q2FjaGVCdXN0ZWRVcmwodGhpcy5fc3ByaXRlU2hlZXRQYXRoICsgJy8nICsgdXJsICsgcmVzb2x1dGlvbiArICcucG5nJyksIHRoaXMuX2dldENhY2hlQnVzdGVkVXJsKHRoaXMuX3Nwcml0ZVNoZWV0UGF0aCArICcvJyArIHVybCArIHJlc29sdXRpb24gKyAnLmpzb24nKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRJbWFnZSh1cmw6IHN0cmluZywgcmVzb2x1dGlvbj86IGFueSk6IFBoYXNlci5Mb2FkZXIgfCBzdHJpbmcge1xuICAgICAgICBpZiAodHlwZW9mIHJlc29sdXRpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5fZ2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXk6IHN0cmluZyA9IHRoaXMuX2dldEFzc2V0S2V5KHVybCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2FtZS5jYWNoZS5jaGVja0ltYWdlS2V5KGtleSkpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBpbWFnZSBrZXkgYWxyZWFkeSBleGlzdHMsIGRvbid0IHJlbG9hZCB0aGUgaW1hZ2UgYW5kIHJldHVybiB0aGUga2V5XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICAgIHVybCA9IGtleSArIHJlc29sdXRpb24gKyAnLicgKyB0aGlzLl9nZXRFeHRlbnNpb24odXJsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZS5sb2FkLmltYWdlKGtleSwgdGhpcy5fZ2V0Q2FjaGVCdXN0ZWRVcmwodGhpcy5faW1nUGF0aCArICcvJyArIHVybCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkU3BpbmUodXJsOiBzdHJpbmcsIHJlc29sdXRpb24/OiBhbnkpOiBzdHJpbmcgfCB2b2lkIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNvbHV0aW9uICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMuX2dldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5OiBzdHJpbmcgPSB0aGlzLl9nZXRBc3NldEtleSh1cmwpO1xuXG4gICAgICAgIGlmICh0aGlzLmdhbWUuY2FjaGUuY2hlY2tJbWFnZUtleShrZXkpKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgaW1hZ2Uga2V5IGFscmVhZHkgZXhpc3RzLCBkb24ndCByZWxvYWQgdGhlIGltYWdlIGFuZCByZXR1cm4gdGhlIGtleVxuICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSBrZXkgKyByZXNvbHV0aW9uICsgJy5wbmcnO1xuICAgICAgICBjb25zdCBqc29uVXJsID0ga2V5ICsgJy5qc29uJztcbiAgICAgICAgY29uc3QgYXRsYXNVcmwgPSBrZXkgKyAnLmF0bGFzJztcbiAgICAgICAgdGhpcy5nYW1lLmxvYWQuanNvbihrZXkgKyAnLmpzb24nLCB0aGlzLl9nZXRDYWNoZUJ1c3RlZFVybCh0aGlzLl9zcGluZVBhdGggKyAnLycgKyBqc29uVXJsKSk7XG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLnRleHQoa2V5ICsgJy5hdGxhcycsIHRoaXMuX2dldENhY2hlQnVzdGVkVXJsKHRoaXMuX3NwaW5lUGF0aCArICcvJyArIGF0bGFzVXJsKSk7XG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLmltYWdlKGtleSArICcucG5nJywgdGhpcy5fZ2V0Q2FjaGVCdXN0ZWRVcmwodGhpcy5fc3BpbmVQYXRoICsgJy8nICsgdXJsKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRCaXRtYXBGb250KHVybDogc3RyaW5nLCByZXNvbHV0aW9uPzogYW55KSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzb2x1dGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSB0aGlzLl9nZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLmJpdG1hcEZvbnQodXJsLCB0aGlzLl9nZXRDYWNoZUJ1c3RlZFVybCh0aGlzLl9iaXRtYXBGb250UGF0aCArICcvJyArIHVybCArIHJlc29sdXRpb24gKyAnLnBuZycpLCB0aGlzLl9nZXRDYWNoZUJ1c3RlZFVybCh0aGlzLl9iaXRtYXBGb250UGF0aCArICcvJyArIHVybCArIHJlc29sdXRpb24gKyAnLmpzb24nKSk7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgbG9hZEF1ZGlvKHVybDogc3RyaW5nLCBleHRzOiBhbnksIGlzQXVkaW9TcHJpdGU6IGJvb2xlYW4pIHtcbiAgICAgICAgdmFyIHR5cGUsIHBhdGg7XG4gICAgICAgIGlmICh0aGlzLmdhbWUuY2FjaGUuY2hlY2tTb3VuZEtleSh1cmwpICYmIHRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZCh1cmwpLmlzRGVjb2RlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHR5cGUgc2hvdWxkIGJlICdzb3VuZCcgb3IgJ3Nwcml0ZScgKCdmeCcgYW5kICdtdXNpYycgdG8gYmUgZGVwcmVjYXRlZClcbiAgICAgICAgLy8gZGVmYXVsdCB0byBzb3VuZFxuXG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHR5cGUgPSAnc291bmQnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4dHMuaW5kZXhPZignLCcpID49IDApIHtcbiAgICAgICAgICAgIGV4dHMgPSBleHRzLnNwbGl0KCcsJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nYW1lLmRldmljZS5pT1MgJiYgZXh0cy5pbmRleE9mKCdtNGEnKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGV4dHMudW5zaGlmdCgnbTRhJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGV4dHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBwYXRoID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2godGhpcy5fZ2V0Q2FjaGVCdXN0ZWRVcmwoKGlzQXVkaW9TcHJpdGUgPyB0aGlzLl9hdWRpb1Nwcml0ZVBhdGggOiB0aGlzLl9zb3VuZFBhdGgpICsgJy8nICsgdXJsICsgJy4nICsgZXh0c1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0aCA9IHRoaXMuX2dldENhY2hlQnVzdGVkVXJsKChpc0F1ZGlvU3ByaXRlID8gdGhpcy5fYXVkaW9TcHJpdGVQYXRoIDogdGhpcy5fc291bmRQYXRoKSArICcvJyArIHR5cGUgKyAnLycgKyB1cmwgKyAnLicgKyBleHRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0F1ZGlvU3ByaXRlKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWUubG9hZC5hdWRpb3Nwcml0ZSh1cmwsIHBhdGgsIHRoaXMuX2F1ZGlvU3ByaXRlUGF0aCArICcvJyArIHVybCArICcuanNvbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nYW1lLmxvYWQuYXVkaW8odXJsLCBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NvdW5kc1RvRGVjb2RlLnB1c2goe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBpc0F1ZGlvU3ByaXRlOiBpc0F1ZGlvU3ByaXRlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkU291bmQodXJsOiBzdHJpbmcsIGV4dHM6IGFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQXVkaW8odXJsLCBleHRzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRBdWRpb1Nwcml0ZSh1cmw6IHN0cmluZywgZXh0czogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRBdWRpbyh1cmwsIGV4dHMsIHRydWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBsb2FkQXNzZXRzKGlkOiBzdHJpbmcsIGJhY2tncm91bmQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50QXNzZXRMaXN0ID0gaWQ7XG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLm9uRmlsZUNvbXBsZXRlLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kRmlsZUNvbXBsZXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lLmxvYWQub25GaWxlQ29tcGxldGUucmVtb3ZlKHRoaXMuX2dhbWVGaWxlQ29tcGxldGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2hhc0ZpbGVzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NvdW5kc1RvRGVjb2RlID0gW107XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9kYXRhID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9kYXRhW2lkXSA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5fZGF0YVtpZF0ubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdubyBwcmVsb2FkIGRhdGEgcmVnaXN0ZXJlZCBmb3IgJywgaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZEFzc2V0cyhpZCk7XG4gICAgICAgIHRoaXMuX2hhc0ZpbGVzID0gdGhpcy5nYW1lLmxvYWQudG90YWxRdWV1ZWRGaWxlcygpID4gMDtcblxuICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lLmxvYWQub25Mb2FkU3RhcnQuYWRkT25jZSh0aGlzLl9iYWNrZ3JvdW5kTG9hZFN0YXJ0LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5sb2FkLm9uRmlsZUNvbXBsZXRlLmFkZCh0aGlzLl9iYWNrZ3JvdW5kRmlsZUNvbXBsZXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5sb2FkLm9uTG9hZENvbXBsZXRlLmFkZE9uY2UodGhpcy5fYmFja2dyb3VuZExvYWRDb21wbGV0ZSwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdhbWUubG9hZC5vbkxvYWRTdGFydC5hZGRPbmNlKHRoaXMuX2dhbWVMb2FkU3RhcnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5nYW1lLmxvYWQub25GaWxlU3RhcnQuYWRkKHRoaXMuX2dhbWVGaWxlU3RhcnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5nYW1lLmxvYWQub25GaWxlQ29tcGxldGUuYWRkKHRoaXMuX2dhbWVGaWxlQ29tcGxldGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5nYW1lLmxvYWQub25Mb2FkQ29tcGxldGUuYWRkT25jZSh0aGlzLl9nYW1lTG9hZENvbXBsZXRlLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faGFzRmlsZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2dhbWVMb2FkU3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX2dhbWVGaWxlQ29tcGxldGUoMTAwKTtcbiAgICAgICAgICAgIHRoaXMuX2dhbWVMb2FkQ29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX251bVNvdW5kcyA9IHRoaXMuX3NvdW5kc1RvRGVjb2RlLmxlbmd0aDtcbiAgICAgICAgdGhpcy5fc291bmRzRGVjb2RlZCA9IDA7XG4gICAgICAgIHRoaXMuX21heFBlcmNlbnQgPSAxMDAgLSAodGhpcy5fbnVtU291bmRzICogdGhpcy5zb3VuZERlY29kaW5nTW9kaWZpZXIpO1xuXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWUubG9hZC5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRRdWV1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzTG9hZGluZ1F1ZXVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2RhdGEgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ25vIHByZWxvYWQgcXVldWUgdG8gbG9hZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFzc2V0czogYW55LFxuICAgICAgICAgICAgc3RhdGU6IHN0cmluZyxcbiAgICAgICAgICAgIGk6IG51bWJlcjtcblxuICAgICAgICBmb3IgKHN0YXRlIGluIHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdXRvTG9hZERhdGFbc3RhdGVdKSB7XG5cbiAgICAgICAgICAgICAgICBhc3NldHMgPSB0aGlzLl9kYXRhW3N0YXRlXTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRBc3NldChhc3NldHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMuX2lzTG9hZGluZ1F1ZXVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5nYW1lLmxvYWQub25Mb2FkU3RhcnQuYWRkT25jZSh0aGlzLl9iYWNrZ3JvdW5kTG9hZFN0YXJ0LCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lLmxvYWQub25GaWxlQ29tcGxldGUuYWRkKHRoaXMuX2JhY2tncm91bmRGaWxlQ29tcGxldGUsIHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWUubG9hZC5vbkxvYWRDb21wbGV0ZS5hZGRPbmNlKHRoaXMuX2JhY2tncm91bmRMb2FkQ29tcGxldGUsIHRoaXMpO1xuICAgIH1cblxuXG4gICAgcHVibGljIGdldExvYWRQcm9ncmVzcygpIHtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRQcm9ncmVzcyA9IHRoaXMuX2ZpbGVDb21wbGV0ZVByb2dyZXNzICogdGhpcy5fbWF4UGVyY2VudCAvIDEwMDtcbiAgICAgICAgcmV0dXJuIGFkanVzdGVkUHJvZ3Jlc3M7XG4gICAgfVxuXG5cbiAgICBwdWJsaWMgYWxsU291bmRzRGVjb2RlZCgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc291bmRzIHRvIGRlY29kZScsIHRoaXMuX3NvdW5kc1RvRGVjb2RlLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VuZHNUb0RlY29kZS5sZW5ndGggPT09IDA7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAqIHNldHMgdGhlIGRhdGEgZm9yIHRoZSBBc3NldE1hbmFnZXIgdG8gdXNlIGFzIGEgcmVmZXJlbmNlICh1c3VhbGx5IGZyb20gZGF0YS9hc3NldHMuanNvbilcbiAgICAqIHRyaWdnZXJzIHRoZSBfcGFyc2VEYXRhIGludGVybmFsIG1ldGhvZCwgd2hpY2ggc3RvcmVzIHRoZSBhc3NldCBsaXN0IGZvciBsYXRlciB1c2VcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0RmlsZUZyb21DYWNoZSB0aGUgaWQgb2YgdGhlIGZpbGUgaW4gdGhlIFBoYXNlci5DYWNoZVxuICAgICovXG4gICAgcHVibGljIHNldERhdGEoZGF0YTogT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLl9sb2FkRGF0YSA9IHt9O1xuICAgICAgICB0aGlzLl9wYXJzZURhdGEoKTtcblxuICAgICAgICB0aGlzLnNlbmROb3RpZmljYXRpb24oTm90aWZpY2F0aW9ucy5BU1NFVF9NQU5BR0VSX0RBVEFfU0VULCB0aGlzLl9kYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIGNsZWFycyB0aGUgYXNzZXRzIGZyb20gYSBwYXJ0aWN1bGFyIGlkIGluIHRoZSBzdG9yYWdlXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkICAgICAgICAgICAgdGhlIGlkIG9mIHRoZSBhc3NldCBsaXN0IHRvIGNsZWFyXG4gICAgKiBAcGFyYW0gIHtCb29sZWFufSBbY2xlYXJBdWRpbyA9IHRydWVdICAgIHdoZXRoZXIgdG8gY2xlYXIgYXVkaW8gZmlsZXNcbiAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtjbGVhckF0bGFzc2VzID0gdHJ1ZV0gd2hldGhlciB0byBjbGVhciB0ZXh0dXJlIGF0bGFzc2VzXG4gICAgKiBAcGFyYW0gIHtCb29sZWFufSBbY2xlYXJJbWFnZXMgPSB0cnVlXSAgIHdoZXRoZXIgdG8gY2xlYXIgaW1hZ2VzXG4gICAgKiBAcGFyYW0gIHtCb29sZWFufSBbY2xlYXJUZXh0ID0gdHJ1ZV0gICAgIHdoZXRoZXIgdG8gY2xlYXIgdGV4dCBmaWxlc1xuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgIHB1YmxpYyBjbGVhckFzc2V0cyhpZDogc3RyaW5nLCBjbGVhckF1ZGlvOiBib29sZWFuID0gdHJ1ZSwgY2xlYXJBdGxhc3NlczogYm9vbGVhbiA9IHRydWUsIGNsZWFySW1hZ2VzOiBib29sZWFuID0gdHJ1ZSwgY2xlYXJUZXh0OiBib29sZWFuID0gdHJ1ZSwgY2xlYXJKU09OOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICB2YXIgYXNzZXRzID0gdGhpcy5fZGF0YVtpZF07XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2NsZWFyaW5nOiAnLCBpZCk7XG5cbiAgICAgICAgaWYgKCFhc3NldHMgfHwgdHlwZW9mIGFzc2V0cyA9PT0gJ3VuZGVmaW5lZCcgfHwgYXNzZXRzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbm8gYXNzZXRzJywgYXNzZXRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXNzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQXNzZXQoYXNzZXRzW2ldLCBjbGVhckF1ZGlvLCBjbGVhckF0bGFzc2VzLCBjbGVhckltYWdlcywgY2xlYXJUZXh0LCBjbGVhckpTT04pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY29tcGxldGVkTG9hZHNbaWRdID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKE5vdGlmaWNhdGlvbnMuQVNTRVRfTUFOQUdFUl9BU1NFVFNfQ0xFQVJFRCwgaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogY2xlYXJzIGFuIGFzc2V0IGZyb20gdGhlIGdhbWUncyBtZW1vcnlcbiAgICAqIEBwYXJhbSAge09iamVjdH0gYXNzZXQgICAgICAgICB0aGUgYXNzZXQgdG8gY2xlYXJcbiAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtjbGVhckF1ZGlvID0gdHJ1ZV0gICAgd2hldGhlciB0byBjbGVhciBhdWRpbyBmaWxlc1xuICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW2NsZWFyQXRsYXNzZXMgPSB0cnVlXSB3aGV0aGVyIHRvIGNsZWFyIHRleHR1cmUgYXRsYXNzZXNcbiAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtjbGVhckltYWdlcyA9IHRydWVdICAgd2hldGhlciB0byBjbGVhciBpbWFnZXNcbiAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtjbGVhclRleHQgPSB0cnVlXSAgICAgd2hldGhlciB0byBjbGVhciB0ZXh0IGZpbGVzXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHVibGljIGNsZWFyQXNzZXQoYXNzZXQ6IElBc3NldCwgY2xlYXJBdWRpbzogYm9vbGVhbiA9IHRydWUsIGNsZWFyQXRsYXNzZXM6IGJvb2xlYW4gPSB0cnVlLCBjbGVhckltYWdlczogYm9vbGVhbiA9IHRydWUsIGNsZWFyVGV4dDogYm9vbGVhbiA9IHRydWUsIGNsZWFySlNPTjogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBhc3NldC50eXBlLFxuICAgICAgICAgICAgdXJsID0gYXNzZXQudXJsLFxuICAgICAgICAgICAgcmVxdWlyZWQgPSBhc3NldC5yZXF1aXJlZDtcblxuICAgICAgICBpZiAocmVxdWlyZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGUgJyArIHR5cGUgKyAnIGFzc2V0OiAnICsgdXJsICsgJyBpcyByZXF1aXJlZCBhbmQgd2lsbCBub3QgYmUgY2xlYXJlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBBc3NldE1hbmFnZXIuQVVESU86XG4gICAgICAgICAgICAgICAgaWYgKGNsZWFyQXVkaW8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lLnNvdW5kLnJlbW92ZUJ5S2V5KHVybCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5jYWNoZS5yZW1vdmVTb3VuZCh1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXNzZXRNYW5hZ2VyLklNQUdFOlxuICAgICAgICAgICAgICAgIGlmIChjbGVhckltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWUuY2FjaGUucmVtb3ZlSW1hZ2UodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgUElYSS5CYXNlVGV4dHVyZUNhY2hlW3VybF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXNzZXRNYW5hZ2VyLkFUTEFTOlxuICAgICAgICAgICAgICAgIGlmIChjbGVhckF0bGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5jYWNoZS5yZW1vdmVJbWFnZSh1cmwpO1xuICAgICAgICAgICAgICAgICAgICBQSVhJLkJhc2VUZXh0dXJlQ2FjaGVbdXJsXS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5jYWNoZS5yZW1vdmVYTUwodXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzc2V0TWFuYWdlci5URVhUOlxuICAgICAgICAgICAgICAgIGlmIChjbGVhclRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lLmNhY2hlLnJlbW92ZVRleHQodXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzc2V0TWFuYWdlci5KU09OOlxuICAgICAgICAgICAgICAgIGlmIChjbGVhckpTT04pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lLmNhY2hlLnJlbW92ZUpTT04odXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzc2V0TWFuYWdlci5QSFlTSUNTOlxuICAgICAgICAgICAgICAgIGlmIChjbGVhckpTT04pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lLmNhY2hlLnJlbW92ZVBoeXNpY3ModXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAqIGNoZWNrcyBpZiB0aGUgYXNzZXRzIGZyb20gdGhpcyBsaXN0IGlkIGFyZSBhbHJlYWR5IGxvYWRlZFxuICAgICogQHBhcmFtICB7U3RyaW5nfSAgaWQgdGhlIGFzc2V0IGxpc3QgaWQgdG8gY2hlY2tcbiAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgIHdoZXRoZXIgaXQgaGFzIGJlZW4gbG9hZGVkIGFscmVhZHlcbiAgICAqL1xuICAgIHB1YmxpYyBoYXNMb2FkZWRBc3NldHMoaWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcGxldGVkTG9hZHNbaWRdID09PSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWU6IHN0cmluZywgbm90aWZpY2F0aW9uQm9keT86IGFueSk6IHZvaWQge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAuc2VuZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb25OYW1lLCBub3RpZmljYXRpb25Cb2R5KTtcbiAgICB9XG5cbiAgICAvLyBnZXR0ZXIgLyBzZXR0ZXJcbiAgICBwdWJsaWMgc2V0IGJhc2VVUkwoYmFzZVVSTDogc3RyaW5nKSB7XG4gICAgICAgIC8vIGVuc3VyZSB0cmFpbGluZyBzbGFzaFxuICAgICAgICBpZiAoYmFzZVVSTCAmJiBiYXNlVVJMICE9PSB1bmRlZmluZWQgJiYgYmFzZVVSTC5jaGFyQXQoYmFzZVVSTC5sZW5ndGggLSAxKSAhPT0gJy8nKVxuICAgICAgICAgICAgYmFzZVVSTCArPSAnLyc7XG5cbiAgICAgICAgdGhpcy5fYmFzZVVSTCA9IGJhc2VVUkw7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBwYXRocyhwYXRoT2JqOiBJUGF0aENvbmZpZykge1xuICAgICAgICB0aGlzLl9wYXRoT2JqID0gcGF0aE9iaiB8fCB7fTtcblxuICAgICAgICB0aGlzLl9hc3NldFBhdGggPSB0aGlzLl9iYXNlVVJMICsgKHRoaXMuX3BhdGhPYmouYXNzZXRQYXRoIHx8ICdhc3NldHMnKTtcbiAgICAgICAgdGhpcy5fZGF0YVBhdGggPSB0aGlzLl9iYXNlVVJMICsgKHRoaXMuX3BhdGhPYmouZGF0YVBhdGggfHwgJ2Fzc2V0cy9kYXRhJyk7XG4gICAgICAgIHRoaXMuX3Nwcml0ZVNoZWV0UGF0aCA9IHRoaXMuX2Jhc2VVUkwgKyAodGhpcy5fcGF0aE9iai5zcHJpdGVzaGVldFBhdGggfHwgJ2Fzc2V0cy9pbWcvc3ByaXRlc2hlZXRzJyk7XG4gICAgICAgIHRoaXMuX2ltZ1BhdGggPSB0aGlzLl9iYXNlVVJMICsgKHRoaXMuX3BhdGhPYmouaW1nUGF0aCB8fCAnYXNzZXRzL2ltZycpO1xuICAgICAgICB0aGlzLl9zcGluZVBhdGggPSB0aGlzLl9iYXNlVVJMICsgKHRoaXMuX3BhdGhPYmouc3BpbmVQYXRoIHx8ICdhc3NldHMvc3BpbmUnKTtcbiAgICAgICAgdGhpcy5fZm9udFBhdGggPSB0aGlzLl9iYXNlVVJMICsgKHRoaXMuX3BhdGhPYmouZm9udFBhdGggfHwgJ2Fzc2V0cy9mb250cycpO1xuICAgICAgICB0aGlzLl9iaXRtYXBGb250UGF0aCA9IHRoaXMuX2Jhc2VVUkwgKyAodGhpcy5fcGF0aE9iai5iaXRtYXBGb250UGF0aCB8fCAnYXNzZXRzL2ZvbnRzL2JpdG1hcCcpO1xuICAgICAgICB0aGlzLl9hdWRpb1Nwcml0ZVBhdGggPSB0aGlzLl9iYXNlVVJMICsgKHRoaXMuX3BhdGhPYmouYXVkaW9TcHJpdGVQYXRoIHx8ICdhc3NldHMvYXVkaW8vc3ByaXRlJyk7XG4gICAgICAgIHRoaXMuX3NvdW5kUGF0aCA9IHRoaXMuX2Jhc2VVUkwgKyAodGhpcy5fcGF0aE9iai5zb3VuZFBhdGggfHwgJ2Fzc2V0cy9hdWRpby9zb3VuZCcpO1xuICAgICAgICB0aGlzLl9waHlzaWNzUGF0aCA9IHRoaXMuX2Jhc2VVUkwgKyAodGhpcy5fcGF0aE9iai5waHlzaWNzUGF0aCB8fCAnYXNzZXRzL2RhdGEvcGh5c2ljcycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcmVzb2x1dGlvbihyZXM6IG51bWJlcikge1xuICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcyA9IHRoaXMuZ2FtZS5yZXNvbHV0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVzID0gcmVzO1xuICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlcyA+IDEuNSkge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IEFzc2V0TWFuYWdlci5SRVNPTFVUSU9OXzJYO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldCByZXNvbHV0aW9uKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICogc2V0cyB0aGUgcGVyY2VudGFnZSBvZiB0aGUgbG9hZCB3ZSBzaG91bGQgYWxsb3QgdG8gZWFjaCBzb3VuZFxuICAgICogQHBhcmFtIHtOdW1iZXJ9IFtudW0gPSAyXSB0aGUgcGVyY2VudGFnZVxuICAgICovXG4gICAgcHVibGljIHNldCBzb3VuZERlY29kaW5nTW9kaWZpZXIobnVtOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKG51bSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBudW0gPSAyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NvdW5kRGVjb2RpbmdNb2RpZmllciA9IG51bTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNvdW5kRGVjb2RpbmdNb2RpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdW5kRGVjb2RpbmdNb2RpZmllcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGNhY2hlQnVzdFZlcnNpb24odmVyc2lvbjogc3RyaW5nIHwgbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlQnVzdFZlcnNpb24gPSAnJyArIHZlcnNpb247XG4gICAgfVxufVxuXG5cbi8qKlxuICogQXVkaW9NYW5hZ2VyXG4gKiBXcmFwcGVyIGZvciBQaGFzZXIuU291bmRNYW5hZ2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xuICAgIHB1YmxpYyBnYW1lOiBHYW1lO1xuXG4gICAgcHJpdmF0ZSBfZGVmYXVsdFZvbHVtZTogbnVtYmVyID0gMTtcbiAgICBwcml2YXRlIF9zcHJpdGVzOiB7IFtzcHJpdGU6IHN0cmluZ106IFBoYXNlci5BdWRpb1Nwcml0ZSB9ID0ge307XG4gICAgcHJpdmF0ZSBfc291bmRzOiB7IFtzb3VuZDogc3RyaW5nXTogUGhhc2VyLlNvdW5kIH0gPSB7fTtcbiAgICBwcml2YXRlIF9tYXJrZXJMb29rdXA6IHsgW2lkOiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IEFwcGxpY2F0aW9uLmdldEluc3RhbmNlKCkuZ2FtZTtcbiAgICB9XG5cbiAgICAvLyBwcml2YXRlIG1ldGhvZHMgXG4gICAgcHJpdmF0ZSBfYWRkQXVkaW8oa2V5OiBzdHJpbmcsIGlzQXVkaW9TcHJpdGU6IGJvb2xlYW4gPSBmYWxzZSk6IFBoYXNlci5Tb3VuZCB8IFBoYXNlci5BdWRpb1Nwcml0ZSB7XG4gICAgICAgIGlmIChpc0F1ZGlvU3ByaXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VBdWRpb1Nwcml0ZShrZXksIHRoaXMuZ2FtZS5hZGQuYXVkaW9TcHJpdGUoa2V5KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsb3dNdWx0aXBsZSh0aGlzLmdhbWUuYWRkLnNvdW5kKGtleSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcGFyc2VBdWRpb1Nwcml0ZShrZXk6IHN0cmluZywgYXVkaW9TcHJpdGU6IFBoYXNlci5BdWRpb1Nwcml0ZSk6IFBoYXNlci5BdWRpb1Nwcml0ZSB7XG4gICAgICAgIGZvciAodmFyIHNvdW5kS2V5IGluIGF1ZGlvU3ByaXRlLnNvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5fYWxsb3dNdWx0aXBsZShhdWRpb1Nwcml0ZS5zb3VuZHNbc291bmRLZXldKTtcbiAgICAgICAgICAgIHRoaXMuX21hcmtlckxvb2t1cFtzb3VuZEtleV0gPSBrZXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF1ZGlvU3ByaXRlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2FsbG93TXVsdGlwbGUoc291bmQ6IFBoYXNlci5Tb3VuZCk6IFBoYXNlci5Tb3VuZCB7XG4gICAgICAgIHNvdW5kLmFsbG93TXVsdGlwbGUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gc291bmQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0S2V5RnJvbU1hcmtlck5hbWUobWFya2VyOiBzdHJpbmcpOiBzdHJpbmcgfCBib29sZWFuIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9tYXJrZXJMb29rdXBbbWFya2VyXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXJrZXJMb29rdXBbbWFya2VyXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5fc3ByaXRlcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9zcHJpdGVzW2tleV0uc291bmRzW21hcmtlcl0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFya2VyTG9va3VwW21hcmtlcl0gPSBrZXk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcGxheVNwcml0ZU1hcmtlcihrZXk6IHN0cmluZywgbWFya2VyOiBzdHJpbmcsIHZvbHVtZT86IGFueSwgbG9vcDogYm9vbGVhbiA9IGZhbHNlLCBmb3JjZVJlc3RhcnQ6IGJvb2xlYW4gPSB0cnVlKTogUGhhc2VyLlNvdW5kIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2b2x1bWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZvbHVtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpZiAodm9sdW1lLmluZGV4T2YoJysnKSA+PSAwIHx8IHZvbHVtZS5pbmRleE9mKCctJykgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2b2x1bWUgPSB0aGlzLl9kZWZhdWx0Vm9sdW1lICsgcGFyc2VGbG9hdCh2b2x1bWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZvbHVtZSA9IHBhcnNlRmxvYXQodm9sdW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2b2x1bWUgPSB0aGlzLl9kZWZhdWx0Vm9sdW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9vcCA9IGxvb3AgfHwgZmFsc2U7XG4gICAgICAgIGZvcmNlUmVzdGFydCA9IGZvcmNlUmVzdGFydCA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nwcml0ZXNba2V5XS5wbGF5KG1hcmtlciwgdm9sdW1lKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zdG9wU3ByaXRlTWFya2VyKGtleTogc3RyaW5nLCBtYXJrZXI6IHN0cmluZyk6IGJvb2xlYW4gfCBQaGFzZXIuU291bmQge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX3Nwcml0ZXMgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB0aGlzLl9zcHJpdGVzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nwcml0ZXNba2V5XS5zdG9wKG1hcmtlcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc3RvcFNvdW5kKHNvdW5kOiBQaGFzZXIuU291bmQpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuIHNvdW5kLnN0b3AoKTtcbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgbWV0aG9kc1xuICAgIC8qKlxuICAgICogYWRkcyBhdWRpbyB0byB0aGUgbG9va3VwIChjYWxsZWQgYnkgQXNzZXRNYW5hZ2VyIHdoZW4gYW55IHNvdW5kIGlzIGxvYWRlZCwgdXN1YWxseSBub3QgbmVjZXNzYXJ5IHRvIGNhbGwgZnJvbSBhIGdhbWUpXG4gICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5ICAgICAgICAgdGhlIFBoYXNlci5DYWNoZSBrZXkgb2YgdGhlIGF1ZGlvIGFzc2V0XG4gICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQXVkaW9TcHJpdGUgd2hldGhlciB0aGUgYXNzZXQgaXMgYW4gYXVkaW8gc3ByaXRlXG4gICAgKi9cbiAgICBwdWJsaWMgYWRkQXVkaW8oa2V5OiBzdHJpbmcsIGlzQXVkaW9TcHJpdGU6IGJvb2xlYW4gPSBmYWxzZSk6IFBoYXNlci5BdWRpb1Nwcml0ZSB8IFBoYXNlci5Tb3VuZCB7XG4gICAgICAgIGlmIChpc0F1ZGlvU3ByaXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRBdWRpb1Nwcml0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFkZFNvdW5kKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBhZGRzIGEgc2luZ2xlIHNvdW5kIHRvIHRoZSBsb29rdXAgKHVzdWFsbHkgbm90IG5lY2Vzc2FyeSB0byBjYWxsIGZyb20gYSBnYW1lKVxuICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSB0aGUgUGhhc2VyLkNhY2hlIGtleSBvZiB0aGUgYXNzZXRcbiAgICAqIEByZXR1cm4ge1BoYXNlci5Tb3VuZH0gdGhlIGFkZGVkIHNvdW5kXG4gICAgKi9cbiAgICBwdWJsaWMgYWRkU291bmQoa2V5KTogUGhhc2VyLlNvdW5kIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9zb3VuZHNba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zb3VuZHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zb3VuZHNba2V5XSA9IHRoaXMuZ2FtZS5hZGQuYXVkaW8oa2V5KTtcbiAgICAgICAgdGhpcy5fc291bmRzW2tleV0uYWxsb3dNdWx0aXBsZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VuZHNba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIGFkZHMgYW4gYXVkaW8gc3ByaXRlIHRvIHRoZSBsb29rdXAgKHVzdWFsbHkgbm90IG5lY2Vzc2FyeSB0byBjYWxsIGZyb20gYSBnYW1lKVxuICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSB0aGUgUGhhc2VyLkNhY2hlIGtleSBvZiB0aGUgYXNzZXRcbiAgICAqIEByZXR1cm4ge1BoYXNlci5BdWRpb1Nwcml0ZX0gdGhlIGFkZGVkIGF1ZGlvIHNwcml0ZVxuICAgICovXG4gICAgcHVibGljIGFkZEF1ZGlvU3ByaXRlKGtleTogc3RyaW5nKTogUGhhc2VyLkF1ZGlvU3ByaXRlIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9zcHJpdGVzW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3ByaXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Nwcml0ZXNba2V5XSA9IDxQaGFzZXIuQXVkaW9TcHJpdGU+dGhpcy5fYWRkQXVkaW8oa2V5LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nwcml0ZXNba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIGEgZ2xvYmFsIG1ldGhvZCB0byBwbGF5IGEgc291bmQgLSB3aWxsIGNoZWNrIGF1ZGlvIHNwcml0ZSBtYXJrZXJzIGZvciB0aGUgcHJvdmlkZWQga2V5IGZpcnN0LCB0aGVuIHNpbmdsZSBzb3VuZHNcbiAgICAqIEBwYXJhbSAge1N0cmluZ30gbWFya2VyICAgICAgIHRoZSBzb3VuZCBtYXJrZXIgKG9yIGtleSkgdG8gY2hlY2sgZm9yXG4gICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHZvbHVtZSAgICAgICB0aGUgdm9sdW1lIGF0IHdoaWNoIHRvIHBsYXkgdGhlIHNvdW5kXG4gICAgKiBAcGFyYW0gIHtCb29sZWFufSBsb29wICAgICAgICAgd2hldGhlciB0aGUgc291bmQgc2hvdWxkIGxvb3AgKHdvbid0IHdvcmsgaWYgaXQncyBhIHNwcml0ZSBtYXJrZXIsIGFuZCBcImxvb3BcIiBoYXNuJ3QgYmVlbiBzZXQgaW4gdGhlIGF1ZGlvIHNwcml0ZSBkZXNjcmlwdG9yIGZpbGUpXG4gICAgKiBAcGFyYW0gIHtCb29sZWFufSBmb3JjZVJlc3RhcnQgd2hldGhlciB0byByZXN0YXJ0IHRoZSBzb3VuZCBpZiBpdCdzIGFscmVhZHkgcGxheWluZ1xuICAgICogQHJldHVybiB7UGhhc2VyLlNvdW5kfSAgICAgICAgICAgICAgdGhlIHBsYXlpbmcgc291bmRcbiAgICAqL1xuICAgIHB1YmxpYyBwbGF5QXVkaW8obWFya2VyOiBzdHJpbmcsIHZvbHVtZT86IG51bWJlciwgbG9vcDogYm9vbGVhbiA9IGZhbHNlLCBmb3JjZVJlc3RhcnQ6IGJvb2xlYW4gPSB0cnVlKTogUGhhc2VyLlNvdW5kIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldEtleUZyb21NYXJrZXJOYW1lKG1hcmtlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBsYXlTcHJpdGVNYXJrZXIobWFya2VyLCB2b2x1bWUsIGxvb3AsIGZvcmNlUmVzdGFydCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5U291bmQobWFya2VyLCB2b2x1bWUsIGxvb3AsIGZvcmNlUmVzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBjYWxscyBEaWpvbi5BdWRpb01hbmFnZXIucGxheUF1ZGlvIG9uIGEgZGVsYXlcbiAgICAqIEBwYXJhbSAge2ludH0gZGVsYXkgICAgICAgIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgdGhlIHNvdW5kXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IG1hcmtlciAgICAgICB0aGUgc291bmQgbWFya2VyIChvciBrZXkpIHRvIGNoZWNrIGZvclxuICAgICogQHBhcmFtICB7TnVtYmVyfSB2b2x1bWUgICAgICAgdGhlIHZvbHVtZSBhdCB3aGljaCB0byBwbGF5IHRoZSBzb3VuZFxuICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbG9vcCAgICAgICAgIHdoZXRoZXIgdGhlIHNvdW5kIHNob3VsZCBsb29wICh3b24ndCB3b3JrIGlmIGl0J3MgYSBzcHJpdGUgbWFya2VyLCBhbmQgXCJsb29wXCIgaGFzbid0IGJlZW4gc2V0IGluIHRoZSBhdWRpbyBzcHJpdGUgZGVzY3JpcHRvciBmaWxlKVxuICAgICogQHBhcmFtICB7Qm9vbGVhbn0gZm9yY2VSZXN0YXJ0IHdoZXRoZXIgdG8gcmVzdGFydCB0aGUgc291bmQgaWYgaXQncyBhbHJlYWR5IHBsYXlpbmdcbiAgICAqL1xuICAgIHB1YmxpYyBwbGF5RGVsYXllZEF1ZGlvKGRlbGF5OiBudW1iZXIsIG1hcmtlcjogc3RyaW5nLCB2b2x1bWU/OiBudW1iZXIsIGxvb3A6IGJvb2xlYW4gPSBmYWxzZSwgZm9yY2VSZXN0YXJ0OiBib29sZWFuID0gdHJ1ZSk6IFBoYXNlci5Tb3VuZCB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRLZXlGcm9tTWFya2VyTmFtZShtYXJrZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wbGF5RGVsYXllZFNwcml0ZU1hcmtlcihkZWxheSwgbWFya2VyLCB2b2x1bWUsIGxvb3AsIGZvcmNlUmVzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGxheURlbGF5ZWRTb3VuZChkZWxheSwgbWFya2VyLCB2b2x1bWUsIGxvb3AsIGZvcmNlUmVzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBwbGF5cyBhIHNpbmdsZSBzb3VuZFxuICAgICogQHBhcmFtICB7U3RyaW5nfSBrZXkgICAgICAgICAgdGhlIFBoYXNlci5DYWNoZSBrZXkgZm9yIHRoZSBzb3VuZFxuICAgICogQHBhcmFtICB7TnVtYmVyfSB2b2x1bWUgICAgICAgdGhlIHZvbHVtZSBhdCB3aGljaCB0byBwbGF5IHRoZSBzb3VuZFxuICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbG9vcCAgICAgICAgIHdoZXRoZXIgdGhlIHNvdW5kIHNob3VsZCBsb29wICh3b24ndCB3b3JrIGlmIGl0J3MgYSBzcHJpdGUgbWFya2VyLCBhbmQgXCJsb29wXCIgaGFzbid0IGJlZW4gc2V0IGluIHRoZSBhdWRpbyBzcHJpdGUgZGVzY3JpcHRvciBmaWxlKVxuICAgICogQHBhcmFtICB7Qm9vbGVhbn0gZm9yY2VSZXN0YXJ0IHdoZXRoZXIgdG8gcmVzdGFydCB0aGUgc291bmQgaWYgaXQncyBhbHJlYWR5IHBsYXlpbmdcbiAgICAqIEByZXR1cm4ge1BoYXNlci5Tb3VuZH0gdGhlIHBsYXlpbmcgc291bmRcbiAgICAqL1xuICAgIHB1YmxpYyBwbGF5U291bmQoa2V5OiBzdHJpbmcsIHZvbHVtZT86IG51bWJlciwgbG9vcDogYm9vbGVhbiA9IGZhbHNlLCBmb3JjZVJlc3RhcnQ6IGJvb2xlYW4gPSB0cnVlKTogUGhhc2VyLlNvdW5kIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9zb3VuZHNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZvbHVtZSA9IHR5cGVvZiB2b2x1bWUgPT09ICd1bmRlZmluZWQnID8gdGhpcy5fZGVmYXVsdFZvbHVtZSA6IHZvbHVtZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fc291bmRzW2tleV0ucGxheShcIlwiLCAwLCB2b2x1bWUsIGxvb3AsIGZvcmNlUmVzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBwbGF5cyBhIG1hcmtlciBmcm9tIGFuIGF1ZGlvIHNwcml0ZVxuICAgICogQHBhcmFtICB7U3RyaW5nfSBtYXJrZXIgICAgICAgdGhlIG1hcmtlciB0byBjaGVjayBmb3IgKHdpbGwgY2hlY2sgYWxsIGF1ZGlvIHNwcml0ZXMpXG4gICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHZvbHVtZSAgICAgICB0aGUgdm9sdW1lIGF0IHdoaWNoIHRvIHBsYXkgdGhlIHNvdW5kXG4gICAgKiBAcGFyYW0gIHtCb29sZWFufSBsb29wICAgICAgICAgd2hldGhlciB0aGUgc291bmQgc2hvdWxkIGxvb3AgKHdvbid0IHdvcmsgaWYgaXQncyBhIHNwcml0ZSBtYXJrZXIsIGFuZCBcImxvb3BcIiBoYXNuJ3QgYmVlbiBzZXQgaW4gdGhlIGF1ZGlvIHNwcml0ZSBkZXNjcmlwdG9yIGZpbGUpXG4gICAgKiBAcGFyYW0gIHtCb29sZWFufSBmb3JjZVJlc3RhcnQgd2hldGhlciB0byByZXN0YXJ0IHRoZSBzb3VuZCBpZiBpdCdzIGFscmVhZHkgcGxheWluZ1xuICAgICogQHJldHVybiB7UGhhc2VyLlNvdW5kfSB0aGUgcGxheWluZyBzb3VuZFxuICAgICovXG4gICAgcHVibGljIHBsYXlTcHJpdGVNYXJrZXIobWFya2VyOiBzdHJpbmcsIHZvbHVtZT86IG51bWJlciwgbG9vcDogYm9vbGVhbiA9IGZhbHNlLCBmb3JjZVJlc3RhcnQ6IGJvb2xlYW4gPSB0cnVlKTogUGhhc2VyLlNvdW5kIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5fZ2V0S2V5RnJvbU1hcmtlck5hbWUobWFya2VyKTtcblxuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ21hcmtlciBub3QgZm91bmQnLCBtYXJrZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fcGxheVNwcml0ZU1hcmtlcig8c3RyaW5nPmtleSwgbWFya2VyLCB2b2x1bWUsIGxvb3AsIGZvcmNlUmVzdGFydCk7XG4gICAgfVxuXG4gICAgcHVibGljIHBsYXlEZWxheWVkU291bmQoZGVsYXk6IG51bWJlciwga2V5OiBzdHJpbmcsIHZvbHVtZT86IG51bWJlciwgbG9vcDogYm9vbGVhbiA9IGZhbHNlLCBmb3JjZVJlc3RhcnQ6IGJvb2xlYW4gPSB0cnVlKTogUGhhc2VyLlNvdW5kIHtcbiAgICAgICAgdGhpcy5nYW1lLnRpbWUuZXZlbnRzLmFkZChkZWxheSwgdGhpcy5wbGF5U291bmQsIHRoaXMsIGtleSwgdm9sdW1lLCBsb29wLCBmb3JjZVJlc3RhcnQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheURlbGF5ZWRTcHJpdGVNYXJrZXIoZGVsYXk6IG51bWJlciwgbWFya2VyOiBzdHJpbmcsIHZvbHVtZT86IG51bWJlciwgbG9vcDogYm9vbGVhbiA9IGZhbHNlLCBmb3JjZVJlc3RhcnQ6IGJvb2xlYW4gPSB0cnVlKTogUGhhc2VyLlNvdW5kIHtcbiAgICAgICAgdGhpcy5nYW1lLnRpbWUuZXZlbnRzLmFkZChkZWxheSwgdGhpcy5wbGF5U3ByaXRlTWFya2VyLCB0aGlzLCBtYXJrZXIsIHZvbHVtZSwgbG9vcCwgZm9yY2VSZXN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBzdG9wcyBhbnkgcGxheWluZyBhdWRpbyBmaWxlIHdpdGggdGhlIGdpdmVuIG1hcmtlclxuICAgICogY2hlY2tzIGF1ZGlvIHNwcml0ZXMgZmlyc3QsIHRoZW4gc2luZ2xlIHNvdW5kc1xuICAgICogQHJldHVybiB7UGhhc2VyLlNvdW5kfSB0aGUgc291bmQgdGhhdCB3YXMgc3RvcHBlZFxuICAgICovXG4gICAgcHVibGljIHN0b3BBdWRpbyhtYXJrZXI6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fZ2V0S2V5RnJvbU1hcmtlck5hbWUobWFya2VyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcFNwcml0ZU1hcmtlcihtYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3BTb3VuZChtYXJrZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogc3RvcHMgYSBzaW5nbGUgc291bmQgZnJvbSBwbGF5aW5nXG4gICAgKiBAcmV0dXJuIHtQaGFzZXIuU291bmR9IHRoZSBzb3VuZCB0aGF0IHdhcyBzdG9wcGVkXG4gICAgKi9cbiAgICBwdWJsaWMgc3RvcFNvdW5kKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fc291bmRzID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdGhpcy5fc291bmRzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdW5kc1trZXldLnN0b3AoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHN0b3BzIGEgc2luZ2xlIHNvdW5kIGZyb20gcGxheWluZ1xuICAgICogQHJldHVybiB7UGhhc2VyLlNvdW5kfSB0aGUgc291bmQgdGhhdCB3YXMgc3RvcHBlZFxuICAgICovXG4gICAgcHVibGljIHN0b3BTcHJpdGVNYXJrZXIobWFya2VyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdmFyIGtleSA9IHRoaXMuX2dldEtleUZyb21NYXJrZXJOYW1lKG1hcmtlcik7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbWFya2VyIG5vdCBmb3VuZCcsIG1hcmtlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcFNwcml0ZU1hcmtlcig8c3RyaW5nPmtleSwgbWFya2VyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHN0b3BzIHJlbW92ZXMgYSBzb3VuZCBmcm9tIERpam9uLkF1ZGlvTWFuYWdlcidzIGxvb2t1cFxuICAgICogQHBhcmFtICB7U3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgc291bmQgdG8gYmUgcmVtb3ZlZFxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgIHB1YmxpYyByZW1vdmVTb3VuZChrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9zb3VuZHMgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB0aGlzLl9zb3VuZHNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc291bmRzW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcFNvdW5kKGtleSk7XG4gICAgICAgICAgICB0aGlzLl9zb3VuZHNba2V5XS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc291bmRzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAqIHN0b3BzIHJlbW92ZXMgYW4gYXVkaW8gc3ByaXRlIGZyb20gRGlqb24uQXVkaW9NYW5hZ2VyJ3MgbG9va3VwXG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9IGtleSB0aGUga2V5IG9mIHRoZSBzb3VuZCB0byBiZSByZW1vdmVkXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICAgcHVibGljIHJlbW92ZVNwcml0ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX3Nwcml0ZXMgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB0aGlzLl9zcHJpdGVzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wU3ByaXRlTWFya2VyKGtleSk7XG4gICAgICAgIHRoaXMuX3Nwcml0ZXNba2V5XSA9IG51bGw7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zcHJpdGVzW2tleV07XG4gICAgfVxuXG4gICAgcHVibGljIGZhZGUoc291bmQ6IFBoYXNlci5Tb3VuZCwgdm9sdW1lOiBudW1iZXIsIHRpbWU6IG51bWJlciwgc3RvcDogYm9vbGVhbiA9IGZhbHNlKTogUGhhc2VyLlR3ZWVuIHtcbiAgICAgICAgaWYgKCFzb3VuZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAoc291bmQuZmFkZVR3ZWVuICYmIHNvdW5kLmZhZGVUd2VlbilcbiAgICAgICAgICAgIHRoaXMuZ2FtZS50d2VlbnMucmVtb3ZlKHNvdW5kLmZhZGVUd2Vlbik7XG5cbiAgICAgICAgc291bmQuZmFkZVR3ZWVuID0gdGhpcy5nYW1lLmFkZC50d2Vlbihzb3VuZCkudG8oe1xuICAgICAgICAgICAgdm9sdW1lOiB2b2x1bWVcbiAgICAgICAgfSwgdGltZSB8fCAzMDAsIFBoYXNlci5FYXNpbmcuTGluZWFyLk5vbmUpO1xuXG4gICAgICAgIGlmIChzdG9wID09PSB0cnVlKVxuICAgICAgICAgICAgc291bmQuZmFkZVR3ZWVuLm9uQ29tcGxldGUuYWRkT25jZShmdW5jdGlvbiAoKSB7IHRoaXMuX3N0b3BTb3VuZChzb3VuZCkgfSwgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIHNvdW5kLmZhZGVUd2Vlbi5zdGFydCgpO1xuICAgIH1cblxuICAgIC8vIGdldHRlciAvIHNldHRlclxuICAgIC8qKlxuICAgICogU2V0cyB0aGUgZGVmYXVsdCB2b2x1bWUgZm9yIGFsbCBzb3VuZHMgKHVzZWQgaW4gdGhlIGNhc2Ugd2hlcmUgYSB2b2x1bWUgaXMgbm90IHN1cHBsaWVkIHRvIHRoZSBwbGF5QXVkaW8sIHBsYXlTb3VuZCwgb3IgcGxheVNwcml0ZU1hcmtlciBtZXRob2RzKVxuICAgICovXG4gICAgcHVibGljIHNldCBkZWZhdWx0Vm9sdW1lKHZvbDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRWb2x1bWUgPSB2b2w7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkZWZhdWx0Vm9sdW1lKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0Vm9sdW1lO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHYW1lIFxuICovXG5leHBvcnQgY2xhc3MgR2FtZSBleHRlbmRzIFBoYXNlci5HYW1lIHtcbiAgICAvLyBwdWJsaWMgdmFyaWFibGVzXG4gICAgLy8gYXBwbGljYXRpb25cbiAgICBwdWJsaWMgYXBwOiBBcHBsaWNhdGlvbjtcbiAgICBwdWJsaWMgY29uZmlnOiBJR2FtZUNvbmZpZztcblxuICAgIC8vIG1hbmFnZXJzXG4gICAgcHVibGljIGFzc2V0OiBBc3NldE1hbmFnZXI7XG4gICAgcHVibGljIHNlcXVlbmNlOiBTZXF1ZW5jZU1hbmFnZXI7XG4gICAgcHVibGljIHRyYW5zaXRpb246IFRyYW5zaXRpb25NYW5hZ2VyO1xuICAgIHB1YmxpYyBzdG9yYWdlOiBTdG9yYWdlTWFuYWdlcjtcbiAgICBwdWJsaWMgYXVkaW86IEF1ZGlvTWFuYWdlcjtcbiAgICBwdWJsaWMgYW5hbHl0aWNzOiBBbmFseXRpY3NNYW5hZ2VyO1xuICAgIHB1YmxpYyBhZGQ6IEdhbWVPYmplY3RGYWN0b3J5O1xuXG4gICAgLy8gc2lnbmFsc1xuICAgIHB1YmxpYyBvbldvcmxkSW5wdXREaXNhYmxlZDogUGhhc2VyLlNpZ25hbCA9IG5ldyBQaGFzZXIuU2lnbmFsKCk7XG4gICAgcHVibGljIG9uV29ybGRJbnB1dEVuYWJsZWQ6IFBoYXNlci5TaWduYWwgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuXG4gICAgLy8gZGlzcGxheSBsYXllcnNcbiAgICBwdWJsaWMgYmFja2dyb3VuZExheWVyOiBHcm91cDtcbiAgICBwdWJsaWMgZ2FtZUxheWVyOiBHcm91cDtcbiAgICBwdWJsaWMgdWlMYXllcjogR3JvdXA7XG4gICAgcHVibGljIHN0YWdlTGF5ZXI6IEdyb3VwO1xuXG4gICAgLy8gUGhhc2VyLkdhbWUgb3ZlcnJpZGVzXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBJR2FtZUNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBib290KCkge1xuICAgICAgICBzdXBlci5ib290KCk7XG5cbiAgICAgICAgdGhpcy5hcHAgPSBBcHBsaWNhdGlvbi5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIC8vIGFkZCBtYW5hZ2Vyc1xuICAgICAgICB0aGlzLmFzc2V0ID0gbmV3IEFzc2V0TWFuYWdlcigpO1xuICAgICAgICB0aGlzLnNlcXVlbmNlID0gbmV3IFNlcXVlbmNlTWFuYWdlcigpO1xuICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSBuZXcgVHJhbnNpdGlvbk1hbmFnZXIoKTtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gbmV3IFN0b3JhZ2VNYW5hZ2VyKCk7XG4gICAgICAgIHRoaXMuYXVkaW8gPSBuZXcgQXVkaW9NYW5hZ2VyKCk7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzID0gbmV3IEFuYWx5dGljc01hbmFnZXIodGhpcy5jb25maWcuYW5hbHl0aWNzKTtcblxuICAgICAgICAvLyByZXBsYWNlIFBoYXNlci5HYW1lT2JqZWN0RmFjdG9yeVxuICAgICAgICB0aGlzLmFkZCA9IG51bGw7XG4gICAgICAgIHRoaXMuYWRkID0gbmV3IEdhbWVPYmplY3RGYWN0b3J5KHRoaXMpO1xuICAgICAgICB0aGlzLmFkZExheWVycygpO1xuICAgICAgICB0aGlzLmFkZE1vdXNlQ2FsbGJhY2tzKCk7XG4gICAgICAgIHRoaXMuc2V0RmFjdG9yeURlZmF1bHRMYXllcih0aGlzLmdhbWVMYXllcik7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFBsdWdpbnMoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5wbHVnaW5zICYmIHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5jb25maWcucGx1Z2lucy5mb3JFYWNoKHBsdWdpbk5hbWUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgUGhhc2VyLlBsdWdpbltwbHVnaW5OYW1lXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZC5wbHVnaW4oUGhhc2VyLlBsdWdpbltwbHVnaW5OYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZSB0aGlzLndvcmxkIGFzIHRoZSBkZWZhdWx0IGxheWVyIHRoYXQgXG4gICAgLy8gLmFkZCBjYWxscyB3aWxsIGJlIGNyZWF0ZWQgb24uXG4gICAgcHVibGljIHNldEZhY3RvcnlEZWZhdWx0TGF5ZXIobmV3TGF5ZXI6IFBoYXNlci5Hcm91cCkge1xuICAgICAgICB0aGlzLmFkZC5zZXREZWZhdWx0TGF5ZXIobmV3TGF5ZXIgfHwgdGhpcy53b3JsZCk7XG4gICAgfVxuICAgIC8vIHByaXZhdGUgbWV0aG9kc1xuICAgIHByb3RlY3RlZCBhZGRMYXllcnMoKTogdm9pZCB7XG4gICAgICAgIC8vIGFkZHMgcGVyc2lzdGVudCBiYWNrZ3JvdW5kIGxheWVyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZExheWVyID0gdGhpcy5hZGQuZEdyb3VwKDAsIDAsICdfYmFja2dyb3VuZF9sYXllcicsIHRydWUpO1xuICAgICAgICB0aGlzLnN0YWdlLnNldENoaWxkSW5kZXgodGhpcy5iYWNrZ3JvdW5kTGF5ZXIsIDApO1xuXG4gICAgICAgIC8vIGFkZHMgZ2FtZSBhbmQgdWkgbGF5ZXJzXG4gICAgICAgIHRoaXMuZ2FtZUxheWVyID0gdGhpcy5hZGQuZEdyb3VwKDAsIDAsICdfZ2FtZV9sYXllcicpO1xuICAgICAgICAvLyBhZGQgdWkgbGF5ZXIgYW5kIHNldCB0aGUgXCJmaXhlZFRvQ2FtZXJhXCIgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAgICAvLyBpZiB0aGUgZ2FtZSdzIGNhbWVyYSBtb3ZlcywgYW55dGhpbmcgaW4gdGhpcyBncm91cCB3aWxsIHN0YXkgaW4gcGxhY2VcbiAgICAgICAgdGhpcy51aUxheWVyID0gdGhpcy5hZGQuZEdyb3VwKDAsIDAsICdfdWlfbGF5ZXInKTtcbiAgICAgICAgdGhpcy51aUxheWVyLmZpeGVkVG9DYW1lcmEgPSB0cnVlO1xuXG4gICAgICAgIC8vIGFkZCBhIGdyb3VwIHRvIHRoZSBQaGFzZXIuU3RhZ2UgKGp1c3QgaW4gY2FzZSlcbiAgICAgICAgdGhpcy5zdGFnZUxheWVyID0gdGhpcy5hZGQuZEdyb3VwKDAsIDAsICdfc3RhZ2VfbGF5ZXInLCB0cnVlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWRkTW91c2VDYWxsYmFja3MoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmRldmljZS5kZXNrdG9wKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0Lm1vdXNlLm1vdXNlT3ZlckNhbGxiYWNrID0gdGhpcy5tb3VzZU92ZXI7XG4gICAgICAgICAgICB0aGlzLmlucHV0Lm1vdXNlLm1vdXNlT3V0Q2FsbGJhY2sgPSB0aGlzLm1vdXNlT3V0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG1vdXNlT3V0KCk6IHZvaWQge1xuICAgICAgICBBcHBsaWNhdGlvbi5nZXRJbnN0YW5jZSgpLnNlbmROb3RpZmljYXRpb24oTm90aWZpY2F0aW9ucy5NT1VTRV9MRUFWRV9HTE9CQUwpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBtb3VzZU92ZXIoKTogdm9pZCB7XG4gICAgICAgIEFwcGxpY2F0aW9uLmdldEluc3RhbmNlKCkuc2VuZE5vdGlmaWNhdGlvbihOb3RpZmljYXRpb25zLk1PVVNFX0VOVEVSX0dMT0JBTCk7XG4gICAgfVxuXG4gICAgLy8gcHVibGljIG1ldGhvZHNcbiAgICBwdWJsaWMgZGlzYWJsZUVsZW1lbnRJbnB1dChlbDogYW55KTogYW55IHtcbiAgICAgICAgaWYgKGVsLmlucHV0ICYmIGVsLmlucHV0RW5hYmxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZWwud2FzRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBlbC5pbnB1dEVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZUVsZW1lbnRJbnB1dChlbC5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZW5hYmxlRWxlbWVudElucHV0KGVsOiBhbnkpOiBhbnkge1xuICAgICAgICBpZiAoZWwuaW5wdXQgJiYgZWwuaW5wdXRFbmFibGVkID09PSBmYWxzZSAmJiBlbC53YXNFbmFibGVkKSB7XG4gICAgICAgICAgICBlbC53YXNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBlbC5pbnB1dEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmFibGVFbGVtZW50SW5wdXQoZWwuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGRpc2FibGVJbnB1dChncm91cDogUGhhc2VyLkdyb3VwKTogYW55IHtcbiAgICAgICAgcmV0dXJuIGdyb3VwLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoZWwgaW5zdGFuY2VvZiBQaGFzZXIuR3JvdXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kaXNhYmxlSW5wdXQoZWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kaXNhYmxlRWxlbWVudElucHV0KGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGVuYWJsZUlucHV0KGdyb3VwOiBQaGFzZXIuR3JvdXApOiBhbnkge1xuICAgICAgICByZXR1cm4gZ3JvdXAuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbCBpbnN0YW5jZW9mIFBoYXNlci5Hcm91cCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuYWJsZUlucHV0KGVsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlRWxlbWVudElucHV0KGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc2FibGVHYW1lSW5wdXQoKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUlucHV0KHRoaXMuZ2FtZUxheWVyKTtcbiAgICAgICAgdGhpcy5vbldvcmxkSW5wdXREaXNhYmxlZC5kaXNwYXRjaCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBlbmFibGVHYW1lSW5wdXQoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlSW5wdXQodGhpcy5nYW1lTGF5ZXIpO1xuICAgICAgICB0aGlzLm9uV29ybGRJbnB1dEVuYWJsZWQuZGlzcGF0Y2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZW1vdmVzIGFsbCBpdGVtcyBmcm9tIHRoZSBnYW1lIGxheWVyXG4gICAgICogYnV0IGFsbG93cyB0aGUgdWkgbGF5ZXIgdG8gcGVyc2lzdFxuICAgICAqIHRoYXQgd2F5IHdlIGNhbiBvdmVybGF5IHRoZSBnYW1lIHdpdGhvdXQgYWRkaW5nIHN0dWZmIHRvIHRoZSBwaGFzZXIgc3RhZ2UgKGZvciB0cmFuc2l0aW9ucylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG9TdGF0ZSB0aGUgbmV3IHN0YXRlIHdlJ3JlIGNoYW5naW5nIHRvXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBwdWJsaWMgY2hhbmdlU3RhdGUodG9TdGF0ZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZ2FtZUxheWVyLnJlbW92ZUFsbCh0cnVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc3RhcnQodG9TdGF0ZSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBnZXR0ZXIgLyBzZXR0ZXJcbiAgICAvKipcbiAgICAgKiBzZXRzIHRoZSB0YXJnZXQgZ3JvdXAgZm9yIHRoZSBnYW1lT2JqZWN0RmFjdG9yeSB0byBnYW1lTGF5ZXIgYmVmb3JlIGFkZGluZyBcbiAgICAgKiB0aGlzIHdheSBpZiB3ZSBwYXNzIGEgbnVsbCBncm91cCB0byB3aGF0ZXZlciBtZXRob2Qgd2UgY2FsbCBcbiAgICAgKiBpZSAodGhpcy5nYW1lLmFkZFRvR2FtZS5pbWFnZSgwLCAwLCBrZXksIGZyYW1lKSk7XG4gICAgICogaXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgYXBwcm9wcmlhdGUgbGF5ZXJcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGFkZFRvR2FtZSgpOiBHYW1lT2JqZWN0RmFjdG9yeSB7XG4gICAgICAgIHRoaXMuYWRkLnRhcmdldEdyb3VwID0gdGhpcy5nYW1lTGF5ZXI7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZXRzIHRoZSB0YXJnZXQgZ3JvdXAgZm9yIHRoZSBnYW1lT2JqZWN0RmFjdG9yeSB0byB1aUxheWVyIGJlZm9yZSBhZGRpbmcgXG4gICAgICogdGhpcyB3YXkgaWYgd2UgcGFzcyBhIG51bGwgZ3JvdXAgdG8gd2hhdGV2ZXIgbWV0aG9kIHdlIGNhbGwgXG4gICAgICogaWUgKHRoaXMuZ2FtZS5hZGRUb1VJLmltYWdlKDAsIDAsIGtleSwgZnJhbWUpKTtcbiAgICAgKiBpdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBhcHByb3ByaWF0ZSBsYXllclxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgYWRkVG9CYWNrZ3JvdW5kKCk6IEdhbWVPYmplY3RGYWN0b3J5IHtcbiAgICAgICAgdGhpcy5hZGQudGFyZ2V0R3JvdXAgPSB0aGlzLmJhY2tncm91bmRMYXllcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkO1xuICAgIH1cblxuXG4gICAgcHVibGljIGdldCBhZGRUb1VJKCk6IEdhbWVPYmplY3RGYWN0b3J5IHtcbiAgICAgICAgLy8gc2V0IHRoZSB0YXJnZXQgZ3JvdXAgZm9yIHRoZSBnYW1lT2JqZWN0RmFjdG9yeSBiZWZvcmUgYWRkaW5nXG4gICAgICAgIHRoaXMuYWRkLnRhcmdldEdyb3VwID0gdGhpcy51aUxheWVyO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBhZGRUb1N0YWdlKCk6IEdhbWVPYmplY3RGYWN0b3J5IHtcbiAgICAgICAgLy8gc2V0IHRoZSB0YXJnZXQgZ3JvdXAgZm9yIHRoZSBnYW1lT2JqZWN0RmFjdG9yeSBiZWZvcmUgYWRkaW5nXG4gICAgICAgIHRoaXMuYWRkLnRhcmdldEdyb3VwID0gdGhpcy5zdGFnZUxheWVyO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBhZGRUb1dvcmxkKCk6IEdhbWVPYmplY3RGYWN0b3J5IHtcbiAgICAgICAgLy8gc2V0IHRoZSB0YXJnZXQgZ3JvdXAgZm9yIHRoZSBnYW1lT2JqZWN0RmFjdG9yeSBiZWZvcmUgYWRkaW5nXG4gICAgICAgIHRoaXMuYWRkLnRhcmdldEdyb3VwID0gdGhpcy53b3JsZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHYW1lT2JqZWN0RmFjdG9yeVxuICovXG5cbmV4cG9ydCBjbGFzcyBHYW1lT2JqZWN0RmFjdG9yeSBleHRlbmRzIFBoYXNlci5HYW1lT2JqZWN0RmFjdG9yeSB7XG4gICAgLy8gVGhlIGxheWVyIHRoZSBjdXJyZW50IG9iamVjdCB3aWxsIGJlIGFkZGVkIHRvLiBUaGlzIGlzIHVzZWQgYnkgaGVscGVyIGZ1bmN0aW9ucyBpbiBHYW1lLnRzLlxuICAgIHByb3RlY3RlZCBfdGFyZ2V0R3JvdXA6IFBoYXNlci5Hcm91cCA9IG51bGw7XG5cbiAgICAvLyBUaGlzIGlzIHRoZSBsYXllciB0aGF0IHN0YW5kYXJkIC5hZGQgY2FsbHMgd2lsbCBiZSBhcHBsaWVkIHRvLlxuICAgIHByb3RlY3RlZCBfZGVmYXVsdExheWVyOiBQaGFzZXIuR3JvdXAgPSB0aGlzLndvcmxkO1xuXG4gICAgLy8gb3ZlcnJpZGVzXG4gICAgLyoqXG4gICAgKiBBZGRzIGFuIGV4aXN0aW5nIGRpc3BsYXkgb2JqZWN0IHRvIHRoZSBnYW1lIHdvcmxkLlxuICAgICogXG4gICAgKiBAbWV0aG9kIFBoYXNlci5HYW1lT2JqZWN0RmFjdG9yeSNleGlzdGluZ1xuICAgICogQHBhcmFtIHthbnl9IG9iamVjdCAtIEFuIGluc3RhbmNlIG9mIFBoYXNlci5TcHJpdGUsIFBoYXNlci5CdXR0b24gb3IgYW55IG90aGVyIGRpc3BsYXkgb2JqZWN0LlxuICAgICogQHJldHVybiB7YW55fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQgdG8gdGhlIFdvcmxkLlxuICAgICovXG4gICAgcHVibGljIGV4aXN0aW5nKG9iamVjdCk6IGFueSB7XG4gICAgICAgIGxldCBncm91cCA9IHRoaXMudGFyZ2V0R3JvdXA7XG4gICAgICAgIHRoaXMudGFyZ2V0R3JvdXAgPSBudWxsO1xuICAgICAgICByZXR1cm4gZ3JvdXAuYWRkKG9iamVjdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IGBJbWFnZWAgb2JqZWN0LlxuICAgICogXG4gICAgKiBBbiBJbWFnZSBpcyBhIGxpZ2h0LXdlaWdodCBvYmplY3QgeW91IGNhbiB1c2UgdG8gZGlzcGxheSBhbnl0aGluZyB0aGF0IGRvZXNuJ3QgbmVlZCBwaHlzaWNzIG9yIGFuaW1hdGlvbi5cbiAgICAqIFxuICAgICogSXQgY2FuIHN0aWxsIHJvdGF0ZSwgc2NhbGUsIGNyb3AgYW5kIHJlY2VpdmUgaW5wdXQgZXZlbnRzLiBcbiAgICAqIFRoaXMgbWFrZXMgaXQgcGVyZmVjdCBmb3IgbG9nb3MsIGJhY2tncm91bmRzLCBzaW1wbGUgYnV0dG9ucyBhbmQgb3RoZXIgbm9uLVNwcml0ZSBncmFwaGljcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5HYW1lT2JqZWN0RmFjdG9yeSNpbWFnZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgSW1hZ2UuIFRoZSBjb29yZGluYXRlIGlzIHJlbGF0aXZlIHRvIGFueSBwYXJlbnQgY29udGFpbmVyIHRoaXMgSW1hZ2UgbWF5IGJlIGluLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgSW1hZ2UuIFRoZSBjb29yZGluYXRlIGlzIHJlbGF0aXZlIHRvIGFueSBwYXJlbnQgY29udGFpbmVyIHRoaXMgSW1hZ2UgbWF5IGJlIGluLlxuICAgICogQHBhcmFtIHtzdHJpbmd8UGhhc2VyLlJlbmRlclRleHR1cmV8UGhhc2VyLkJpdG1hcERhdGF8UGhhc2VyLlZpZGVvfFBJWEkuVGV4dHVyZX0gW2tleV0gLSBUaGUgaW1hZ2UgdXNlZCBhcyBhIHRleHR1cmUgYnkgdGhpcyBkaXNwbGF5IG9iamVjdCBkdXJpbmcgcmVuZGVyaW5nLiBJZiBhIHN0cmluZyBQaGFzZXIgd2lsbCBnZXQgZm9yIGFuIGVudHJ5IGluIHRoZSBJbWFnZSBDYWNoZS4gT3IgaXQgY2FuIGJlIGFuIGluc3RhbmNlIG9mIGEgUmVuZGVyVGV4dHVyZSwgQml0bWFwRGF0YSwgVmlkZW8gb3IgUElYSS5UZXh0dXJlLlxuICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbZnJhbWVdIC0gSWYgYSBUZXh0dXJlIEF0bGFzIG9yIFNwcml0ZSBTaGVldCBpcyB1c2VkIHRoaXMgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRoZSBmcmFtZSB0byBiZSB1c2VkLiBVc2UgZWl0aGVyIGFuIGludGVnZXIgZm9yIGEgRnJhbWUgSUQgb3IgYSBzdHJpbmcgZm9yIGEgZnJhbWUgbmFtZS5cbiAgICAqIEBwYXJhbSB7UGhhc2VyLkdyb3VwfSBbZ3JvdXBdIC0gT3B0aW9uYWwgR3JvdXAgdG8gYWRkIHRoZSBvYmplY3QgdG8uIElmIG5vdCBzcGVjaWZpZWQgaXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgV29ybGQgZ3JvdXAuXG4gICAgKiBAcmV0dXJucyB7UGhhc2VyLkltYWdlfSBUaGUgbmV3bHkgY3JlYXRlZCBJbWFnZSBvYmplY3QuXG4gICAgKi9cbiAgICBwdWJsaWMgaW1hZ2UoeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCwga2V5Pzogc3RyaW5nIHwgUGhhc2VyLlJlbmRlclRleHR1cmUgfCBQaGFzZXIuQml0bWFwRGF0YSB8IFBJWEkuVGV4dHVyZSwgZnJhbWU/OiBzdHJpbmcgfCBudW1iZXIsIGdyb3VwPzogUGhhc2VyLkdyb3VwKTogUGhhc2VyLkltYWdlIHtcbiAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHsgZ3JvdXAgPSB0aGlzLnRhcmdldEdyb3VwOyB9XG4gICAgICAgIHRoaXMudGFyZ2V0R3JvdXAgPSBudWxsO1xuICAgICAgICByZXR1cm4gZ3JvdXAuYWRkKG5ldyBQaGFzZXIuSW1hZ2UodGhpcy5nYW1lLCB4LCB5LCBrZXksIGZyYW1lKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBDcmVhdGUgYSBuZXcgU3ByaXRlIHdpdGggc3BlY2lmaWMgcG9zaXRpb24gYW5kIHNwcml0ZSBzaGVldCBrZXkuXG4gICAgKlxuICAgICogQXQgaXRzIG1vc3QgYmFzaWMgYSBTcHJpdGUgY29uc2lzdHMgb2YgYSBzZXQgb2YgY29vcmRpbmF0ZXMgYW5kIGEgdGV4dHVyZSB0aGF0IGlzIHVzZWQgd2hlbiByZW5kZXJlZC5cbiAgICAqIFRoZXkgYWxzbyBjb250YWluIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhbGxvd2luZyBmb3IgcGh5c2ljcyBtb3Rpb24gKHZpYSBTcHJpdGUuYm9keSksIGlucHV0IGhhbmRsaW5nICh2aWEgU3ByaXRlLmlucHV0KSxcbiAgICAqIGV2ZW50cyAodmlhIFNwcml0ZS5ldmVudHMpLCBhbmltYXRpb24gKHZpYSBTcHJpdGUuYW5pbWF0aW9ucyksIGNhbWVyYSBjdWxsaW5nIGFuZCBtb3JlLiBQbGVhc2Ugc2VlIHRoZSBFeGFtcGxlcyBmb3IgdXNlIGNhc2VzLlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLkdhbWVPYmplY3RGYWN0b3J5I3Nwcml0ZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc3ByaXRlLiBUaGUgY29vcmRpbmF0ZSBpcyByZWxhdGl2ZSB0byBhbnkgcGFyZW50IGNvbnRhaW5lciB0aGlzIHNwcml0ZSBtYXkgYmUgaW4uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgeSBjb29yZGluYXRlIG9mIHRoZSBzcHJpdGUuIFRoZSBjb29yZGluYXRlIGlzIHJlbGF0aXZlIHRvIGFueSBwYXJlbnQgY29udGFpbmVyIHRoaXMgc3ByaXRlIG1heSBiZSBpbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfFBoYXNlci5SZW5kZXJUZXh0dXJlfFBoYXNlci5CaXRtYXBEYXRhfFBoYXNlci5WaWRlb3xQSVhJLlRleHR1cmV9IFtrZXldIC0gVGhlIGltYWdlIHVzZWQgYXMgYSB0ZXh0dXJlIGJ5IHRoaXMgZGlzcGxheSBvYmplY3QgZHVyaW5nIHJlbmRlcmluZy4gSWYgYSBzdHJpbmcgUGhhc2VyIHdpbGwgZ2V0IGZvciBhbiBlbnRyeSBpbiB0aGUgSW1hZ2UgQ2FjaGUuIE9yIGl0IGNhbiBiZSBhbiBpbnN0YW5jZSBvZiBhIFJlbmRlclRleHR1cmUsIEJpdG1hcERhdGEsIFZpZGVvIG9yIFBJWEkuVGV4dHVyZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW2ZyYW1lXSAtIElmIGEgVGV4dHVyZSBBdGxhcyBvciBTcHJpdGUgU2hlZXQgaXMgdXNlZCB0aGlzIGFsbG93cyB5b3UgdG8gc3BlY2lmeSB0aGUgZnJhbWUgdG8gYmUgdXNlZC4gVXNlIGVpdGhlciBhbiBpbnRlZ2VyIGZvciBhIEZyYW1lIElEIG9yIGEgc3RyaW5nIGZvciBhIGZyYW1lIG5hbWUuXG4gICAgKiBAcGFyYW0ge1BoYXNlci5Hcm91cH0gW2dyb3VwXSAtIE9wdGlvbmFsIEdyb3VwIHRvIGFkZCB0aGUgb2JqZWN0IHRvLiBJZiBub3Qgc3BlY2lmaWVkIGl0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIFdvcmxkIGdyb3VwLlxuICAgICogQHJldHVybnMge1BoYXNlci5TcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIFNwcml0ZSBvYmplY3QuXG4gICAgKi9cbiAgICBwdWJsaWMgc3ByaXRlKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDAsIGtleT86IHN0cmluZyB8IFBJWEkuVGV4dHVyZSwgZnJhbWU/OiBzdHJpbmcgfCBudW1iZXIsIGdyb3VwPzogUGhhc2VyLkdyb3VwKTogUGhhc2VyLlNwcml0ZSB7XG4gICAgICAgIGlmIChncm91cCA9PT0gdW5kZWZpbmVkKSB7IGdyb3VwID0gdGhpcy50YXJnZXRHcm91cDsgfVxuICAgICAgICB0aGlzLnRhcmdldEdyb3VwID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gZ3JvdXAuY3JlYXRlKHgsIHksIGtleSwgZnJhbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IENyZWF0dXJlIEFuaW1hdGlvbiBvYmplY3QuXG4gICAgKlxuICAgICogQ3JlYXR1cmUgaXMgYSBjdXN0b20gR2FtZSBPYmplY3QgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBDcmVhdHVyZSBSdW50aW1lIGxpYnJhcmllcyBieSBLZXN0cmVsIE1vb24gU3R1ZGlvcy5cbiAgICAqIFxuICAgICogSXQgYWxsb3dzIHlvdSB0byBkaXNwbGF5IGFuaW1hdGVkIEdhbWUgT2JqZWN0cyB0aGF0IHdlcmUgY3JlYXRlZCB3aXRoIHRoZSBbQ3JlYXR1cmUgQXV0b21hdGVkIEFuaW1hdGlvbiBUb29sXShodHRwOi8vd3d3Lmtlc3RyZWxtb29uLmNvbS9jcmVhdHVyZS8pLlxuICAgICogXG4gICAgKiBOb3RlIDE6IFlvdSBjYW4gb25seSB1c2UgUGhhc2VyLkNyZWF0dXJlIG9iamVjdHMgaW4gV2ViR0wgZW5hYmxlZCBnYW1lcy4gVGhleSBkbyBub3Qgd29yayBpbiBDYW52YXMgbW9kZSBnYW1lcy5cbiAgICAqXG4gICAgKiBOb3RlIDI6IFlvdSBtdXN0IHVzZSBhIGJ1aWxkIG9mIFBoYXNlciB0aGF0IGluY2x1ZGVzIHRoZSBDcmVhdHVyZU1lc2hCb25lLmpzIHJ1bnRpbWUgYW5kIGdsLW1hdHJpeC5qcywgb3IgaGF2ZSB0aGVtXG4gICAgKiBsb2FkZWQgYmVmb3JlIHlvdXIgUGhhc2VyIGdhbWUgYm9vdHMuXG4gICAgKiBcbiAgICAqIFNlZSB0aGUgUGhhc2VyIGN1c3RvbSBidWlsZCBwcm9jZXNzIGZvciBtb3JlIGRldGFpbHMuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR2FtZU9iamVjdEZhY3RvcnkjY3JlYXR1cmVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIGNyZWF0dXJlLiBUaGUgY29vcmRpbmF0ZSBpcyByZWxhdGl2ZSB0byBhbnkgcGFyZW50IGNvbnRhaW5lciB0aGlzIGNyZWF0dXJlIG1heSBiZSBpbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIGNyZWF0dXJlLiBUaGUgY29vcmRpbmF0ZSBpcyByZWxhdGl2ZSB0byBhbnkgcGFyZW50IGNvbnRhaW5lciB0aGlzIGNyZWF0dXJlIG1heSBiZSBpbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gW2tleV0gLSBUaGUgaW1hZ2UgdXNlZCBhcyBhIHRleHR1cmUgYnkgdGhpcyBjcmVhdHVyZSBvYmplY3QgZHVyaW5nIHJlbmRlcmluZy4gSWYgYSBzdHJpbmcgUGhhc2VyIHdpbGwgZ2V0IGZvciBhbiBlbnRyeSBpbiB0aGUgSW1hZ2UgQ2FjaGUuIE9yIGl0IGNhbiBiZSBhbiBpbnN0YW5jZSBvZiBhIFBJWEkuVGV4dHVyZS5cbiAgICAqIEBwYXJhbSB7UGhhc2VyLkdyb3VwfSBbZ3JvdXBdIC0gT3B0aW9uYWwgR3JvdXAgdG8gYWRkIHRoZSBvYmplY3QgdG8uIElmIG5vdCBzcGVjaWZpZWQgaXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgRGVmYXVsdCBMYXllciBncm91cC5cbiAgICAqIEByZXR1cm5zIHtQaGFzZXIuQ3JlYXR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIFNwcml0ZSBvYmplY3QuXG4gICAgKi9cbiAgICBwdWJsaWMgY3JlYXR1cmUoeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCwga2V5Pzogc3RyaW5nLCBtZXNoPzogYW55LCBncm91cD86IFBoYXNlci5Hcm91cCk6IGFueSB7XG4gICAgICAgIGlmIChncm91cCA9PT0gdW5kZWZpbmVkKSB7IGdyb3VwID0gdGhpcy50YXJnZXRHcm91cDsgfVxuICAgICAgICB0aGlzLnRhcmdldEdyb3VwID0gbnVsbDtcblxuICAgICAgICB2YXIgb2JqID0gbmV3IFBoYXNlclsnQ3JlYXR1cmUnXSh0aGlzLmdhbWUsIHgsIHksIGtleSwgbWVzaCk7XG5cbiAgICAgICAgZ3JvdXAuYWRkKG9iaik7XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEEgR3JvdXAgaXMgYSBjb250YWluZXIgZm9yIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFsbG93cyBmb3IgZmFzdCBwb29saW5nLCByZWN5Y2xpbmcgYW5kIGNvbGxpc2lvbiBjaGVja3MuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR2FtZU9iamVjdEZhY3RvcnkjZ3JvdXBcbiAgICAqIEBwYXJhbSB7YW55fSBbcGFyZW50XSAtIFRoZSBwYXJlbnQgR3JvdXAgb3IgRGlzcGxheU9iamVjdENvbnRhaW5lciB0aGF0IHdpbGwgaG9sZCB0aGlzIGdyb3VwLCBpZiBhbnkuIElmIHNldCB0byBudWxsIHRoZSBHcm91cCB3b24ndCBiZSBhZGRlZCB0byB0aGUgZGlzcGxheSBsaXN0LiBJZiB1bmRlZmluZWQgaXQgd2lsbCBiZSBhZGRlZCB0byBXb3JsZCBieSBkZWZhdWx0LlxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lPSdncm91cCddIC0gQSBuYW1lIGZvciB0aGlzIEdyb3VwLiBOb3QgdXNlZCBpbnRlcm5hbGx5IGJ1dCB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FkZFRvU3RhZ2U9ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUgdGhpcyBHcm91cCB3aWxsIGJlIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBHYW1lLlN0YWdlIGluc3RlYWQgb2YgR2FtZS5Xb3JsZC5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuYWJsZUJvZHk9ZmFsc2VdIC0gSWYgdHJ1ZSBhbGwgU3ByaXRlcyBjcmVhdGVkIHdpdGggYEdyb3VwLmNyZWF0ZWAgb3IgYEdyb3VwLmNyZWF0ZU11bGl0cGxlYCB3aWxsIGhhdmUgYSBwaHlzaWNzIGJvZHkgY3JlYXRlZCBvbiB0aGVtLiBDaGFuZ2UgdGhlIGJvZHkgdHlwZSB3aXRoIHBoeXNpY3NCb2R5VHlwZS5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGh5c2ljc0JvZHlUeXBlPTBdIC0gSWYgZW5hYmxlQm9keSBpcyB0cnVlIHRoaXMgaXMgdGhlIHR5cGUgb2YgcGh5c2ljcyBib2R5IHRoYXQgaXMgY3JlYXRlZCBvbiBuZXcgU3ByaXRlcy4gUGhhc2VyLlBoeXNpY3MuQVJDQURFLCBQaGFzZXIuUGh5c2ljcy5QMiwgUGhhc2VyLlBoeXNpY3MuTklOSkEsIGV0Yy5cbiAgICAqIEByZXR1cm4ge1BoYXNlci5Hcm91cH0gVGhlIG5ld2x5IGNyZWF0ZWQgR3JvdXAuXG4gICAgKi9cbiAgICBwdWJsaWMgZ3JvdXAocGFyZW50PzogYW55LCBuYW1lOiBzdHJpbmcgPSAnZ3JvdXAnLCBhZGRUb1N0YWdlOiBib29sZWFuID0gZmFsc2UsIGVuYWJsZUJvZHk6IGJvb2xlYW4gPSBmYWxzZSwgcGh5c2ljc0JvZHlUeXBlOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHVuZGVmaW5lZCAmJiBhZGRUb1N0YWdlICE9PSB0cnVlKSB7IHBhcmVudCA9IHRoaXMudGFyZ2V0R3JvdXA7IH1cbiAgICAgICAgdGhpcy50YXJnZXRHcm91cCA9IG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgUGhhc2VyLkdyb3VwKHRoaXMuZ2FtZSwgcGFyZW50LCBuYW1lLCBhZGRUb1N0YWdlLCBlbmFibGVCb2R5LCBwaHlzaWNzQm9keVR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQSBHcm91cCBpcyBhIGNvbnRhaW5lciBmb3IgZGlzcGxheSBvYmplY3RzIHRoYXQgYWxsb3dzIGZvciBmYXN0IHBvb2xpbmcsIHJlY3ljbGluZyBhbmQgY29sbGlzaW9uIGNoZWNrcy5cbiAgICAqIFxuICAgICogQSBQaHlzaWNzIEdyb3VwIGlzIHRoZSBzYW1lIGFzIGFuIG9yZGluYXJ5IEdyb3VwIGV4Y2VwdCB0aGF0IGlzIGhhcyBlbmFibGVCb2R5IHR1cm5lZCBvbiBieSBkZWZhdWx0LCBzbyBhbnkgU3ByaXRlcyBpdCBjcmVhdGVzXG4gICAgKiBhcmUgYXV0b21hdGljYWxseSBnaXZlbiBhIHBoeXNpY3MgYm9keS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5HYW1lT2JqZWN0RmFjdG9yeSNwaHlzaWNzR3JvdXBcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGh5c2ljc0JvZHlUeXBlPVBoYXNlci5QaHlzaWNzLkFSQ0FERV0gLSBJZiBlbmFibGVCb2R5IGlzIHRydWUgdGhpcyBpcyB0aGUgdHlwZSBvZiBwaHlzaWNzIGJvZHkgdGhhdCBpcyBjcmVhdGVkIG9uIG5ldyBTcHJpdGVzLiBQaGFzZXIuUGh5c2ljcy5BUkNBREUsIFBoYXNlci5QaHlzaWNzLlAyLCBQaGFzZXIuUGh5c2ljcy5OSU5KQSwgZXRjLlxuICAgICogQHBhcmFtIHthbnl9IFtwYXJlbnRdIC0gVGhlIHBhcmVudCBHcm91cCBvciBEaXNwbGF5T2JqZWN0Q29udGFpbmVyIHRoYXQgd2lsbCBob2xkIHRoaXMgZ3JvdXAsIGlmIGFueS4gSWYgc2V0IHRvIG51bGwgdGhlIEdyb3VwIHdvbid0IGJlIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QuIElmIHVuZGVmaW5lZCBpdCB3aWxsIGJlIGFkZGVkIHRvIFdvcmxkIGJ5IGRlZmF1bHQuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWU9J2dyb3VwJ10gLSBBIG5hbWUgZm9yIHRoaXMgR3JvdXAuIE5vdCB1c2VkIGludGVybmFsbHkgYnV0IHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICogQHBhcmFtIHtib29sZWFufSBbYWRkVG9TdGFnZT1mYWxzZV0gLSBJZiBzZXQgdG8gdHJ1ZSB0aGlzIEdyb3VwIHdpbGwgYmUgYWRkZWQgZGlyZWN0bHkgdG8gdGhlIEdhbWUuU3RhZ2UgaW5zdGVhZCBvZiBHYW1lLldvcmxkLlxuICAgICogQHJldHVybiB7UGhhc2VyLkdyb3VwfSBUaGUgbmV3bHkgY3JlYXRlZCBHcm91cC5cbiAgICAqL1xuICAgIHB1YmxpYyBwaHlzaWNzR3JvdXAocGh5c2ljc0JvZHlUeXBlOiBudW1iZXIgPSAwLCBwYXJlbnQ/OiBhbnksIG5hbWU6IHN0cmluZyA9ICdncm91cCcsIGFkZFRvU3RhZ2U6IGJvb2xlYW4gPSBmYWxzZSk6IFBoYXNlci5Hcm91cCB7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHVuZGVmaW5lZCkgeyBwYXJlbnQgPSB0aGlzLnRhcmdldEdyb3VwOyB9XG4gICAgICAgIHRoaXMudGFyZ2V0R3JvdXAgPSBudWxsO1xuICAgICAgICByZXR1cm4gbmV3IFBoYXNlci5Hcm91cCh0aGlzLmdhbWUsIHBhcmVudCwgbmFtZSwgYWRkVG9TdGFnZSwgdHJ1ZSwgcGh5c2ljc0JvZHlUeXBlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEEgU3ByaXRlQmF0Y2ggaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIGEgUGhhc2VyIEdyb3VwIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQuXG4gICAgKiBVc2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcyBhbGwgc2hhcmluZyB0aGUgc2FtZSB0ZXh0dXJlLlxuICAgICogVGhlIHNwZWVkIGdhaW5zIGFyZSBzcGVjaWZpY2FsbHkgZm9yIFdlYkdMLiBJbiBDYW52YXMgbW9kZSB5b3Ugd29uJ3Qgc2VlIGFueSByZWFsIGRpZmZlcmVuY2UuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR2FtZU9iamVjdEZhY3Rvcnkjc3ByaXRlQmF0Y2hcbiAgICAqIEBwYXJhbSB7UGhhc2VyLkdyb3VwfG51bGx9IHBhcmVudCAtIFRoZSBwYXJlbnQgR3JvdXAgdGhhdCB3aWxsIGhvbGQgdGhpcyBTcHJpdGUgQmF0Y2guIFNldCB0byBgdW5kZWZpbmVkYCBvciBgbnVsbGAgdG8gYWRkIGRpcmVjdGx5IHRvIGdhbWUud29ybGQuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWU9J2dyb3VwJ10gLSBBIG5hbWUgZm9yIHRoaXMgU3ByaXRlIEJhdGNoLiBOb3QgdXNlZCBpbnRlcm5hbGx5IGJ1dCB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FkZFRvU3RhZ2U9ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUgdGhpcyBTcHJpdGUgQmF0Y2ggd2lsbCBiZSBhZGRlZCBkaXJlY3RseSB0byB0aGUgR2FtZS5TdGFnZSBpbnN0ZWFkIG9mIHRoZSBwYXJlbnQuXG4gICAgKiBAcmV0dXJuIHtQaGFzZXIuU3ByaXRlQmF0Y2h9IFRoZSBuZXdseSBjcmVhdGVkIFNwcml0ZSBCYXRjaC5cbiAgICAqL1xuICAgIHB1YmxpYyBzcHJpdGVCYXRjaChwYXJlbnQ/OiBhbnksIG5hbWU6IHN0cmluZyA9IFwic3ByaXRlQmF0Y2hcIiwgYWRkVG9TdGFnZTogYm9vbGVhbiA9IGZhbHNlKTogUGhhc2VyLlNwcml0ZUJhdGNoIHtcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7IHBhcmVudCA9IHRoaXMudGFyZ2V0R3JvdXAgfVxuICAgICAgICB0aGlzLnRhcmdldEdyb3VwID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuU3ByaXRlQmF0Y2godGhpcy5nYW1lLCBwYXJlbnQsIG5hbWUsIGFkZFRvU3RhZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFRpbGVTcHJpdGUgb2JqZWN0LlxuICAgKlxuICAgKiBAbWV0aG9kIFBoYXNlci5HYW1lT2JqZWN0RmFjdG9yeSN0aWxlU3ByaXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgVGlsZVNwcml0ZS4gVGhlIGNvb3JkaW5hdGUgaXMgcmVsYXRpdmUgdG8gYW55IHBhcmVudCBjb250YWluZXIgdGhpcyBUaWxlU3ByaXRlIG1heSBiZSBpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgeSBjb29yZGluYXRlIG9mIHRoZSBUaWxlU3ByaXRlLiBUaGUgY29vcmRpbmF0ZSBpcyByZWxhdGl2ZSB0byBhbnkgcGFyZW50IGNvbnRhaW5lciB0aGlzIFRpbGVTcHJpdGUgbWF5IGJlIGluLlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIFRpbGVTcHJpdGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBUaWxlU3ByaXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xQaGFzZXIuUmVuZGVyVGV4dHVyZXxQaGFzZXIuQml0bWFwRGF0YXxQaGFzZXIuVmlkZW98UElYSS5UZXh0dXJlfSBrZXkgLSBUaGUgaW1hZ2UgdXNlZCBhcyBhIHRleHR1cmUgYnkgdGhpcyBkaXNwbGF5IG9iamVjdCBkdXJpbmcgcmVuZGVyaW5nLiBJZiBhIHN0cmluZyBQaGFzZXIgd2lsbCBnZXQgZm9yIGFuIGVudHJ5IGluIHRoZSBJbWFnZSBDYWNoZS4gT3IgaXQgY2FuIGJlIGFuIGluc3RhbmNlIG9mIGEgUmVuZGVyVGV4dHVyZSwgQml0bWFwRGF0YSwgVmlkZW8gb3IgUElYSS5UZXh0dXJlLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtmcmFtZV0gLSBJZiBhIFRleHR1cmUgQXRsYXMgb3IgU3ByaXRlIFNoZWV0IGlzIHVzZWQgdGhpcyBhbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIGZyYW1lIHRvIGJlIHVzZWQuIFVzZSBlaXRoZXIgYW4gaW50ZWdlciBmb3IgYSBGcmFtZSBJRCBvciBhIHN0cmluZyBmb3IgYSBmcmFtZSBuYW1lLlxuICAgKiBAcGFyYW0ge1BoYXNlci5Hcm91cH0gW2dyb3VwXSAtIE9wdGlvbmFsIEdyb3VwIHRvIGFkZCB0aGUgb2JqZWN0IHRvLiBJZiBub3Qgc3BlY2lmaWVkIGl0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIERlZmF1bHQgTGF5ZXIgZ3JvdXAuXG4gICAqIEByZXR1cm4ge1BoYXNlci5UaWxlU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBUaWxlU3ByaXRlIG9iamVjdC5cbiAgICovXG4gICAgcHVibGljIHRpbGVTcHJpdGUoeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCwgd2lkdGg6IG51bWJlciA9IDAsIGhlaWdodDogbnVtYmVyID0gMCwga2V5Pzogc3RyaW5nLCBmcmFtZT86IHN0cmluZyB8IG51bWJlciwgZ3JvdXA/OiBQaGFzZXIuR3JvdXApOiBQaGFzZXIuVGlsZVNwcml0ZSB7XG4gICAgICAgIGlmIChncm91cCA9PT0gdW5kZWZpbmVkKSB7IGdyb3VwID0gdGhpcy50YXJnZXRHcm91cDsgfVxuICAgICAgICB0aGlzLnRhcmdldEdyb3VwID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGdyb3VwLmFkZChuZXcgUGhhc2VyLlRpbGVTcHJpdGUodGhpcy5nYW1lLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBrZXksIGZyYW1lKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgUm9wZSBvYmplY3QuXG4gICAqXG4gICAqIEV4YW1wbGUgdXNhZ2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9jb2Rldmluc2t5L3BoYXNlci1yb3BlLWRlbW8vYmxvYi9tYXN0ZXIvZGlzdC9kZW1vLmpzXG4gICAqXG4gICAqIEBtZXRob2QgUGhhc2VyLkdhbWVPYmplY3RGYWN0b3J5I3JvcGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgUm9wZS4gVGhlIGNvb3JkaW5hdGUgaXMgcmVsYXRpdmUgdG8gYW55IHBhcmVudCBjb250YWluZXIgdGhpcyByb3BlIG1heSBiZSBpbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgUm9wZS4gVGhlIGNvb3JkaW5hdGUgaXMgcmVsYXRpdmUgdG8gYW55IHBhcmVudCBjb250YWluZXIgdGhpcyByb3BlIG1heSBiZSBpbi5cbiAgICogQHBhcmFtIHtzdHJpbmd8UGhhc2VyLlJlbmRlclRleHR1cmV8UGhhc2VyLkJpdG1hcERhdGF8UGhhc2VyLlZpZGVvfFBJWEkuVGV4dHVyZX0gW2tleV0gLSBUaGUgaW1hZ2UgdXNlZCBhcyBhIHRleHR1cmUgYnkgdGhpcyBkaXNwbGF5IG9iamVjdCBkdXJpbmcgcmVuZGVyaW5nLiBJZiBhIHN0cmluZyBQaGFzZXIgd2lsbCBnZXQgZm9yIGFuIGVudHJ5IGluIHRoZSBJbWFnZSBDYWNoZS4gT3IgaXQgY2FuIGJlIGFuIGluc3RhbmNlIG9mIGEgUmVuZGVyVGV4dHVyZSwgQml0bWFwRGF0YSwgVmlkZW8gb3IgUElYSS5UZXh0dXJlLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtmcmFtZV0gLSBJZiBhIFRleHR1cmUgQXRsYXMgb3IgU3ByaXRlIFNoZWV0IGlzIHVzZWQgdGhpcyBhbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIGZyYW1lIHRvIGJlIHVzZWQuIFVzZSBlaXRoZXIgYW4gaW50ZWdlciBmb3IgYSBGcmFtZSBJRCBvciBhIHN0cmluZyBmb3IgYSBmcmFtZSBuYW1lLlxuICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHMgLSBBbiBhcnJheSBvZiB7UGhhc2VyLlBvaW50fS5cbiAgICogQHBhcmFtIHtQaGFzZXIuR3JvdXB9IFtncm91cF0gLSBPcHRpb25hbCBHcm91cCB0byBhZGQgdGhlIG9iamVjdCB0by4gSWYgbm90IHNwZWNpZmllZCBpdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBEZWZhdWx0IExheWVyIGdyb3VwLlxuICAgKiBAcmV0dXJuIHtQaGFzZXIuUm9wZX0gVGhlIG5ld2x5IGNyZWF0ZWQgUm9wZSBvYmplY3QuXG4gICAqL1xuICAgIHB1YmxpYyByb3BlKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDAsIGtleT86IHN0cmluZywgZnJhbWU/OiBzdHJpbmcgfCBudW1iZXIsIHBvaW50cz86IFBoYXNlci5Qb2ludFtdLCBncm91cD86IFBoYXNlci5Hcm91cCk6IFBoYXNlci5Sb3BlIHtcbiAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHsgZ3JvdXAgPSB0aGlzLnRhcmdldEdyb3VwOyB9XG4gICAgICAgIHRoaXMudGFyZ2V0R3JvdXAgPSBudWxsO1xuICAgICAgICByZXR1cm4gZ3JvdXAuYWRkKG5ldyBQaGFzZXIuUm9wZSh0aGlzLmdhbWUsIHgsIHksIGtleSwgZnJhbWUsIHBvaW50cykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQ3JlYXRlcyBhIG5ldyBUZXh0IG9iamVjdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5HYW1lT2JqZWN0RmFjdG9yeSN0ZXh0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBUZXh0LiBUaGUgY29vcmRpbmF0ZSBpcyByZWxhdGl2ZSB0byBhbnkgcGFyZW50IGNvbnRhaW5lciB0aGlzIHRleHQgbWF5IGJlIGluLlxuICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgVGV4dC4gVGhlIGNvb3JkaW5hdGUgaXMgcmVsYXRpdmUgdG8gYW55IHBhcmVudCBjb250YWluZXIgdGhpcyB0ZXh0IG1heSBiZSBpbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGV4dD0nJ10gLSBUaGUgdGV4dCBzdHJpbmcgdGhhdCB3aWxsIGJlIGRpc3BsYXllZC5cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBbc3R5bGVdIC0gVGhlIHN0eWxlIG9iamVjdCBjb250YWluaW5nIHN0eWxlIGF0dHJpYnV0ZXMgbGlrZSBmb250LCBmb250IHNpemUgLCBldGMuXG4gICAgKiBAcGFyYW0ge1BoYXNlci5Hcm91cH0gW2dyb3VwXSAtIE9wdGlvbmFsIEdyb3VwIHRvIGFkZCB0aGUgb2JqZWN0IHRvLiBJZiBub3Qgc3BlY2lmaWVkIGl0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIERlZmF1bHQgTGF5ZXIgZ3JvdXAuXG4gICAgKiBAcmV0dXJuIHtQaGFzZXIuVGV4dH0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dCBvYmplY3QuXG4gICAgKi9cbiAgICBwdWJsaWMgdGV4dCh4OiBudW1iZXIgPSAwLCB5OiBudW1iZXIgPSAwLCB0ZXh0OiBzdHJpbmcgPSAnJywgc3R5bGU/OiBQaGFzZXIuUGhhc2VyVGV4dFN0eWxlLCBncm91cD86IFBoYXNlci5Hcm91cCk6IFBoYXNlci5UZXh0IHtcbiAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHsgZ3JvdXAgPSB0aGlzLnRhcmdldEdyb3VwOyB9XG4gICAgICAgIHRoaXMudGFyZ2V0R3JvdXAgPSBudWxsO1xuICAgICAgICByZXR1cm4gZ3JvdXAuYWRkKG5ldyBQaGFzZXIuVGV4dCh0aGlzLmdhbWUsIHgsIHksIHRleHQsIHN0eWxlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBDcmVhdGVzIGEgbmV3IEJ1dHRvbiBvYmplY3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR2FtZU9iamVjdEZhY3RvcnkjYnV0dG9uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBCdXR0b24uIFRoZSBjb29yZGluYXRlIGlzIHJlbGF0aXZlIHRvIGFueSBwYXJlbnQgY29udGFpbmVyIHRoaXMgYnV0dG9uIG1heSBiZSBpbi5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIEJ1dHRvbi4gVGhlIGNvb3JkaW5hdGUgaXMgcmVsYXRpdmUgdG8gYW55IHBhcmVudCBjb250YWluZXIgdGhpcyBidXR0b24gbWF5IGJlIGluLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIC0gVGhlIGltYWdlIGtleSBhcyBkZWZpbmVkIGluIHRoZSBHYW1lLkNhY2hlIHRvIHVzZSBhcyB0aGUgdGV4dHVyZSBmb3IgdGhpcyBidXR0b24uXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIGJ1dHRvbiBpcyBwcmVzc2VkXG4gICAgKiBAcGFyYW0ge29iamVjdH0gW2NhbGxiYWNrQ29udGV4dF0gLSBUaGUgY29udGV4dCBpbiB3aGljaCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgKHVzdWFsbHkgJ3RoaXMnKVxuICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbb3ZlckZyYW1lXSAtIFRoaXMgaXMgdGhlIGZyYW1lIG9yIGZyYW1lTmFtZSB0aGF0IHdpbGwgYmUgc2V0IHdoZW4gdGhpcyBidXR0b24gaXMgaW4gYW4gb3ZlciBzdGF0ZS4gR2l2ZSBlaXRoZXIgYSBudW1iZXIgdG8gdXNlIGEgZnJhbWUgSUQgb3IgYSBzdHJpbmcgZm9yIGEgZnJhbWUgbmFtZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW291dEZyYW1lXSAtIFRoaXMgaXMgdGhlIGZyYW1lIG9yIGZyYW1lTmFtZSB0aGF0IHdpbGwgYmUgc2V0IHdoZW4gdGhpcyBidXR0b24gaXMgaW4gYW4gb3V0IHN0YXRlLiBHaXZlIGVpdGhlciBhIG51bWJlciB0byB1c2UgYSBmcmFtZSBJRCBvciBhIHN0cmluZyBmb3IgYSBmcmFtZSBuYW1lLlxuICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbZG93bkZyYW1lXSAtIFRoaXMgaXMgdGhlIGZyYW1lIG9yIGZyYW1lTmFtZSB0aGF0IHdpbGwgYmUgc2V0IHdoZW4gdGhpcyBidXR0b24gaXMgaW4gYSBkb3duIHN0YXRlLiBHaXZlIGVpdGhlciBhIG51bWJlciB0byB1c2UgYSBmcmFtZSBJRCBvciBhIHN0cmluZyBmb3IgYSBmcmFtZSBuYW1lLlxuICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbdXBGcmFtZV0gLSBUaGlzIGlzIHRoZSBmcmFtZSBvciBmcmFtZU5hbWUgdGhhdCB3aWxsIGJlIHNldCB3aGVuIHRoaXMgYnV0dG9uIGlzIGluIGFuIHVwIHN0YXRlLiBHaXZlIGVpdGhlciBhIG51bWJlciB0byB1c2UgYSBmcmFtZSBJRCBvciBhIHN0cmluZyBmb3IgYSBmcmFtZSBuYW1lLlxuICAgICogQHBhcmFtIHtQaGFzZXIuR3JvdXB9IFtncm91cF0gLSBPcHRpb25hbCBHcm91cCB0byBhZGQgdGhlIG9iamVjdCB0by4gSWYgbm90IHNwZWNpZmllZCBpdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBEZWZhdWx0IExheWVyIGdyb3VwLlxuICAgICogQHJldHVybiB7UGhhc2VyLkJ1dHRvbn0gVGhlIG5ld2x5IGNyZWF0ZWQgQnV0dG9uIG9iamVjdC5cbiAgICAqL1xuICAgIHB1YmxpYyBidXR0b24oeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCwga2V5Pzogc3RyaW5nLCBjYWxsYmFjaz86IEZ1bmN0aW9uLCBjYWxsYmFja0NvbnRleHQ/OiBPYmplY3QsIG92ZXJGcmFtZT86IHN0cmluZyB8IG51bWJlciwgb3V0RnJhbWU/OiBzdHJpbmcgfCBudW1iZXIsIGRvd25GcmFtZT86IHN0cmluZyB8IG51bWJlciwgdXBGcmFtZT86IHN0cmluZyB8IG51bWJlciwgZ3JvdXA/OiBQaGFzZXIuR3JvdXApOiBQaGFzZXIuQnV0dG9uIHtcbiAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHsgZ3JvdXAgPSB0aGlzLnRhcmdldEdyb3VwOyB9XG4gICAgICAgIHRoaXMudGFyZ2V0R3JvdXAgPSBudWxsO1xuICAgICAgICByZXR1cm4gZ3JvdXAuYWRkKG5ldyBQaGFzZXIuQnV0dG9uKHRoaXMuZ2FtZSwgeCwgeSwga2V5LCBjYWxsYmFjaywgY2FsbGJhY2tDb250ZXh0LCBvdmVyRnJhbWUsIG91dEZyYW1lLCBkb3duRnJhbWUsIHVwRnJhbWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLkdhbWVPYmplY3RGYWN0b3J5I2dyYXBoaWNzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBHcmFwaGljLiBUaGUgY29vcmRpbmF0ZSBpcyByZWxhdGl2ZSB0byBhbnkgcGFyZW50IGNvbnRhaW5lciB0aGlzIG9iamVjdCBtYXkgYmUgaW4uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgeSBjb29yZGluYXRlIG9mIHRoZSBHcmFwaGljLiBUaGUgY29vcmRpbmF0ZSBpcyByZWxhdGl2ZSB0byBhbnkgcGFyZW50IGNvbnRhaW5lciB0aGlzIG9iamVjdCBtYXkgYmUgaW4uXG4gICAgKiBAcGFyYW0ge1BoYXNlci5Hcm91cH0gW2dyb3VwXSAtIE9wdGlvbmFsIEdyb3VwIHRvIGFkZCB0aGUgb2JqZWN0IHRvLiBJZiBub3Qgc3BlY2lmaWVkIGl0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIFdvcmxkIGdyb3VwLlxuICAgICogQHJldHVybiB7UGhhc2VyLkdyYXBoaWNzfSBUaGUgbmV3bHkgY3JlYXRlZCBncmFwaGljcyBvYmplY3QuXG4gICAgKi9cbiAgICBwdWJsaWMgZ3JhcGhpY3MoeDogbnVtYmVyID0gMCwgeTogbnVtYmVyID0gMCwgZ3JvdXA/OiBQaGFzZXIuR3JvdXApOiBQaGFzZXIuR3JhcGhpY3Mge1xuICAgICAgICBpZiAoZ3JvdXAgPT09IHVuZGVmaW5lZCkgeyBncm91cCA9IHRoaXMud29ybGQ7IH1cbiAgICAgICAgLyoqKlxuICAgICAgICAgKiBDb21tZW50ZWQgdGhpcyBvdXQgLSBzaW5jZSBncmFwaGljcyBhcmUgYnkgZGVmYXVsdCBhZGRlZCBkaXJlY3RseSBvbiB0aGUgZ2FtZS53b3JsZCwgd2Ugc2hvdWxkbid0IHJlc2V0IHRoaXMudGFyZ2V0R3JvdXBcbiAgICAgICAgICogSXQgY291bGQgY2F1c2UgbWFqb3IgcHJvYmxlbXMgaWYgdXNpbmcgZGlqb24vdXRpbHMgVGV4dHVyZXMgaW5zdGFuY2VzIGFzIGFuIGltYWdlIHRleHR1cmUsIGZvciBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgLy90aGlzLnRhcmdldEdyb3VwID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGdyb3VwLmFkZChuZXcgUGhhc2VyLkdyYXBoaWNzKHRoaXMuZ2FtZSwgeCwgeSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQ3JlYXRlIGEgbmV3IEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICpcbiAgICAqIEJpdG1hcFRleHQgb2JqZWN0cyB3b3JrIGJ5IHRha2luZyBhIHRleHR1cmUgZmlsZSBhbmQgYW4gWE1MIGZpbGUgdGhhdCBkZXNjcmliZXMgdGhlIGZvbnQgc3RydWN0dXJlLlxuICAgICogSXQgdGhlbiBnZW5lcmF0ZXMgYSBuZXcgU3ByaXRlIG9iamVjdCBmb3IgZWFjaCBsZXR0ZXIgb2YgdGhlIHRleHQsIHByb3BvcnRpb25hbGx5IHNwYWNlZCBvdXQgYW5kIGFsaWduZWQgdG8gXG4gICAgKiBtYXRjaCB0aGUgZm9udCBzdHJ1Y3R1cmUuXG4gICAgKiBcbiAgICAqIEJpdG1hcFRleHQgb2JqZWN0cyBhcmUgbGVzcyBmbGV4aWJsZSB0aGFuIFRleHQgb2JqZWN0cywgaW4gdGhhdCB0aGV5IGhhdmUgbGVzcyBmZWF0dXJlcyBzdWNoIGFzIHNoYWRvd3MsIGZpbGxzIGFuZCB0aGUgYWJpbGl0eSBcbiAgICAqIHRvIHVzZSBXZWIgRm9udHMuIEhvd2V2ZXIgeW91IHRyYWRlIHRoaXMgZmxleGliaWxpdHkgZm9yIHB1cmUgcmVuZGVyaW5nIHNwZWVkLiBZb3UgY2FuIGFsc28gY3JlYXRlIHZpc3VhbGx5IGNvbXBlbGxpbmcgQml0bWFwVGV4dHMgYnkgXG4gICAgKiBwcm9jZXNzaW5nIHRoZSBmb250IHRleHR1cmUgaW4gYW4gaW1hZ2UgZWRpdG9yIGZpcnN0LCBhcHBseWluZyBmaWxscyBhbmQgYW55IG90aGVyIGVmZmVjdHMgcmVxdWlyZWQuXG4gICAgKlxuICAgICogVG8gY3JlYXRlIG11bHRpLWxpbmUgdGV4dCBpbnNlcnQgXFxyLCBcXG4gb3IgXFxyXFxuIGVzY2FwZSBjb2RlcyBpbnRvIHRoZSB0ZXh0IHN0cmluZy5cbiAgICAqXG4gICAgKiBUbyBjcmVhdGUgYSBCaXRtYXBUZXh0IGRhdGEgZmlsZXMgeW91IGNhbiB1c2U6XG4gICAgKlxuICAgICogQk1Gb250IChXaW5kb3dzLCBmcmVlKTogaHR0cDovL3d3dy5hbmdlbGNvZGUuY29tL3Byb2R1Y3RzL2JtZm9udC9cbiAgICAqIEdseXBoIERlc2lnbmVyIChPUyBYLCBjb21tZXJjaWFsKTogaHR0cDovL3d3dy43MXNxdWFyZWQuY29tL2VuL2dseXBoZGVzaWduZXJcbiAgICAqIExpdHRlcmEgKFdlYi1iYXNlZCwgZnJlZSk6IGh0dHA6Ly9rdmF6YXJzLmNvbS9saXR0ZXJhL1xuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLkdhbWVPYmplY3RGYWN0b3J5I2JpdG1hcFRleHRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlIHRvIGRpc3BsYXkgdGhlIEJpdG1hcFRleHQgb2JqZWN0IGF0LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZIGNvb3JkaW5hdGUgdG8gZGlzcGxheSB0aGUgQml0bWFwVGV4dCBvYmplY3QgYXQuXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFRoZSBrZXkgb2YgdGhlIEJpdG1hcFRleHQgYXMgc3RvcmVkIGluIFBoYXNlci5DYWNoZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGV4dD0nJ10gLSBUaGUgdGV4dCB0aGF0IHdpbGwgYmUgcmVuZGVyZWQuIFRoaXMgY2FuIGFsc28gYmUgc2V0IGxhdGVyIHZpYSBCaXRtYXBUZXh0LnRleHQuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MzJdIC0gVGhlIHNpemUgdGhlIGZvbnQgd2lsbCBiZSByZW5kZXJlZCBhdCBpbiBwaXhlbHMuXG4gICAgKiBAcGFyYW0ge1BoYXNlci5Hcm91cH0gW2dyb3VwXSAtIE9wdGlvbmFsIEdyb3VwIHRvIGFkZCB0aGUgb2JqZWN0IHRvLiBJZiBub3Qgc3BlY2lmaWVkIGl0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIFdvcmxkIGdyb3VwLlxuICAgICogQHJldHVybiB7UGhhc2VyLkJpdG1hcFRleHR9IFRoZSBuZXdseSBjcmVhdGVkIGJpdG1hcFRleHQgb2JqZWN0LlxuICAgICovXG4gICAgcHVibGljIGJpdG1hcFRleHQoeD86IG51bWJlciwgeT86IG51bWJlciwgZm9udD86IHN0cmluZywgdGV4dDogc3RyaW5nID0gXCJcIiwgc2l6ZTogbnVtYmVyID0gMzIsIGdyb3VwPzogUGhhc2VyLkdyb3VwKTogUGhhc2VyLkJpdG1hcFRleHQge1xuICAgICAgICBpZiAoZ3JvdXAgPT09IHVuZGVmaW5lZCkgeyBncm91cCA9IHRoaXMudGFyZ2V0R3JvdXA7IH1cbiAgICAgICAgdGhpcy50YXJnZXRHcm91cCA9IG51bGw7XG4gICAgICAgIHJldHVybiBncm91cC5hZGQobmV3IFBoYXNlci5CaXRtYXBUZXh0KHRoaXMuZ2FtZSwgeCwgeSwgZm9udCwgdGV4dCwgc2l6ZSkpO1xuICAgIH1cblxuICAgIC8vIGRpam9uIHNwZWNpZmljIGRpc3BsYXkgb2JqZWN0c1xuICAgIHB1YmxpYyBkU3ByaXRlKHg/OiBudW1iZXIsIHk/OiBudW1iZXIsIGtleT86IHN0cmluZyB8IFBoYXNlci5SZW5kZXJUZXh0dXJlIHwgUGhhc2VyLkJpdG1hcERhdGEgfCBQSVhJLlRleHR1cmUsIGZyYW1lPzogc3RyaW5nIHwgbnVtYmVyLCBuYW1lPzogc3RyaW5nLCBjb21wb25lbnRzPzogQ29tcG9uZW50W10sIGdyb3VwPzogUGhhc2VyLkdyb3VwKTogU3ByaXRlIHtcbiAgICAgICAgaWYgKGdyb3VwID09PSB1bmRlZmluZWQpIHsgZ3JvdXAgPSB0aGlzLnRhcmdldEdyb3VwOyB9XG4gICAgICAgIHRoaXMudGFyZ2V0R3JvdXAgPSBudWxsO1xuICAgICAgICByZXR1cm4gZ3JvdXAuYWRkKG5ldyBTcHJpdGUoeCwgeSwga2V5LCBmcmFtZSwgbmFtZSwgY29tcG9uZW50cykpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkR3JvdXAoeD86IG51bWJlciwgeT86IG51bWJlciwgbmFtZT86IHN0cmluZywgYWRkVG9TdGFnZT86IGJvb2xlYW4sIGNvbXBvbmVudHM/OiBDb21wb25lbnRbXSwgZW5hYmxlQm9keT86IGJvb2xlYW4sIHBoeXNpY3NCb2R5VHlwZT86IG51bWJlciwgZ3JvdXA/OiBQaGFzZXIuR3JvdXApOiBHcm91cCB7XG4gICAgICAgIGlmIChncm91cCA9PT0gdW5kZWZpbmVkICYmIGFkZFRvU3RhZ2UgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGdyb3VwID0gdGhpcy50YXJnZXRHcm91cDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0R3JvdXAgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGdyb3VwLmFkZChuZXcgR3JvdXAoeCwgeSwgbmFtZSwgYWRkVG9TdGFnZSwgY29tcG9uZW50cywgZW5hYmxlQm9keSwgcGh5c2ljc0JvZHlUeXBlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEdyb3VwKHgsIHksIG5hbWUsIGFkZFRvU3RhZ2UsIGNvbXBvbmVudHMsIGVuYWJsZUJvZHksIHBoeXNpY3NCb2R5VHlwZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRUZXh0KHg6IG51bWJlciwgeTogbnVtYmVyLCB0ZXh0Pzogc3RyaW5nLCBmb250TmFtZT86IHN0cmluZywgZm9udFNpemU/OiBudW1iZXIsIGZvbnRDb2xvcj86IHN0cmluZywgZm9udEFsaWduPzogc3RyaW5nLCB3b3JkV3JhcD86IGJvb2xlYW4sIHdpZHRoPzogbnVtYmVyLCBsaW5lU3BhY2luZz86IG51bWJlciwgc2V0dGluZ3M/OiBPYmplY3QsIGdyb3VwPzogUGhhc2VyLkdyb3VwKTogVGV4dCB7XG4gICAgICAgIGlmIChncm91cCA9PT0gdW5kZWZpbmVkKSB7IGdyb3VwID0gdGhpcy50YXJnZXRHcm91cDsgfVxuICAgICAgICB0aGlzLnRhcmdldEdyb3VwID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGdyb3VwLmFkZChuZXcgVGV4dCh4LCB5LCB0ZXh0LCBmb250TmFtZSwgZm9udFNpemUsIGZvbnRDb2xvciwgZm9udEFsaWduLCB3b3JkV3JhcCwgd2lkdGgsIGxpbmVTcGFjaW5nLCBzZXR0aW5ncykpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzcGluZShhc3NldE5hbWU6IHN0cmluZyA9ICcnLCB4OiBudW1iZXIgPSAwLCB5OiBudW1iZXIgPSAwLCB3aWR0aDogbnVtYmVyID0gMCwgaGVpZ2h0OiBudW1iZXIgPSAwLCBza2luOiBzdHJpbmcgPSAnZGVmYXVsdCcsIGFuaW06IHN0cmluZyA9ICcnLCBoT2Zmc2V0OiBudW1iZXIgPSAwLCB2T2Zmc2V0OiBudW1iZXIgPSAwLCBncm91cD86IFBoYXNlci5Hcm91cCkge1xuICAgICAgICBpZiAoZ3JvdXAgPT09IHVuZGVmaW5lZCkgeyBncm91cCA9IHRoaXMudGFyZ2V0R3JvdXA7IH1cbiAgICAgICAgdGhpcy50YXJnZXRHcm91cCA9IG51bGw7XG4gICAgICAgIHJldHVybiBncm91cC5hZGQobmV3IFNwaW5lKGFzc2V0TmFtZSwgeCwgeSwgd2lkdGgsIGhlaWdodCwgc2tpbiwgYW5pbSwgaE9mZnNldCwgdk9mZnNldCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXREZWZhdWx0TGF5ZXIodmFsdWU6IFBoYXNlci5Hcm91cCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNBVVRJT046IENoYW5naW5nIHRoZSBkZWZhdWx0IGxheWVyIHdpbGwgY2hhbmdlIHRoZSB0YXJnZXQgZ3JvdXAgZm9yIC5hZGRcIik7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRMYXllciA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZGVmYXVsdExheWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdExheWVyO1xuICAgIH1cbiAgICAvLyBnZXR0ZXIgLyBzZXR0ZXJcbiAgICBwdWJsaWMgc2V0IHRhcmdldEdyb3VwKHZhbHVlOiBQaGFzZXIuR3JvdXApIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0R3JvdXAgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHRhcmdldEdyb3VwKCk6IFBoYXNlci5Hcm91cCB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXJnZXRHcm91cCB8fCB0aGlzLl9kZWZhdWx0TGF5ZXI7XG4gICAgfVxufVxuXG4vKipcbiAqIFNlcXVlbmNlTWFuYWdlclxuICovXG5leHBvcnQgY2xhc3MgU2VxdWVuY2VNYW5hZ2VyIHtcbiAgICBwdWJsaWMgZ2FtZTogR2FtZTtcblxuICAgIHByaXZhdGUgX2RlZmF1bHRJbnRlcnZhbCA9IDIwO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IEFwcGxpY2F0aW9uLmdldEluc3RhbmNlKCkuZ2FtZTtcbiAgICB9XG5cbiAgICAvLyBwcml2YXRlIG1ldGhvZHNcbiAgICBwcml2YXRlIF9leGVjdXRlTWV0aG9kKHNlcXVlbmNlOiBBcnJheTxGdW5jdGlvbj4sIGNvbnRleHQ6IE9iamVjdCwgY2FsbGJhY2s6IEZ1bmN0aW9uLCBjYWxsYmFja0NvbnRleHQ6IE9iamVjdCkge1xuICAgICAgICB2YXIgZnVuYyA9IHNlcXVlbmNlLnNoaWZ0KCk7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnRleHQgIT09ICd1bmRlZmluZWQnICYmIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGZ1bmMuY2FsbChjb250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPT09IDAgJiYgY2FsbGJhY2sgJiYgY2FsbGJhY2tDb250ZXh0KSB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGNhbGxiYWNrQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgbWV0aG9kc1xuICAgIHB1YmxpYyBydW4oc2VxdWVuY2U6IEFycmF5PEZ1bmN0aW9uPiwgY29udGV4dDogT2JqZWN0LCBpbnRlcnZhbDogbnVtYmVyLCBjb21wbGV0ZUNhbGxiYWNrOiBGdW5jdGlvbiwgY29tcGxldGVDYWxsYmFja0NvbnRleHQ6IE9iamVjdCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnRleHQgbXVzdCBiZSBwcm92aWRlZCBmb3IgdGhlIHNlcXVlbmNlIG1ldGhvZHMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW50ZXJ2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpbnRlcnZhbCA9IHRoaXMuX2RlZmF1bHRJbnRlcnZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZXF1ZW5jZS5sZW5ndGggPT09IDAgJiYgdHlwZW9mIGNvbXBsZXRlQ2FsbGJhY2sgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb21wbGV0ZUNhbGxiYWNrQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlQ2FsbGJhY2suY2FsbChjb21wbGV0ZUNhbGxiYWNrQ29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW50ZXJ2YWwgPT09IDApIHtcbiAgICAgICAgICAgIHdoaWxlIChzZXF1ZW5jZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHRoaXMuX2V4ZWN1dGVNZXRob2Qoc2VxdWVuY2UsIGNvbnRleHQsIHR5cGVvZiBjb21wbGV0ZUNhbGxiYWNrID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBjb21wbGV0ZUNhbGxiYWNrLCB0eXBlb2YgY29tcGxldGVDYWxsYmFja0NvbnRleHQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IGNvbXBsZXRlQ2FsbGJhY2tDb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2FtZS50aW1lLmV2ZW50cy5yZXBlYXQoaW50ZXJ2YWwsIHNlcXVlbmNlLmxlbmd0aCwgdGhpcy5fZXhlY3V0ZU1ldGhvZCwgdGhpcywgc2VxdWVuY2UsIGNvbnRleHQsIHR5cGVvZiBjb21wbGV0ZUNhbGxiYWNrID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBjb21wbGV0ZUNhbGxiYWNrLCB0eXBlb2YgY29tcGxldGVDYWxsYmFja0NvbnRleHQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IGNvbXBsZXRlQ2FsbGJhY2tDb250ZXh0KTtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBTdGF0ZVxuICovXG5cbmV4cG9ydCBjbGFzcyBTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG4gICAgcHJvdGVjdGVkIF9hdWRpbzogUGhhc2VyLlNvdW5kW10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgX21lZGlhdG9yOiBNZWRpYXRvciA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgLy8gUGhhc2VyLlN0YXRlIG92ZXJyaWRlc1xuICAgIHB1YmxpYyBpbml0KCk6IHZvaWQge1xuXG4gICAgfVxuXG4gICAgcHVibGljIHByZWxvYWQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnByZWxvYWRJRClcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5hc3NldC5sb2FkQXNzZXRzKHRoaXMucHJlbG9hZElEKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuZ2FtZS5hc3NldC5hbGxTb3VuZHNEZWNvZGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5hc3NldC5vbkxvYWRDb21wbGV0ZUFuZEF1ZGlvRGVjb2RlZC5hZGRPbmNlKHRoaXMuY3JlYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1aWxkSW50ZXJmYWNlKCk7XG4gICAgICAgIHRoaXMuYWZ0ZXJCdWlsZEludGVyZmFjZSgpO1xuICAgICAgICB0aGlzLnN0YXJ0QnVpbGQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2h1dGRvd24ocmVtb3ZlTWVkaWF0b3I6IGJvb2xlYW4gPSB0cnVlLCByZW1vdmVBdWRpbzogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlbW92ZU1lZGlhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU1lZGlhdG9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZUF1ZGlvKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUF1ZGlvKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5zaHV0ZG93bigpO1xuICAgIH1cblxuICAgIC8vIHB1YmxpYyBtZXRob2RzXG4gICAgcHVibGljIGxpc3RCdWlsZFNlcXVlbmNlKCk6IEZ1bmN0aW9uW10ge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHVibGljIGJ1aWxkSW50ZXJmYWNlKCk6IHZvaWQgeyB9XG5cbiAgICBwdWJsaWMgYWZ0ZXJCdWlsZEludGVyZmFjZSgpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIHN0YXJ0QnVpbGQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZ2FtZS5zZXF1ZW5jZS5ydW4odGhpcy5saXN0QnVpbGRTZXF1ZW5jZSgpLCB0aGlzLCB0aGlzLmJ1aWxkSW50ZXJ2YWwsIHRoaXMucHJlQWZ0ZXJCdWlsZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIHByZUFmdGVyQnVpbGQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5nYW1lLnRyYW5zaXRpb24gPT09ICd1bmRlZmluZWQnIHx8ICF0aGlzLmdhbWUudHJhbnNpdGlvbi5jYW5UcmFuc2l0aW9uT3V0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJCdWlsZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS50cmFuc2l0aW9uLmNhblRyYW5zaXRpb25PdXQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS50cmFuc2l0aW9uLm9uVHJhbnNpdGlvbk91dENvbXBsZXRlLmFkZE9uY2UodGhpcy5hZnRlckJ1aWxkLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUudHJhbnNpdGlvbi50cmFuc2l0aW9uT3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYWZ0ZXJCdWlsZCgpOiB2b2lkIHsgfVxuXG4gICAgcHVibGljIGFkZEF1ZGlvKHRyYWNrOiBQaGFzZXIuU291bmQpOiBQaGFzZXIuU291bmQge1xuICAgICAgICBpZiAoIXRoaXMuX2F1ZGlvKSB7XG4gICAgICAgICAgICB0aGlzLl9hdWRpbyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F1ZGlvLnB1c2godHJhY2spO1xuICAgICAgICByZXR1cm4gdHJhY2s7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUF1ZGlvKCk6IHZvaWQge1xuICAgICAgICB2YXIgc291bmQ6IFBoYXNlci5Tb3VuZDtcbiAgICAgICAgaWYgKCF0aGlzLl9hdWRpbykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX2F1ZGlvLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNvdW5kID0gdGhpcy5fYXVkaW8ucG9wKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kICE9PSAndW5kZWZpbmVkJyAmJiBzb3VuZCAhPSBudWxsICYmIHR5cGVvZiBzb3VuZC5zdG9wICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291bmQub25TdG9wICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBzb3VuZC5vblN0b3AucmVtb3ZlQWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvdW5kLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVNZWRpYXRvcigpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYXRvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5fbWVkaWF0b3IuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9tZWRpYXRvciA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gZ2V0dGVyIC8gc2V0dGVyXG4gICAgcHVibGljIGdldCBwcmVsb2FkSUQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBidWlsZEludGVydmFsKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAxMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGFkZCgpOiBHYW1lT2JqZWN0RmFjdG9yeSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWUuYWRkVG9HYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgYXBwKCk6IEFwcGxpY2F0aW9uIHtcbiAgICAgICAgcmV0dXJuIEFwcGxpY2F0aW9uLmdldEluc3RhbmNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBnYW1lKCk6IEdhbWUge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHAuZ2FtZTtcbiAgICB9XG59XG5cbi8qKlxuICogU3RvcmFnZU1hbmFnZXJcbiAqL1xuXG5leHBvcnQgY2xhc3MgU3RvcmFnZU1hbmFnZXIge1xuICAgIHB1YmxpYyBnYW1lOiBHYW1lO1xuICAgIHByaXZhdGUgX2xvY2FsU3RvcmFnZUF2YWlsYWJsZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmdhbWUgPSBBcHBsaWNhdGlvbi5nZXRJbnN0YW5jZSgpLmdhbWU7XG4gICAgICAgIHRoaXMuX2luaXQoKTtcbiAgICB9XG5cbiAgICAvLyBwcml2YXRlIG1ldGhvZHNcbiAgICBwcml2YXRlIF9pbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9sb2NhbFN0b3JhZ2VBdmFpbGFibGUgPSB0aGlzLl9nZXRJc0xvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnbG9jYWwgc3RvcmFnZSBhdmFpbGFibGUnLCB0aGlzLl9sb2NhbFN0b3JhZ2VBdmFpbGFibGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldElzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICdsb2NhbFN0b3JhZ2UnIGluIHdpbmRvdyAmJiB3aW5kb3dbJ2xvY2FsU3RvcmFnZSddICE9PSBudWxsO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRTdHJpbmcoZGF0YTogT2JqZWN0IHwgc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIganNvbkRhdGE7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgY29udmVydCcgKyBkYXRhICsgJyB0byBqc29uJyk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBqc29uRGF0YTtcbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgbWV0aG9kc1xuICAgIC8qKlxuICAgICogZ2V0cyBzdG9yZWQgZGF0YSB3aXRoIHRoZSBzcGVjaWZpZWQga2V5XG4gICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBrZXkgICAgdGhlIExvY2FsU3RvcmFnZSBrZXkgd2hlcmUgdGhlIGRhdGEgaXMgc3RvcmVkXG4gICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc0pTT04gaXMgdGhlIHN0b3JlZCBkYXRhIGp1c3QgYSBzdHJpbmcgb3IgaXMgaXQgc3RyaW5naWZpZWQganNvbiAoYXNzdW1lcyBpdCdzIEpTT04pXG4gICAgKiBAcmV0dXJuIHtTdHJpbmcgfCBPYmplY3R9IHRoZSByZXRyaWV2ZWQgZGF0YSAtIGlmIGl0J3MgYSBKU09OIHN0cmluZywgd2UgcGFyc2UgdGhlIGRhdGEgYW5kIHJldHVybiB0aGUgSlNPTiBvYmplY3RcbiAgICAqL1xuICAgIHB1YmxpYyBnZXRGcm9tTG9jYWxTdG9yYWdlKGtleTogc3RyaW5nLCBpc0pTT046IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHZhciBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vIGRhdGEgc2F2ZWQgd2l0aCB0aGUga2V5Jywga2V5KTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSlNPTiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogc2F2ZXMgZGF0YSB0byBsb2NhbHN0b3JhZ2VcbiAgICAqIEBwYXJhbSAge1N0cmluZ30ga2V5ICAgdGhlIExvY2FsU3RvcmFnZSBrZXkgdGhlIGRhdGEgd2lsbCBiZSBzYXZlZCB0b1xuICAgICogQHBhcmFtICB7U3RyaW5nfE9iamVjdH0gdmFsdWUgdGhlIGRhdGEgdG8gc2F2ZSAoaWYgaXQncyBhbiBvYmplY3QsIHdpbGwgYmUgc3RyaW5naWZpZWQgYmVmb3JlIHNhdmluZylcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwdWJsaWMgc2F2ZVRvTG9jYWxTdG9yYWdlKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgT2JqZWN0KSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbm8gbG9jYWwgc3RvcmFnZScpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHRoaXMuX2dldFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygneW91ciBkYXRhIGNvdWxkIG5vdCBiZSBzYXZlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBjbGVhciBzdG9yZWQgZGF0YVxuICAgICogQHBhcmFtICB7U3RyaW5nfSBrZXkgdGhlIExvY2FsU3RvcmFnZSBrZXkgdG8gY2xlYXJcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKi9cbiAgICBwdWJsaWMgY2xlYXJGcm9tTG9jYWxTdG9yYWdlKGtleTogc3RyaW5nKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbm8gbG9jYWwgc3RvcmFnZScpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUcmFuc2l0aW9uTWFuYWdlclxuICovXG5cbmV4cG9ydCBjbGFzcyBUcmFuc2l0aW9uTWFuYWdlciB7XG4gICAgcHVibGljIGdhbWU6IEdhbWU7XG4gICAgcHVibGljIG9uVHJhbnNpdGlvbk91dENvbXBsZXRlOiBQaGFzZXIuU2lnbmFsID0gbmV3IFBoYXNlci5TaWduYWwoKTtcbiAgICBwdWJsaWMgb25UcmFuc2l0aW9uSW5Db21wbGV0ZTogUGhhc2VyLlNpZ25hbCA9IG5ldyBQaGFzZXIuU2lnbmFsKCk7XG5cbiAgICBwcml2YXRlIF90cmFuc2l0aW9uOiBJVHJhbnNpdGlvbiA9IG51bGw7XG4gICAgcHJpdmF0ZSBfdHJhbnNpdGlvbnM6IE9iamVjdCA9IHt9O1xuICAgIHByaXZhdGUgX2V4Y2VwdGlvbnM6IE9iamVjdCA9IHt9O1xuXG4gICAgcHJpdmF0ZSBfZnJvbVN0YXRlOiBzdHJpbmcgPSBudWxsO1xuICAgIHByaXZhdGUgX3RvU3RhdGU6IHN0cmluZyA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gQXBwbGljYXRpb24uZ2V0SW5zdGFuY2UoKS5nYW1lO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2FkZChpZDogc3RyaW5nLCBvdXRIYW5kbGVyOiBJVHJhbnNpdGlvbkhhbmRsZXIsIHByZWxvYWRIYW5kbGVyOiBJUHJlbG9hZEhhbmRsZXIsIGluSGFuZGxlcjogSVRyYW5zaXRpb25IYW5kbGVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25zW2lkXSA9IHtcbiAgICAgICAgICAgIG91dEhhbmRsZXI6IG91dEhhbmRsZXIsXG4gICAgICAgICAgICBwcmVsb2FkSGFuZGxlcjogcHJlbG9hZEhhbmRsZXIsXG4gICAgICAgICAgICBpbkhhbmRsZXI6IGluSGFuZGxlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldFRyYW5zaXRpb24oaW5TdGF0ZTogc3RyaW5nLCBvdXRTdGF0ZTogc3RyaW5nKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uID0gdGhpcy5fdHJhbnNpdGlvbnNbaW5TdGF0ZSArICcvJyArIG91dFN0YXRlXTtcbiAgICAgICAgaWYgKHR5cGVvZiB0cmFuc2l0aW9uID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHRyYW5zaXRpb24gPSB0aGlzLl90cmFuc2l0aW9uc1snYWxsJ107XG5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0cmFuc2l0aW9uID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiB0cmFuc2l0aW9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3RyYW5zaXRpb25JbkNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uID0gdGhpcy5fZ2V0VHJhbnNpdGlvbih0aGlzLl9mcm9tU3RhdGUsIHRoaXMuX3RvU3RhdGUpO1xuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zaXRpb24pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl90cmFuc2l0aW9uLnByZWxvYWRIYW5kbGVyLmxvYWRTdGFydCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5hc3NldC5vbkxvYWRTdGFydC5hZGRPbmNlKHRoaXMuX3RyYW5zaXRpb24ucHJlbG9hZEhhbmRsZXIubG9hZFN0YXJ0LCB0aGlzLl90cmFuc2l0aW9uLnByZWxvYWRIYW5kbGVyKTtcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX3RyYW5zaXRpb24ucHJlbG9hZEhhbmRsZXIubG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWUuYXNzZXQub25GaWxlQ29tcGxldGUuYWRkKHRoaXMuX3RyYW5zaXRpb24ucHJlbG9hZEhhbmRsZXIubG9hZFByb2dyZXNzLCB0aGlzLl90cmFuc2l0aW9uLnByZWxvYWRIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2FtZS5hc3NldC5vbkxvYWRDb21wbGV0ZUFuZEF1ZGlvRGVjb2RlZC5hZGRPbmNlKHRoaXMuX3ByZWxvYWRDb21wbGV0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMub25UcmFuc2l0aW9uSW5Db21wbGV0ZS5kaXNwYXRjaCgpO1xuXG4gICAgICAgIHRoaXMuZ2FtZS5jaGFuZ2VTdGF0ZSh0aGlzLl90b1N0YXRlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF90cmFuc2l0aW9uT3V0Q29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm9uVHJhbnNpdGlvbk91dENvbXBsZXRlLmRpc3BhdGNoKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcHJlbG9hZENvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uID0gdGhpcy5fZ2V0VHJhbnNpdGlvbih0aGlzLl9mcm9tU3RhdGUsIHRoaXMuX3RvU3RhdGUpO1xuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zaXRpb24pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5nYW1lLmFzc2V0Lm9uRmlsZUNvbXBsZXRlLnJlbW92ZSh0aGlzLl90cmFuc2l0aW9uLnByZWxvYWRIYW5kbGVyLmxvYWRQcm9ncmVzcywgdGhpcy5fdHJhbnNpdGlvbi5wcmVsb2FkSGFuZGxlcik7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl90cmFuc2l0aW9uLnByZWxvYWRIYW5kbGVyLmxvYWRDb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb24ucHJlbG9hZEhhbmRsZXIubG9hZENvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2xlYXJUcmFuc2l0aW9uKCkge1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uLm91dEhhbmRsZXIudHJhbnNpdGlvbkluQ29tcGxldGUucmVtb3ZlKHRoaXMuX3RyYW5zaXRpb25PdXRDb21wbGV0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb24uaW5IYW5kbGVyLnRyYW5zaXRpb25PdXRDb21wbGV0ZS5yZW1vdmUodGhpcy5fdHJhbnNpdGlvbkluQ29tcGxldGUsIHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWUuYXNzZXQub25Mb2FkQ29tcGxldGVBbmRBdWRpb0RlY29kZWQucmVtb3ZlKHRoaXMuX3ByZWxvYWRDb21wbGV0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZS5hc3NldC5vbkxvYWRTdGFydC5yZW1vdmUodGhpcy5fdHJhbnNpdGlvbi5wcmVsb2FkSGFuZGxlci5sb2FkU3RhcnQsIHRoaXMuX3RyYW5zaXRpb24ucHJlbG9hZEhhbmRsZXIpO1xuICAgICAgICB0aGlzLmdhbWUuYXNzZXQub25GaWxlQ29tcGxldGUucmVtb3ZlKHRoaXMuX3RyYW5zaXRpb24ucHJlbG9hZEhhbmRsZXIubG9hZFByb2dyZXNzLCB0aGlzLl90cmFuc2l0aW9uLnByZWxvYWRIYW5kbGVyKTtcblxuICAgICAgICB0aGlzLl90cmFuc2l0aW9uID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgbWV0aG9kc1xuXG4gICAgLyoqXG4gICAgKiBBZGRzIGEgdHJhbnNpdGlvbiBoYW5kbGVyIGZvciBhIHNwZWNpZmljIGZyb20gLyB0byBzdGF0ZSBjb21iaW5hdGlvblxuICAgICogcGFzcyB0aGUgZnJvbSAvIHRvIHN0YXRlcyBhcyB0aGUgZmlyc3QgMiBhcmd1bWVudHMsIGFuZCBhZGRpdGlvbmFsIGFyZ3VtZW50cyBmb3Igd2hpY2ggaW5zdGFuY2Ugd2lsbCBoYW5kbGUgdGhlIHRyYW5zaXRpb25cbiAgICAqIGlmIG9ubHkgMyBhcmdzIGFyZSBwYXNzZWQsIHRoZSBpbnN0YW5jZSB3aWxsIGhhbmRsZSB0aGUgaW4gLyBvdXQgdHJhbnNpdGlvbiwgYW5kIHRoZSBwcmVsb2FkaW5nXG4gICAgKiBFLkcuXG4gICAgKiB0aGlzLmdhbWUudHJhbnNpdGlvbi5hZGQodGhpcy5nYW1lLmNvbnN0YW50cy5TVEFURV9QUkVMT0FELCB0aGlzLmdhbWUuY29uc3RhbnRzLlNUQVRFX01FTlUsIHRoaXMuZ2FtZS5wcmVsb2FkZXIpO1xuICAgICpcbiAgICAqIGlmIDUgYXJndW1lbnRzIGFyZSBwYXNzZWQsIGEgZGlmZmVyZW50IGluc3RhbmNlIGNhbiBiZSB1c2VkIGZvciBpbiB0cmFuc2l0aW9uLCBwcmVsb2FkaW5nLCBhbmQgb3V0IHRyYW5zaXRpb25cbiAgICAqIEUuRy5cbiAgICAqIHRoaXMuZ2FtZS50cmFuc2l0aW9uLmFkZCh0aGlzLmdhbWUuY29uc3RhbnRzLlNUQVRFX1BSRUxPQUQsIHRoaXMuZ2FtZS5jb25zdGFudHMuU1RBVEVfTUVOVSwgdGhpcy5nYW1lLnRyYW5zaXRpb25PdXRIYW5kbGVyLCB0aGlzLmdhbWUucHJlbG9hZEhhbmRsZXIsIHRoaXMuZ2FtZS50cmFuc2l0aW9uSW5IYW5kbGVyKTtcbiAgICAqXG4gICAgKiB0cmFuc2l0aW9uIGhhbmRsZXJzIGFyZSBleHBlY3RlZCB0byBiZWhhdmUgYXMgZm9sbG93czpcbiAgICAqIGFuIG91dCB0cmFuc2l0aW9uIGhhbmRsZXIgc2hvdWxkIGhhdmUgYSB0cmFuc2l0aW9uSW4gbWV0aG9kIGFuZCBkaXNwYXRjaCBhIHRyYW5zaXRpb25Db21wbGV0ZSBzaWduYWwgd2hlbiBkb25lXG4gICAgKiBhbiBpbiB0cmFuc2l0aW9uIGhhbmRsZXIgc2hvdWxkIGhhdmUgYSB0cmFuc2l0aW9uT3V0IG1ldGhvZCBhbmQgZGlzcGF0Y2ggYSB0cmFuc2l0aW9uQ09tcGxldGUgc2lnbmFsIHdoZW4gZG9uZVxuICAgICogYSBwcmVsb2FkIGhhbmRsZXIgc2hvdWxkIGhhdmUgbG9hZFN0YXJ0LCBsb2FkUHJvZ3Jlc3MsIGFuZCBsb2FkQ29tcGxldGUgbWV0aG9kc1xuICAgICogdGhlIGxvYWRQcm9ncmVzcyBtZXRob2QgbWF5IGFjY2VwdCBhIHVwIHRvIDQgcGFyYW1ldGVycyBmb3IgcHJvZ3Jlc3MgKHBlcmNlbnQgb2YgZmlsZXMgbG9hZGVkKSwgaWQsIGZpbGVJbmRleCwgYW5kIHRvdGFsRmlsZXNcbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZnJvbVN0YXRlIC0gdGhlIHN0YXRlIGJlaW5nIHRyYW5zaXRpb25lZCBmcm9tXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdG9TdGF0ZSAtIHRoZSBzdGF0ZSBiZWluZyB0cmFuc2l0aW9uZWQgdG9cbiAgICAqIEBwYXJhbSB7b3V0SGFuZGxlcn0gb3V0SGFuZGxlciAtIHRoZSBpbnN0YW5jZSB0aGF0IHdpbGwgaGFuZGxlIHRoZSB0cmFuc2l0aW9uIGZyb20gdGhlIGZyb21TdGF0ZVxuICAgICogQHBhcmFtIHtwcmVsb2FkSGFuZGxlcn0gcHJlbG9hZEhhbmRsZXIgLSB0aGUgaW5zdGFuY2UgdGhhdCB3aWxsIGhhbmRsZSBwcmVsb2FkaW5nIHRoZSB0b1N0YXRlXG4gICAgKiBAcGFyYW0ge2luSGFuZGxlcn0gaW5IYW5kbGVyIC0gdGhlIGluc3RhbmNlIHRoYXQgd2lsbCBoYW5kbGUgdGhlIGluIHRyYW5zaXRpb24gd2hlbiB0aGUgdG9TdGF0ZSBpcyBjb21wbGV0ZWx5IGxvYWRlZFxuICAgICogQHJldHVybiB7T2JqZWN0fSB0cmFuc2l0aW9uIHJlZmVyZW5jZSB0aGF0IHdhcyBhZGRlZCB0byBfdHJhbnNpdGlvbnNcbiAgICAqL1xuICAgIHB1YmxpYyBhZGQoZnJvbVN0YXRlOiBzdHJpbmcsIHRvU3RhdGU6IHN0cmluZyB8IElQcmVsb2FkSGFuZGxlciwgb3V0SGFuZGxlcj86IElUcmFuc2l0aW9uSGFuZGxlciwgcHJlbG9hZEhhbmRsZXI/OiBJUHJlbG9hZEhhbmRsZXIsIGluSGFuZGxlcj86IElUcmFuc2l0aW9uSGFuZGxlcik6IHZvaWQge1xuICAgICAgICB2YXIgYXJncztcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCA1KSB7XG4gICAgICAgICAgICBpZiAoZnJvbVN0YXRlID09PSAnYWxsJykge1xuICAgICAgICAgICAgICAgIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGQoJ2FsbCcsIGFyZ3NbMF0sIGFyZ3NbMF0sIGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZCgnYWxsJywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZChmcm9tU3RhdGUgKyAnLycgKyB0b1N0YXRlLCBhcmdzWzBdLCBhcmdzWzBdLCBhcmdzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGQoZnJvbVN0YXRlICsgJy8nICsgdG9TdGF0ZSwgb3V0SGFuZGxlciwgcHJlbG9hZEhhbmRsZXIsIGluSGFuZGxlcik7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEFsbChoYW5kbGVyOiBJUHJlbG9hZEhhbmRsZXIpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZCgnYWxsJywgaGFuZGxlciwgaGFuZGxlciwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBBZGRzIGFuIGV4Y2VwdGlvbiB0byB0aGUgRGlqb24uVHJhbnNpdGlvbk1hbmFnZXIgaW4gdGhlIGNhc2Ugd2hlcmUgJ2FsbCcgaGFzIGJlZW4gdXNlZFxuICAgICogQHBhcmFtIHtzdHJpbmd9IHN0YXRlIC0gdGhlIHN0YXRlIHRvIGFkZCB0aGUgZXhjZXB0aW9uIGZvclxuICAgICovXG4gICAgcHVibGljIGFkZEV4Y2VwdGlvbihzdGF0ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2V4Y2VwdGlvbnNbc3RhdGVdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFJlbW92ZXMgYSB0cmFuc2l0aW9uIGhhbmRsZXIgZm9yIGEgc3BlY2lmaWMgZnJvbSAvIHRvIHN0YXRlIGNvbWJpbmF0aW9uXG4gICAgKi9cbiAgICBwdWJsaWMgcmVtb3ZlKGZyb21TdGF0ZTogc3RyaW5nLCB0b1N0YXRlPzogc3RyaW5nKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uc1tmcm9tU3RhdGVdID0gbnVsbDtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90cmFuc2l0aW9uc1tmcm9tU3RhdGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbnNbZnJvbVN0YXRlICsgJy8nICsgdG9TdGF0ZV0gPSBudWxsO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3RyYW5zaXRpb25zW2Zyb21TdGF0ZSArICcvJyArIHRvU3RhdGVdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBTdGFydCB0aGUgdHJhbnNpdGlvbiB0byBhIG5ldyBzdGF0ZVxuICAgICogQHBhcmFtIHtzdHJpbmd9IHN0YXRlIC0gdGhlIHN0YXRlIHRvIHRyYW5zaXRpb24gdG9cbiAgICAqL1xuICAgIHB1YmxpYyB0byhzdGF0ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5fY2xlYXJUcmFuc2l0aW9uKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2V4Y2VwdGlvbnNbc3RhdGVdKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2Zyb21TdGF0ZSA9IHRoaXMuZ2FtZS5zdGF0ZS5jdXJyZW50O1xuICAgICAgICB0aGlzLl90b1N0YXRlID0gc3RhdGU7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbiA9IHRoaXMuX2dldFRyYW5zaXRpb24odGhpcy5fZnJvbVN0YXRlLCB0aGlzLl90b1N0YXRlKTtcblxuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyB0cmFuc2l0aW9uIGZvdW5kIGZvcjonLCB0aGlzLmdhbWUuc3RhdGUuY3VycmVudCArICcgdG8gJyArIHN0YXRlKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5jaGFuZ2VTdGF0ZSh0aGlzLl90b1N0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhbnNpdGlvbkluKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHRyYW5zaXRpb25JbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90cmFuc2l0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fdHJhbnNpdGlvbi5vdXRIYW5kbGVyLnRyYW5zaXRpb25JbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbi5vdXRIYW5kbGVyLnRyYW5zaXRpb25JbkNvbXBsZXRlLmFkZE9uY2UodGhpcy5fdHJhbnNpdGlvbkluQ29tcGxldGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbi5vdXRIYW5kbGVyLnRyYW5zaXRpb25JbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNhblRyYW5zaXRpb25PdXQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5fZXhjZXB0aW9uc1t0aGlzLmdhbWUuc3RhdGUuY3VycmVudF0gJiYgdGhpcy5fdHJhbnNpdGlvbiAmJiB0aGlzLl90cmFuc2l0aW9uLmluSGFuZGxlciAmJiB0eXBlb2YgdGhpcy5fdHJhbnNpdGlvbi5pbkhhbmRsZXIudHJhbnNpdGlvbk91dCA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEFmdGVyIHRoZSBzdGF0ZSBpcyBmdWxseSBsb2FkZWQgYW5kICdidWlsdCcgYSBjYWxsIHRvIHRoaXMgaXMgbWFkZVxuICAgICogdGhpcyBpcyBjdXJyZW50bHkgbWFkZSBmcm9tIEJhc2VTdGF0ZSBpbiB0aGUgJ2FmdGVyQnVpbGQnIG1ldGhvZFxuICAgICovXG4gICAgcHVibGljIHRyYW5zaXRpb25PdXQoKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb24uaW5IYW5kbGVyLnRyYW5zaXRpb25PdXRDb21wbGV0ZS5hZGRPbmNlKHRoaXMuX3RyYW5zaXRpb25PdXRDb21wbGV0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb24uaW5IYW5kbGVyLnRyYW5zaXRpb25PdXQoKTtcbiAgICB9XG59IiwiaW1wb3J0IHtHYW1lfSBmcm9tICcuL2NvcmUnO1xuaW1wb3J0IHtNZWRpYXRvciwgTW9kZWwsIE5vdGlmaWNhdGlvbn0gZnJvbSAnLi9tdmMnO1xuaW1wb3J0IHtJTm90aWZpZXIsIElPYnNlcnZlciwgSU5vdGlmaWNhdGlvbn0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7Tm90aWZpY2F0aW9uc30gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBjbGFzcyBBcHBsaWNhdGlvbiBpbXBsZW1lbnRzIElOb3RpZmllciB7XG4gICAgLy8gc3RhdGljIGNvbnN0YW50c1xuICAgIHByb3RlY3RlZCBzdGF0aWMgaW5zdGFuY2UgPSBudWxsO1xuICAgIHByb3RlY3RlZCBzdGF0aWMgU0lOR0xFVE9OX01TRyA9ICdBcHBsaWNhdGlvbiBzaW5nbGV0b24gYWxyZWFkeSBjb25zdHJ1Y3RlZCEnO1xuXG4gICAgLy8gcHVibGljIFxuICAgIHB1YmxpYyBnYW1lOiBHYW1lO1xuXG4gICAgLy8gcHJvdGVjdGVkICAgICAgICBcbiAgICBwcm90ZWN0ZWQgX21lZGlhdG9yOiBNZWRpYXRvciA9IG51bGw7XG4gICAgcHJvdGVjdGVkIF9tb2RlbHM6IHsgW25hbWU6IHN0cmluZ106IE1vZGVsIH0gPSB7fTtcbiAgICBwcm90ZWN0ZWQgX21lZGlhdG9yczogeyBbbmFtZTogc3RyaW5nXTogTWVkaWF0b3IgfSA9IHt9O1xuICAgIHByb3RlY3RlZCBfb2JzZXJ2ZXJNYXA6IHsgW25hbWU6IHN0cmluZ106IElPYnNlcnZlcltdIH0gPSB7fTtcblxuICAgIC8vZm9yIGRlYnVnZ2luZ1xuICAgIHByaXZhdGUgc3RhdGljIF9oYXNoUXVlcnk6IHt9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGlmIChBcHBsaWNhdGlvbi5pbnN0YW5jZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKEFwcGxpY2F0aW9uLlNJTkdMRVRPTl9NU0cpO1xuXG4gICAgICAgIEFwcGxpY2F0aW9uLmluc3RhbmNlID0gdGhpcztcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgQXBwbGljYXRpb24uX2dldEhhc2hRdWVyeSgpO1xuICAgICAgICAgICAgdGhpcy53aW5kb3dIYXNoQ2hhbmdlKCk7XG4gICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUdhbWUoKTtcbiAgICAgICAgdGhpcy5zdGFydEdhbWUoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgd2luZG93SGFzaENoYW5nZSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgbWV0aG9kc1xuICAgIHByb3RlY3RlZCBjcmVhdGVHYW1lKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmdhbWUgPSBuZXcgR2FtZSh7XG4gICAgICAgICAgICB3aWR0aDogODAwLFxuICAgICAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgICAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXG4gICAgICAgICAgICByZW5kZXJlcjogUGhhc2VyLkFVVE8sXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHN0YXJ0R2FtZSgpOiB2b2lkIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGFwcCdzIGluaXRpYWwgc3RhdGUgaGVyZVxuICAgIH1cblxuICAgIHB1YmxpYyBhZGRQbHVnaW5zKCkge1xuICAgICAgICB0aGlzLmdhbWUuYWRkUGx1Z2lucygpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWdpc3Rlck1vZGVsKG1vZGVsOiBNb2RlbCk6IE1vZGVsIHtcbiAgICAgICAgaWYgKHRoaXMuX21vZGVsc1ttb2RlbC5uYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgKG5ldyBFcnJvcignQXBwbGljYXRpb246OiBhIG1vZGVsIHdpdGggdGhlIG5hbWUgXCInICsgbW9kZWwubmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kZWxzW21vZGVsLm5hbWVdID0gbW9kZWw7XG5cbiAgICAgICAgbW9kZWwub25SZWdpc3RlcigpO1xuXG4gICAgICAgIHJldHVybiBtb2RlbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmV0cmlldmVNb2RlbChtb2RlbE5hbWU6IHN0cmluZyk6IE1vZGVsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsc1ttb2RlbE5hbWVdIHx8IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZU1vZGVsKG1vZGVsVG9SZW1vdmU6IE1vZGVsKTogdm9pZCB7XG4gICAgICAgIGxldCBuYW1lID0gbW9kZWxUb1JlbW92ZS5uYW1lO1xuICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLl9tb2RlbHNbbmFtZV07XG5cbiAgICAgICAgaWYgKCFtb2RlbClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBtb2RlbC5vblJlbW92ZWQoKTtcblxuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxzW25hbWVdO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWdpc3Rlck1lZGlhdG9yKG1lZGlhdG9yOiBNZWRpYXRvcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWF0b3JzW21lZGlhdG9yLm5hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyAobmV3IEVycm9yKCdBcHBsaWNhdGlvbjo6IGEgbWVkaWF0b3Igd2l0aCB0aGUgbmFtZSBcIicgKyBtZWRpYXRvci5uYW1lICsgJ1wiIGFscmVhZHkgZXhpc3RzLicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21lZGlhdG9yc1ttZWRpYXRvci5uYW1lXSA9IG1lZGlhdG9yO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyT2JzZXJ2ZXIobWVkaWF0b3IpO1xuXG4gICAgICAgIG1lZGlhdG9yLm9uUmVnaXN0ZXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmV0cmlldmVNZWRpYXRvcihtZWRpYXRvck5hbWU6IHN0cmluZyk6IE1lZGlhdG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhdG9yc1ttZWRpYXRvck5hbWVdIHx8IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZU1lZGlhdG9yKG1lZGlhdG9yVG9SZW1vdmU6IE1lZGlhdG9yKTogdm9pZCB7XG4gICAgICAgIGxldCBuYW1lID0gbWVkaWF0b3JUb1JlbW92ZS5uYW1lO1xuICAgICAgICBsZXQgbWVkaWF0b3IgPSB0aGlzLl9tZWRpYXRvcnNbbmFtZV07XG5cbiAgICAgICAgaWYgKCFtZWRpYXRvcilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBtZWRpYXRvci5saXN0Tm90aWZpY2F0aW9uSW50ZXJlc3RzKCkuZm9yRWFjaChpbnRlcmVzdCA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU9ic2VydmVyKGludGVyZXN0LCBtZWRpYXRvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1lZGlhdG9yLm9uUmVtb3ZlZCgpO1xuICAgICAgICBkZWxldGUgdGhpcy5fbWVkaWF0b3JzW25hbWVdO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWdpc3Rlck9ic2VydmVyKG9ic2VydmVyOiBJT2JzZXJ2ZXIpOiB2b2lkIHtcbiAgICAgICAgb2JzZXJ2ZXIubGlzdE5vdGlmaWNhdGlvbkludGVyZXN0cygpLmZvckVhY2gobm90aWZpY2F0aW9uTmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fb2JzZXJ2ZXJNYXBbbm90aWZpY2F0aW9uTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29ic2VydmVyTWFwW25vdGlmaWNhdGlvbk5hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vYnNlcnZlck1hcFtub3RpZmljYXRpb25OYW1lXS5wdXNoKG9ic2VydmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc3RvcHMgYW4gb2JzZXJ2ZXIgZnJvbSBiZWluZyBpbnRlcmVzdGVkIGluIGEgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5vdGlmaWNhdGlvbk5hbWVcbiAgICAgKiBAcGFyYW0ge0lPYnNlcnZlcn0gb2JzZXJ2ZXJUb1JlbW92ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgcHVibGljIHJlbW92ZU9ic2VydmVyKG5vdGlmaWNhdGlvbk5hbWU6IHN0cmluZywgb2JzZXJ2ZXJUb1JlbW92ZTogSU9ic2VydmVyKTogdm9pZCB7XG4gICAgICAgIC8vVGhlIG9ic2VydmVyIGxpc3QgZm9yIHRoZSBub3RpZmljYXRpb24gdW5kZXIgaW5zcGVjdGlvblxuICAgICAgICBsZXQgb2JzZXJ2ZXJzOiBJT2JzZXJ2ZXJbXSA9IG51bGwsXG4gICAgICAgICAgICBvYnNlcnZlcjogSU9ic2VydmVyID0gbnVsbCxcbiAgICAgICAgICAgIGk6IG51bWJlciA9IDA7XG5cbiAgICAgICAgb2JzZXJ2ZXJzID0gdGhpcy5fb2JzZXJ2ZXJNYXBbbm90aWZpY2F0aW9uTmFtZV07XG5cbiAgICAgICAgLy9GaW5kIHRoZSBvYnNlcnZlciBmb3IgdGhlIG5vdGlmeUNvbnRleHQuXG4gICAgICAgIGkgPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IG9ic2VydmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlciA9PT0gb2JzZXJ2ZXJUb1JlbW92ZSkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICAgKiBBbHNvLCB3aGVuIGEgTm90aWZpY2F0aW9uJ3MgT2JzZXJ2ZXIgbGlzdCBsZW5ndGggZmFsbHMgdG8gemVybywgZGVsZXRlIHRoZVxuICAgICAgICAgKiBub3RpZmljYXRpb24ga2V5IGZyb20gdGhlIG9ic2VydmVyIG1hcC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvYnNlcnZlcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vYnNlcnZlck1hcFtub3RpZmljYXRpb25OYW1lXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBzZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWU6IHN0cmluZywgbm90ZmljYXRpb25Cb2R5PzogYW55KTogdm9pZCB7XG4gICAgICAgIGxldCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbk5hbWUsIG5vdGZpY2F0aW9uQm9keSk7XG4gICAgICAgIHRoaXMuX25vdGlmeU9ic2VydmVycyhub3RpZmljYXRpb24pO1xuXG4gICAgICAgIG5vdGlmaWNhdGlvbi5kZXN0cm95KCk7XG4gICAgICAgIG5vdGlmaWNhdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gcHJpdmF0ZSBtZXRob2RzXG4gICAgcHJpdmF0ZSBfbm90aWZ5T2JzZXJ2ZXJzKG5vdGlmaWNhdGlvbjogSU5vdGlmaWNhdGlvbikge1xuICAgICAgICBsZXQgb2JzZXJ2ZXI6IElPYnNlcnZlciA9IG51bGwsXG4gICAgICAgICAgICBvYnNlcnZlcnM6IElPYnNlcnZlcltdID0gbnVsbDtcblxuICAgICAgICBjb25zdCBub3RpZmljYXRpb25OYW1lOiBzdHJpbmcgPSBub3RpZmljYXRpb24uZ2V0TmFtZSgpO1xuICAgICAgICBjb25zdCBvYnNlcnZlcnNSZWY6IElPYnNlcnZlcltdID0gdGhpcy5fb2JzZXJ2ZXJNYXBbbm90aWZpY2F0aW9uTmFtZV07XG5cbiAgICAgICAgaWYgKG9ic2VydmVyc1JlZikge1xuICAgICAgICAgICAgLy8gY2xvbmUgdGhlIGFycmF5IGluIGNhc2UgYW4gb2JzZXJ2ZXIgZ2V0cyByZW1vdmVkIHdoaWxlIHRoZSBub3RpZmljYXRpb24gaXMgYmVpbmcgc2VudFxuICAgICAgICAgICAgb2JzZXJ2ZXJzID0gb2JzZXJ2ZXJzUmVmLnNsaWNlKDApO1xuICAgICAgICAgICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzZXJ2ZXIgPT4ge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmhhbmRsZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfZ2V0SGFzaFF1ZXJ5KCk6IHZvaWQge1xuICAgICAgICBBcHBsaWNhdGlvbi5faGFzaFF1ZXJ5ID0ge307XG4gICAgICAgIGlmICghd2luZG93LmxvY2F0aW9uLmhhc2ggfHwgd2luZG93LmxvY2F0aW9uLmhhc2ggPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSwgd2luZG93LmxvY2F0aW9uLmhhc2gubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgYUhhc2g6IHN0cmluZ1tdID0gaGFzaC5zcGxpdCgnJicpO1xuICAgICAgICBhSGFzaC5mb3JFYWNoKGhhc2hQYWlyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFIYXNoID0gaGFzaFBhaXIuc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLl9oYXNoUXVlcnlbYUhhc2hbMF1dID0gL15cXGQrJC8udGVzdChhSGFzaFsxXSkgPyBwYXJzZUludChhSGFzaFsxXSkgOiBhSGFzaFsxXTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gc3RhdGljIG1ldGhvZHNcblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIEFwcGxpY2F0aW9uIHNpbmdsZXRvblxuICAgICAqIEByZXR1cm4ge0FwcGxpY2F0aW9ufVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQXBwbGljYXRpb24ge1xuICAgICAgICBpZiAoIUFwcGxpY2F0aW9uLmluc3RhbmNlKVxuICAgICAgICAgICAgQXBwbGljYXRpb24uaW5zdGFuY2UgPSBuZXcgQXBwbGljYXRpb24oKTtcblxuICAgICAgICByZXR1cm4gQXBwbGljYXRpb24uaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0cyBhIHF1ZXJ5IHZhcmlhYmxlIGZyb20gdGhlIHdpbmRvdy5sb2NhdGlvbiBoYXNoXG4gICAgICogYXNzdW1lcyBzb21ldGhpbmcgbGlrZSBodHRwOi8vdXJsLyNmb289YmFyJmJhej1mb29cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFyaWFibGVJZFxuICAgICAqIEByZXR1cm4ge2FueX1cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHF1ZXJ5VmFyKHZhcmlhYmxlSWQ6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIGlmIChBcHBsaWNhdGlvbi5faGFzaFF1ZXJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLl9nZXRIYXNoUXVlcnkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXBwbGljYXRpb24uX2hhc2hRdWVyeVt2YXJpYWJsZUlkXSB8fCBudWxsO1xuICAgIH1cblxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
